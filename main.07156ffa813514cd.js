"use strict";(self.webpackChunkexpense_app_2=self.webpackChunkexpense_app_2||[]).push([[179],{2011:(At,Re,H)=>{H.d(Re,{Dh:()=>Te,GT:()=>oe,cc:()=>Pe,hO:()=>Xe,on:()=>Y,pX:()=>me,xv:()=>ve});var d=H(4650),se=H(9260),U=H(4976);At=H.hmd(At);const pe=["ngOnDestroy"],me=(Ue,He,Ke,je={})=>new Proxy(Ue,{get:(Me,Ae)=>Ke.runOutsideAngular(()=>{var Je;if(Ue[Ae])return!(null===(Je=je?.spy)||void 0===Je)&&Je.get&&je.spy.get(Ae,Ue[Ae]),Ue[Ae];if(pe.indexOf(Ae)>-1)return()=>{};const $e=He.toPromise().then(_t=>{const fe=_t&&_t[Ae];return"function"==typeof fe?fe.bind(_t):fe&&fe.then?fe.then(Lt=>Ke.run(()=>Lt)):Ke.run(()=>fe)});return new Proxy(()=>{},{get:(_t,fe)=>$e[fe],apply:(_t,fe,Lt)=>$e.then(ht=>{var an;const Ct=ht&&ht(...Lt);return!(null===(an=je?.spy)||void 0===an)&&an.apply&&je.spy.apply(Ae,Lt,Ct),Ct})})})}),oe=(Ue,He)=>{He.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(je=>{Object.defineProperty(Ue.prototype,je,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,je))})})};class Se{constructor(He){return He}}const Te=new d.OlP("angularfire2.app.options"),ve=new d.OlP("angularfire2.app.name");function Y(Ue,He,Ke){const Me="object"==typeof Ke&&Ke||{};Me.name=Me.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Je=se.Z.apps.filter($e=>$e&&$e.name===Me.name)[0]||He.runOutsideAngular(()=>se.Z.initializeApp(Ue,Me));try{JSON.stringify(Ue)!==JSON.stringify(Je.options)&&K("error",`${Je.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(Je)}const K=(Ue,...He)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ue](...He)},te={provide:Se,useFactory:Y,deps:[Te,d.R0b,[new d.FiY,ve]]};let Xe=(()=>{class Ue{constructor(Ke){se.Z.registerVersion("angularfire",U.q4.full,"core"),se.Z.registerVersion("angularfire",U.q4.full,"app-compat"),se.Z.registerVersion("angular",d.q4F.full,Ke.toString())}static initializeApp(Ke,je){return{ngModule:Ue,providers:[{provide:Te,useValue:Ke},{provide:ve,useValue:je}]}}}return Ue.\u0275fac=function(Ke){return new(Ke||Ue)(d.LFG(d.Lbi))},Ue.\u0275mod=d.oAB({type:Ue}),Ue.\u0275inj=d.cJS({providers:[te]}),Ue})();function Pe(Ue,He,Ke,je,Me){const[,Ae,Je]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===Ue)||[];if(Ae)return function rt(Ue,He){try{return Ue.toString()===He.toString()}catch{return Ue===He}}(Me,Je)||(xe("error",`${He} was already initialized on the ${Ke} Firebase App with different settings.${Et?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Me,was:Je})),Ae;{const $e=je();return globalThis.\u0275AngularfireInstanceCache.push([Ue,$e,Me]),$e}}const Et=!!At.hot,xe=(Ue,...He)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ue](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(At,Re,H)=>{H.d(Re,{q4:()=>nr,iC:()=>xs,fc:()=>yf,HU:()=>Pt,vb:()=>Iu,JM:()=>Du});var d=H(4650),se=H(259),U=H(5861),pe=H(6881),me=H(2090),oe=H(4859),Se=H(1877);const Te=(C,S)=>S.some(k=>C instanceof k);let ve,Y;const Xe=new WeakMap,Pe=new WeakMap,rt=new WeakMap,Et=new WeakMap,xe=new WeakMap;let Ke={get(C,S,k){if(C instanceof IDBTransaction){if("done"===S)return Pe.get(C);if("objectStoreNames"===S)return C.objectStoreNames||rt.get(C);if("store"===S)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Je(C[S])},set:(C,S,k)=>(C[S]=k,!0),has:(C,S)=>C instanceof IDBTransaction&&("done"===S||"store"===S)||S in C};function Ae(C){return"function"==typeof C?function Me(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...S){return C.apply($e(this),S),Je(Xe.get(this))}:function(...S){return Je(C.apply($e(this),S))}:function(S,...k){const B=C.call($e(this),S,...k);return rt.set(B,S.sort?S.sort():[S]),Je(B)}}(C):(C instanceof IDBTransaction&&function He(C){if(Pe.has(C))return;const S=new Promise((k,B)=>{const Q=()=>{C.removeEventListener("complete",ne),C.removeEventListener("error",he),C.removeEventListener("abort",he)},ne=()=>{k(),Q()},he=()=>{B(C.error||new DOMException("AbortError","AbortError")),Q()};C.addEventListener("complete",ne),C.addEventListener("error",he),C.addEventListener("abort",he)});Pe.set(C,S)}(C),Te(C,function K(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ke):C)}function Je(C){if(C instanceof IDBRequest)return function Ue(C){const S=new Promise((k,B)=>{const Q=()=>{C.removeEventListener("success",ne),C.removeEventListener("error",he)},ne=()=>{k(Je(C.result)),Q()},he=()=>{B(C.error),Q()};C.addEventListener("success",ne),C.addEventListener("error",he)});return S.then(k=>{k instanceof IDBCursor&&Xe.set(k,C)}).catch(()=>{}),xe.set(S,C),S}(C);if(Et.has(C))return Et.get(C);const S=Ae(C);return S!==C&&(Et.set(C,S),xe.set(S,C)),S}const $e=C=>xe.get(C),Lt=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],an=new Map;function Ct(C,S){if(!(C instanceof IDBDatabase)||S in C||"string"!=typeof S)return;if(an.get(S))return an.get(S);const k=S.replace(/FromIndex$/,""),B=S!==k,Q=ht.includes(k);if(!(k in(B?IDBIndex:IDBObjectStore).prototype)||!Q&&!Lt.includes(k))return;const ne=function(){var he=(0,U.Z)(function*(tt,...Ye){const xt=this.transaction(tt,Q?"readwrite":"readonly");let Ht=xt.store;return B&&(Ht=Ht.index(Ye.shift())),(yield Promise.all([Ht[k](...Ye),Q&&xt.done]))[0]});return function(Ye){return he.apply(this,arguments)}}();return an.set(S,ne),ne}!function je(C){Ke=C(Ke)}(C=>({...C,get:(S,k,B)=>Ct(S,k)||C.get(S,k,B),has:(S,k)=>!!Ct(S,k)||C.has(S,k)}));const we="@firebase/installations",Ee="0.6.4",ke=1e4,Fe=`w:${Ee}`,et="FIS_v2",Ze="https://firebaseinstallations.googleapis.com/v1",It=36e5,sn=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nt(C){return C instanceof me.ZR&&C.code.includes("request-failed")}function xn({projectId:C}){return`${Ze}/projects/${C}/installations`}function Nn(C){return{token:C.token,requestStatus:2,expiresIn:Za(C.expiresIn),creationTime:Date.now()}}function $n(C,S){return ur.apply(this,arguments)}function ur(){return(ur=(0,U.Z)(function*(C,S){const B=(yield S.json()).error;return sn.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Cr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Mo(C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,U.Z)(function*(C){const S=yield C();return S.status>=500&&S.status<600?C():S})).apply(this,arguments)}function Za(C){return Number(C.replace("s","000"))}function Tt(){return(Tt=(0,U.Z)(function*({appConfig:C,heartbeatServiceProvider:S},{fid:k}){const B=xn(C),Q=Cr(C),ne=S.getImmediate({optional:!0});if(ne){const xt=yield ne.getHeartbeatsHeader();xt&&Q.append("x-firebase-client",xt)}const tt={method:"POST",headers:Q,body:JSON.stringify({fid:k,authVersion:et,appId:C.appId,sdkVersion:Fe})},Ye=yield Mo(()=>fetch(B,tt));if(Ye.ok){const xt=yield Ye.json();return{fid:xt.fid||k,registrationStatus:2,refreshToken:xt.refreshToken,authToken:Nn(xt.authToken)}}throw yield $n("Create Installation",Ye)})).apply(this,arguments)}function Lr(C){return new Promise(S=>{setTimeout(S,C)})}const Ji=/^[cdef][\w-]{21}$/,Dr="";function Os(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const k=function vn(C){return function cd(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ji.test(k)?k:Dr}catch{return Dr}}function En(C){return`${C.appName}!${C.appId}`}const yt=new Map;function zt(C,S){const k=En(C);Ui(k,S),function Ir(C,S){const k=function Br(){return!Qn&&"BroadcastChannel"in self&&(Qn=new BroadcastChannel("[Firebase] FID Change"),Qn.onmessage=C=>{Ui(C.data.key,C.data.fid)}),Qn}();k&&k.postMessage({key:C,fid:S}),function kn(){0===yt.size&&Qn&&(Qn.close(),Qn=null)}()}(k,S)}function Ui(C,S){const k=yt.get(C);if(k)for(const B of k)B(S)}let Qn=null;const Ao="firebase-installations-database",hn=1,Ps="firebase-installations-store";let Cn=null;function Yr(){return Cn||(Cn=function _t(C,S,{blocked:k,upgrade:B,blocking:Q,terminated:ne}={}){const he=indexedDB.open(C,S),tt=Je(he);return B&&he.addEventListener("upgradeneeded",Ye=>{B(Je(he.result),Ye.oldVersion,Ye.newVersion,Je(he.transaction))}),k&&he.addEventListener("blocked",()=>k()),tt.then(Ye=>{ne&&Ye.addEventListener("close",()=>ne()),Q&&Ye.addEventListener("versionchange",()=>Q())}).catch(()=>{}),tt}(Ao,hn,{upgrade:(C,S)=>{0===S&&C.createObjectStore(Ps)}})),Cn}function ei(C,S){return bi.apply(this,arguments)}function bi(){return(bi=(0,U.Z)(function*(C,S){const k=En(C),Q=(yield Yr()).transaction(Ps,"readwrite"),ne=Q.objectStore(Ps),he=yield ne.get(k);return yield ne.put(S,k),yield Q.done,(!he||he.fid!==S.fid)&&zt(C,S.fid),S})).apply(this,arguments)}function ps(C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,U.Z)(function*(C){const S=En(C),B=(yield Yr()).transaction(Ps,"readwrite");yield B.objectStore(Ps).delete(S),yield B.done})).apply(this,arguments)}function ms(C,S){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,U.Z)(function*(C,S){const k=En(C),Q=(yield Yr()).transaction(Ps,"readwrite"),ne=Q.objectStore(Ps),he=yield ne.get(k),tt=S(he);return void 0===tt?yield ne.delete(k):yield ne.put(tt,k),yield Q.done,tt&&(!he||he.fid!==tt.fid)&&zt(C,tt.fid),tt})).apply(this,arguments)}function q(C){return z.apply(this,arguments)}function z(){return z=(0,U.Z)(function*(C){let S;const k=yield ms(C.appConfig,B=>{const Q=function J(C){return Gn(C||{fid:Os(),registrationStatus:0})}(B),ne=function De(C,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(sn.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},B=function le(C,S){return qe.apply(this,arguments)}(C,k);return{installationEntry:k,registrationPromise:B}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Vt(C)}:{installationEntry:S}}(C,Q);return S=ne.registrationPromise,ne.installationEntry});return k.fid===Dr?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}}),z.apply(this,arguments)}function qe(){return qe=(0,U.Z)(function*(C,S){try{const k=yield function hr(C,S){return Tt.apply(this,arguments)}(C,S);return ei(C.appConfig,k)}catch(k){throw Nt(k)&&409===k.customData.serverCode?yield ps(C.appConfig):yield ei(C.appConfig,{fid:S.fid,registrationStatus:0}),k}}),qe.apply(this,arguments)}function Vt(C){return pn.apply(this,arguments)}function pn(){return(pn=(0,U.Z)(function*(C){let S=yield hi(C.appConfig);for(;1===S.registrationStatus;)yield Lr(100),S=yield hi(C.appConfig);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:B}=yield q(C);return B||k}return S})).apply(this,arguments)}function hi(C){return ms(C,S=>{if(!S)throw sn.create("installation-not-found");return Gn(S)})}function Gn(C){return function Mn(C){return 1===C.registrationStatus&&C.registrationTime+ke<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function fr(){return(fr=(0,U.Z)(function*({appConfig:C,heartbeatServiceProvider:S},k){const B=function gs(C,{fid:S}){return`${xn(C)}/${S}/authTokens:generate`}(C,k),Q=function dr(C,{refreshToken:S}){const k=Cr(C);return k.append("Authorization",function ta(C){return`${et} ${C}`}(S)),k}(C,k),ne=S.getImmediate({optional:!0});if(ne){const xt=yield ne.getHeartbeatsHeader();xt&&Q.append("x-firebase-client",xt)}const tt={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:Fe,appId:C.appId}})},Ye=yield Mo(()=>fetch(B,tt));if(Ye.ok)return Nn(yield Ye.json());throw yield $n("Generate Auth Token",Ye)})).apply(this,arguments)}function Fs(C){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,U.Z)(function*(C,S=!1){let k;const B=yield ms(C.appConfig,ne=>{if(!nn(ne))throw sn.create("not-registered");const he=ne.authToken;if(!S&&function Mt(C){return 2===C.requestStatus&&!function wn(C){const S=Date.now();return S<C.creationTime||C.creationTime+C.expiresIn<S+It}(C)}(he))return ne;if(1===he.requestStatus)return k=function ye(C,S){return ue.apply(this,arguments)}(C,S),ne;{if(!navigator.onLine)throw sn.create("app-offline");const tt=function mn(C){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:S})}(ne);return k=function St(C,S){return Ft.apply(this,arguments)}(C,tt),tt}});return k?yield k:B.authToken}),Pl.apply(this,arguments)}function ue(){return(ue=(0,U.Z)(function*(C,S){let k=yield ze(C.appConfig);for(;1===k.authToken.requestStatus;)yield Lr(100),k=yield ze(C.appConfig);const B=k.authToken;return 0===B.requestStatus?Fs(C,S):B})).apply(this,arguments)}function ze(C){return ms(C,S=>{if(!nn(S))throw sn.create("not-registered");return function Hi(C){return 1===C.requestStatus&&C.requestTime+ke<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Ft(){return Ft=(0,U.Z)(function*(C,S){try{const k=yield function cn(C,S){return fr.apply(this,arguments)}(C,S),B=Object.assign(Object.assign({},S),{authToken:k});return yield ei(C.appConfig,B),k}catch(k){if(!Nt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield ei(C.appConfig,B)}else yield ps(C.appConfig);throw k}}),Ft.apply(this,arguments)}function nn(C){return void 0!==C&&2===C.registrationStatus}function Uc(){return(Uc=(0,U.Z)(function*(C){const S=C,{installationEntry:k,registrationPromise:B}=yield q(S);return B?B.catch(console.error):Fs(S).catch(console.error),k.fid})).apply(this,arguments)}function Ya(){return Ya=(0,U.Z)(function*(C,S=!1){const k=C;return yield function Qr(C){return it.apply(this,arguments)}(k),(yield Fs(k,S)).token}),Ya.apply(this,arguments)}function it(){return(it=(0,U.Z)(function*(C){const{registrationPromise:S}=yield q(C);S&&(yield S)})).apply(this,arguments)}function Ro(C){return sn.create("missing-app-config-values",{valueName:C})}const en="installations",na=C=>{const S=C.getProvider("app").getImmediate(),k=function Nl(C){if(!C||!C.options)throw Ro("App Configuration");if(!C.name)throw Ro("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!C.options[k])throw Ro(k);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(S);return{app:S,appConfig:k,heartbeatServiceProvider:(0,pe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Ns=C=>{const S=C.getProvider("app").getImmediate(),k=(0,pe._getProvider)(S,en).getImmediate();return{getId:()=>function vi(C){return Uc.apply(this,arguments)}(k),getToken:Q=>function cm(C){return Ya.apply(this,arguments)}(k,Q)}};(function ko(){(0,pe._registerComponent)(new oe.wA(en,na,"PUBLIC")),(0,pe._registerComponent)(new oe.wA("installations-internal",Ns,"PRIVATE"))})(),(0,pe.registerVersion)(we,Ee),(0,pe.registerVersion)(we,Ee,"esm2017");const fi="@firebase/remote-config",Ai=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class to{constructor(S,k,B,Q){this.client=S,this.storage=k,this.storageCache=B,this.logger=Q}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-k,Q=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var k=this;return(0,U.Z)(function*(){const[B,Q]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Q&&k.isCachedDataFresh(S.cacheMaxAgeMillis,B))return Q;S.eTag=Q&&Q.eTag;const ne=yield k.client.fetch(S),he=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&he.push(k.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(he),ne})()}}function D_(C=navigator){return C.languages&&C.languages[0]||C.language}class hd{constructor(S,k,B,Q,ne,he){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=B,this.projectId=Q,this.apiKey=ne,this.appId=he}fetch(S){var k=this;return(0,U.Z)(function*(){const[B,Q]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),he=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ye={sdk_version:k.sdkVersion,app_instance_id:B,app_instance_id_token:Q,app_id:k.appId,language_code:D_()},xt={method:"POST",headers:tt,body:JSON.stringify(Ye)},Ht=fetch(he,xt),jt=new Promise((Gi,Es)=>{S.signal.addEventListener(()=>{const Go=new Error("The operation was aborted.");Go.name="AbortError",Es(Go)})});let gr;try{yield Promise.race([Ht,jt]),gr=yield Ht}catch(Gi){let Es="fetch-client-network";throw"AbortError"===Gi?.name&&(Es="fetch-timeout"),Ai.create(Es,{originalErrorMessage:Gi?.message})}let Pn=gr.status;const qt=gr.headers.get("ETag")||void 0;let $o,Da;if(200===gr.status){let Gi;try{Gi=yield gr.json()}catch(Es){throw Ai.create("fetch-client-parse",{originalErrorMessage:Es?.message})}$o=Gi.entries,Da=Gi.state}if("INSTANCE_STATE_UNSPECIFIED"===Da?Pn=500:"NO_CHANGE"===Da?Pn=304:("NO_TEMPLATE"===Da||"EMPTY_CONFIG"===Da)&&($o={}),304!==Pn&&200!==Pn)throw Ai.create("fetch-status",{httpStatus:Pn});return{status:Pn,eTag:qt,config:$o}})()}}class Gh{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,U.Z)(function*(){const B=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:B}){var Q=this;return(0,U.Z)(function*(){yield function I_(C,S){return new Promise((k,B)=>{const Q=Math.max(S-Date.now(),0),ne=setTimeout(k,Q);C.addEventListener(()=>{clearTimeout(ne),B(Ai.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const ne=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function $h(C){if(!(C instanceof me.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ne))throw ne;const he={throttleEndTimeMillis:Date.now()+(0,me.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(he),Q.attemptFetch(S,he)}})()}}class Ev{constructor(S,k,B,Q,ne){this.app=S,this._client=k,this._storageCache=B,this._storage=Q,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $c(C,S){const k=C.target.error||void 0;return Ai.create(S,{originalErrorMessage:k&&k?.message})}const er="app_namespace_store";class Cv{constructor(S,k,B,Q=function el(){return new Promise((C,S)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=B=>{S($c(B,"storage-open"))},k.onsuccess=B=>{C(B.target.result)},k.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(er,{keyPath:"compositeKey"})}}catch(k){S(Ai.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=S,this.appName=k,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,U.Z)(function*(){const B=yield k.openDbPromise;return new Promise((Q,ne)=>{const tt=B.transaction([er],"readonly").objectStore(er),Ye=k.createCompositeKey(S);try{const xt=tt.get(Ye);xt.onerror=Ht=>{ne($c(Ht,"storage-get"))},xt.onsuccess=Ht=>{const jt=Ht.target.result;Q(jt?jt.value:void 0)}}catch(xt){ne(Ai.create("storage-get",{originalErrorMessage:xt?.message}))}})})()}set(S,k){var B=this;return(0,U.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((ne,he)=>{const Ye=Q.transaction([er],"readwrite").objectStore(er),xt=B.createCompositeKey(S);try{const Ht=Ye.put({compositeKey:xt,value:k});Ht.onerror=jt=>{he($c(jt,"storage-set"))},Ht.onsuccess=()=>{ne()}}catch(Ht){he(Ai.create("storage-set",{originalErrorMessage:Ht?.message}))}})})()}delete(S){var k=this;return(0,U.Z)(function*(){const B=yield k.openDbPromise;return new Promise((Q,ne)=>{const tt=B.transaction([er],"readwrite").objectStore(er),Ye=k.createCompositeKey(S);try{const xt=tt.delete(Ye);xt.onerror=Ht=>{ne($c(Ht,"storage-delete"))},xt.onsuccess=()=>{Q()}}catch(xt){ne(Ai.create("storage-delete",{originalErrorMessage:xt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Kh{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,U.Z)(function*(){const k=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),ne=yield k;ne&&(S.lastFetchStatus=ne);const he=yield B;he&&(S.lastSuccessfulFetchTimestampMillis=he);const tt=yield Q;tt&&(S.activeConfig=tt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function fd(){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,U.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function no(){(0,pe._registerComponent)(new oe.wA("remote-config",function C(S,{instanceIdentifier:k}){const B=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ai.create("registration-window");if(!(0,me.hl)())throw Ai.create("indexed-db-unavailable");const{projectId:ne,apiKey:he,appId:tt}=B.options;if(!ne)throw Ai.create("registration-project-id");if(!he)throw Ai.create("registration-api-key");if(!tt)throw Ai.create("registration-app-id");const Ye=new Cv(tt,B.name,k=k||"firebase"),xt=new Kh(Ye),Ht=new Se.Yd(fi);Ht.logLevel=Se.in.ERROR;const jt=new hd(Q,pe.SDK_VERSION,k,ne,he,tt),gr=new Gh(jt,Ye),Pn=new to(gr,Ye,xt,Ht),qt=new Ev(B,Pn,xt,Ye,Ht);return function Hr(C){const S=(0,me.m9)(C);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(qt),qt},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(fi,"0.4.4"),(0,pe.registerVersion)(fi,"0.4.4","esm2017")}();const Zh=(C,S)=>S.some(k=>C instanceof k);let pd,Po;const qc=new WeakMap,Fo=new WeakMap,Tr=new WeakMap,pr=new WeakMap,Hl=new WeakMap;let io={get(C,S,k){if(C instanceof IDBTransaction){if("done"===S)return Fo.get(C);if("objectStoreNames"===S)return C.objectStoreNames||Tr.get(C);if("store"===S)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return mr(C[S])},set:(C,S,k)=>(C[S]=k,!0),has:(C,S)=>C instanceof IDBTransaction&&("done"===S||"store"===S)||S in C};function Qh(C){return"function"==typeof C?function Yh(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gc(){return Po||(Po=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...S){return C.apply(Ri(this),S),mr(qc.get(this))}:function(...S){return mr(C.apply(Ri(this),S))}:function(S,...k){const B=C.call(Ri(this),S,...k);return Tr.set(B,S.sort?S.sort():[S]),mr(B)}}(C):(C instanceof IDBTransaction&&function tl(C){if(Fo.has(C))return;const S=new Promise((k,B)=>{const Q=()=>{C.removeEventListener("complete",ne),C.removeEventListener("error",he),C.removeEventListener("abort",he)},ne=()=>{k(),Q()},he=()=>{B(C.error||new DOMException("AbortError","AbortError")),Q()};C.addEventListener("complete",ne),C.addEventListener("error",he),C.addEventListener("abort",he)});Fo.set(C,S)}(C),Zh(C,function hm(){return pd||(pd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,io):C)}function mr(C){if(C instanceof IDBRequest)return function zi(C){const S=new Promise((k,B)=>{const Q=()=>{C.removeEventListener("success",ne),C.removeEventListener("error",he)},ne=()=>{k(mr(C.result)),Q()},he=()=>{B(C.error),Q()};C.addEventListener("success",ne),C.addEventListener("error",he)});return S.then(k=>{k instanceof IDBCursor&&qc.set(k,C)}).catch(()=>{}),Hl.set(S,C),S}(C);if(pr.has(C))return pr.get(C);const S=Qh(C);return S!==C&&(pr.set(C,S),Hl.set(S,C)),S}const Ri=C=>Hl.get(C);function Wc(C,S,{blocked:k,upgrade:B,blocking:Q,terminated:ne}={}){const he=indexedDB.open(C,S),tt=mr(he);return B&&he.addEventListener("upgradeneeded",Ye=>{B(mr(he.result),Ye.oldVersion,Ye.newVersion,mr(he.transaction))}),k&&he.addEventListener("blocked",()=>k()),tt.then(Ye=>{ne&&Ye.addEventListener("close",()=>ne()),Q&&Ye.addEventListener("versionchange",()=>Q())}).catch(()=>{}),tt}function ro(C,{blocked:S}={}){const k=indexedDB.deleteDatabase(C);return S&&k.addEventListener("blocked",()=>S()),mr(k).then(()=>{})}const md=["get","getKey","getAll","getAllKeys","count"],No=["put","add","delete","clear"],nl=new Map;function jl(C,S){if(!(C instanceof IDBDatabase)||S in C||"string"!=typeof S)return;if(nl.get(S))return nl.get(S);const k=S.replace(/FromIndex$/,""),B=S!==k,Q=No.includes(k);if(!(k in(B?IDBIndex:IDBObjectStore).prototype)||!Q&&!md.includes(k))return;const ne=function(){var he=(0,U.Z)(function*(tt,...Ye){const xt=this.transaction(tt,Q?"readwrite":"readonly");let Ht=xt.store;return B&&(Ht=Ht.index(Ye.shift())),(yield Promise.all([Ht[k](...Ye),Q&&xt.done]))[0]});return function(Ye){return he.apply(this,arguments)}}();return nl.set(S,ne),ne}!function $i(C){io=C(io)}(C=>({...C,get:(S,k,B)=>jl(S,k)||C.get(S,k,B),has:(S,k)=>!!jl(S,k)||C.has(S,k)}));const $t="/firebase-messaging-sw.js",zl="/firebase-cloud-messaging-push-scope",Xh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jh="https://fcmregistrations.googleapis.com/v1",Kc="google.c.a.c_id",ef="google.c.a.c_l",Zc="google.c.a.ts",S_="google.c.a.e";var be=(()=>{return(C=be||(be={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",be;var C})();function Yt(C){const S=new Uint8Array(C);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $l(C){const k=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(k),Q=new Uint8Array(B.length);for(let ne=0;ne<B.length;++ne)Q[ne]=B.charCodeAt(ne);return Q}const Gl="fcm_token_details_db",ki=5,oa="fcm_token_object_Store";function Mr(){return Mr=(0,U.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Gl))return null;let S=null;return(yield Wc(Gl,ki,{upgrade:(B=(0,U.Z)(function*(Q,ne,he,tt){var Ye;if(ne<2||!Q.objectStoreNames.contains(oa))return;const xt=tt.objectStore(oa),Ht=yield xt.index("fcmSenderId").get(C);if(yield xt.clear(),Ht)if(2===ne){const jt=Ht;if(!jt.auth||!jt.p256dh||!jt.endpoint)return;S={token:jt.fcmToken,createTime:null!==(Ye=jt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:jt.auth,p256dh:jt.p256dh,endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:"string"==typeof jt.vapidKey?jt.vapidKey:Yt(jt.vapidKey)}}}else if(3===ne){const jt=Ht;S={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:Yt(jt.auth),p256dh:Yt(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:Yt(jt.vapidKey)}}}else if(4===ne){const jt=Ht;S={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:Yt(jt.auth),p256dh:Yt(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:Yt(jt.vapidKey)}}}}),function(ne,he,tt,Ye){return B.apply(this,arguments)})})).close(),yield ro(Gl),yield ro("fcm_vapid_details_db"),yield ro("undefined"),function nf(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:S}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var B}),Mr.apply(this,arguments)}const Qc="firebase-messaging-database",T_=1,so="firebase-messaging-store";let ql=null;function xi(){return ql||(ql=Wc(Qc,T_,{upgrade:(C,S)=>{0===S&&C.createObjectStore(so)}})),ql}function es(C){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,U.Z)(function*(C){const S=Xc(C),B=yield(yield xi()).transaction(so).objectStore(so).get(S);if(B)return B;{const Q=yield function Yc(C){return Mr.apply(this,arguments)}(C.appConfig.senderId);if(Q)return yield aa(C,Q),Q}}),Vs.apply(this,arguments)}function aa(C,S){return ts.apply(this,arguments)}function ts(){return(ts=(0,U.Z)(function*(C,S){const k=Xc(C),Q=(yield xi()).transaction(so,"readwrite");return yield Q.objectStore(so).put(S,k),yield Q.done,S})).apply(this,arguments)}function Wl(){return(Wl=(0,U.Z)(function*(C){const S=Xc(C),B=(yield xi()).transaction(so,"readwrite");yield B.objectStore(so).delete(S),yield B.done})).apply(this,arguments)}function Xc({appConfig:C}){return C.appId}const Ei=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function il(C,S){return gd.apply(this,arguments)}function gd(){return(gd=(0,U.Z)(function*(C,S){const k=yield _d(C),B=af(S),Q={method:"POST",headers:k,body:JSON.stringify(B)};let ne;try{ne=yield(yield fetch(Kl(C.appConfig),Q)).json()}catch(he){throw Ei.create("token-subscribe-failed",{errorInfo:he?.toString()})}if(ne.error)throw Ei.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Ei.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function sf(){return(sf=(0,U.Z)(function*(C,S){const k=yield _d(C),B=af(S.subscriptionOptions),Q={method:"PATCH",headers:k,body:JSON.stringify(B)};let ne;try{ne=yield(yield fetch(`${Kl(C.appConfig)}/${S.token}`,Q)).json()}catch(he){throw Ei.create("token-update-failed",{errorInfo:he?.toString()})}if(ne.error)throw Ei.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Ei.create("token-update-no-token");return ne.token})).apply(this,arguments)}function eu(C,S){return tu.apply(this,arguments)}function tu(){return(tu=(0,U.Z)(function*(C,S){const B={method:"DELETE",headers:yield _d(C)};try{const ne=yield(yield fetch(`${Kl(C.appConfig)}/${S}`,B)).json();if(ne.error)throw Ei.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Q){throw Ei.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function Kl({projectId:C}){return`${Jh}/projects/${C}/registrations`}function _d(C){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,U.Z)(function*({appConfig:C,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function af({p256dh:C,auth:S,endpoint:k,vapidKey:B}){const Q={web:{endpoint:k,auth:S,p256dh:C}};return B!==Xh&&(Q.web.applicationPubKey=B),Q}const nu=6048e5;function iu(){return iu=(0,U.Z)(function*(C){const S=yield function mm(C,S){return lf.apply(this,arguments)}(C.swRegistration,C.vapidKey),k={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:S.endpoint,auth:Yt(S.getKey("auth")),p256dh:Yt(S.getKey("p256dh"))},B=yield es(C.firebaseDependencies);if(B){if(function A_(C,S){return S.vapidKey===C.vapidKey&&S.endpoint===C.endpoint&&S.auth===C.auth&&S.p256dh===C.p256dh}(B.subscriptionOptions,k))return Date.now()>=B.createTime+nu?function qn(C,S){return Yl.apply(this,arguments)}(C,{token:B.token,createTime:Date.now(),subscriptionOptions:k}):B.token;try{yield eu(C.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return pm(C.firebaseDependencies,k)}return pm(C.firebaseDependencies,k)}),iu.apply(this,arguments)}function oo(){return oo=(0,U.Z)(function*(C){const S=yield es(C.firebaseDependencies);S&&(yield eu(C.firebaseDependencies,S.token),yield function rf(C){return Wl.apply(this,arguments)}(C.firebaseDependencies));const k=yield C.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),oo.apply(this,arguments)}function Yl(){return Yl=(0,U.Z)(function*(C,S){try{const k=yield function Jc(C,S){return sf.apply(this,arguments)}(C.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield aa(C.firebaseDependencies,B),k}catch(k){throw yield function tr(C){return oo.apply(this,arguments)}(C),k}}),Yl.apply(this,arguments)}function pm(C,S){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,U.Z)(function*(C,S){const B={token:yield il(C,S),createTime:Date.now(),subscriptionOptions:S};return yield aa(C,B),B.token})).apply(this,arguments)}function lf(){return(lf=(0,U.Z)(function*(C,S){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$l(S)})})).apply(this,arguments)}function ru(C){const S={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function yd(C,S){if(!S.notification)return;C.notification={};const k=S.notification.title;k&&(C.notification.title=k);const B=S.notification.body;B&&(C.notification.body=B);const Q=S.notification.image;Q&&(C.notification.image=Q);const ne=S.notification.icon;ne&&(C.notification.icon=ne)}(S,C),function bd(C,S){S.data&&(C.data=S.data)}(S,C),function cf(C,S){var k,B,Q,ne,he;if(!(S.fcmOptions||null!==(k=S.notification)&&void 0!==k&&k.click_action))return;C.fcmOptions={};const tt=null!==(Q=null===(B=S.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==Q?Q:null===(ne=S.notification)||void 0===ne?void 0:ne.click_action;tt&&(C.fcmOptions.link=tt);const Ye=null===(he=S.fcmOptions)||void 0===he?void 0:he.analytics_label;Ye&&(C.fcmOptions.analyticsLabel=Ye)}(S,C),S}function rl(C,S){const k=[];for(let B=0;B<C.length;B++)k.push(C.charAt(B)),B<S.length&&k.push(S.charAt(B));return k.join("")}function ao(C){return Ei.create("missing-app-config-values",{valueName:C})}rl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class R_{constructor(S,k,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function sl(C){if(!C||!C.options)throw ao("App Configuration Object");if(!C.name)throw ao("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=C;for(const B of S)if(!k[B])throw ao(B);return{appName:C.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:k,analyticsProvider:B}}_delete(){return Promise.resolve()}}function gm(C){return su.apply(this,arguments)}function su(){return(su=(0,U.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register($t,{scope:zl}),C.swRegistration.update().catch(()=>{})}catch(S){throw Ei.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function Ql(){return(Ql=(0,U.Z)(function*(C,S){if(!S&&!C.swRegistration&&(yield gm(C)),S||!C.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Ei.create("invalid-sw-registration");C.swRegistration=S}})).apply(this,arguments)}function ca(){return(ca=(0,U.Z)(function*(C,S){S?C.vapidKey=S:C.vapidKey||(C.vapidKey=Xh)})).apply(this,arguments)}function ol(){return ol=(0,U.Z)(function*(C,S){if(!navigator)throw Ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ei.create("permission-blocked");return yield function la(C,S){return ca.apply(this,arguments)}(C,S?.vapidKey),yield function Dv(C,S){return Ql.apply(this,arguments)}(C,S?.serviceWorkerRegistration),function fm(C){return iu.apply(this,arguments)}(C)}),ol.apply(this,arguments)}function ua(){return(ua=(0,U.Z)(function*(C,S,k){const B=function da(C){switch(C){case be.NOTIFICATION_CLICKED:return"notification_open";case be.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:k[Kc],message_name:k[ef],message_time:k[Zc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ha(){return ha=(0,U.Z)(function*(C,S){const k=S.data;if(!k.isFirebaseMessaging)return;C.onMessageHandler&&k.messageType===be.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ru(k)):C.onMessageHandler.next(ru(k)));const B=k.data;(function vd(C){return"object"==typeof C&&!!C&&Kc in C})(B)&&"1"===B[S_]&&(yield function wd(C,S,k){return ua.apply(this,arguments)}(C,k.messageType,B))}),ha.apply(this,arguments)}const Vo="@firebase/messaging",fa=C=>{const S=new R_(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function au(C,S){return ha.apply(this,arguments)}(S,k)),S},lu=C=>{const S=C.getProvider("messaging").getImmediate();return{getToken:B=>function ou(C,S){return ol.apply(this,arguments)}(S,B)}};function _m(){return cu.apply(this,arguments)}function cu(){return(cu=(0,U.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xl(){(0,pe._registerComponent)(new oe.wA("messaging",fa,"PUBLIC")),(0,pe._registerComponent)(new oe.wA("messaging-internal",lu,"PRIVATE")),(0,pe.registerVersion)(Vo,"0.12.4"),(0,pe.registerVersion)(Vo,"0.12.4","esm2017")}();const On="analytics",ff="firebase_id",uu="origin",Ed=6e4,du="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hu="https://www.googletagmanager.com/gtag/js",Oi=new Se.Yd("@firebase/analytics"),pi=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Cd(C){if(!C.startsWith(hu)){const S=pi.create("invalid-gtag-resource",{gtagURL:C});return Oi.warn(S.message),""}return C}function Jl(C){return Promise.all(C.map(S=>S.catch(k=>k)))}function ga(){return(ga=(0,U.Z)(function*(C,S,k,B,Q,ne){const he=B[Q];try{if(he)yield S[he];else{const Ye=(yield Jl(k)).find(xt=>xt.measurementId===Q);Ye&&(yield S[Ye.appId])}}catch(tt){Oi.error(tt)}C("config",Q,ne)})).apply(this,arguments)}function tc(){return(tc=(0,U.Z)(function*(C,S,k,B,Q){try{let ne=[];if(Q&&Q.send_to){let he=Q.send_to;Array.isArray(he)||(he=[he]);const tt=yield Jl(k);for(const Ye of he){const xt=tt.find(jt=>jt.measurementId===Ye),Ht=xt&&S[xt.appId];if(!Ht){ne=[];break}ne.push(Ht)}}0===ne.length&&(ne=Object.values(S)),yield Promise.all(ne),C("event",B,Q||{})}catch(ne){Oi.error(ne)}})).apply(this,arguments)}const nc=30,ba=new class ya{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function vm(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function fn(){return(fn=(0,U.Z)(function*(C){var S;const{appId:k,apiKey:B}=C,Q={method:"GET",headers:vm(B)},ne=du.replace("{app-id}",k),he=yield fetch(ne,Q);if(200!==he.status&&304!==he.status){let tt="";try{const Ye=yield he.json();null!==(S=Ye.error)&&void 0!==S&&S.message&&(tt=Ye.error.message)}catch{}throw pi.create("config-fetch-failed",{httpStatus:he.status,responseMessage:tt})}return he.json()})).apply(this,arguments)}function ic(){return(ic=(0,U.Z)(function*(C,S=ba,k){const{appId:B,apiKey:Q,measurementId:ne}=C.options;if(!B)throw pi.create("no-app-id");if(!Q){if(ne)return{measurementId:ne,appId:B};throw pi.create("no-api-key")}const he=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new Sv;return setTimeout((0,U.Z)(function*(){tt.abort()}),void 0!==k?k:Ed),Id({appId:B,apiKey:Q,measurementId:ne},he,tt,S)})).apply(this,arguments)}function Id(C,S,k){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,U.Z)(function*(C,{throttleEndTimeMillis:S,backoffCount:k},B,Q=ba){var ne;const{appId:he,measurementId:tt}=C;try{yield function Iv(C,S){return new Promise((k,B)=>{const Q=Math.max(S-Date.now(),0),ne=setTimeout(k,Q);C.addEventListener(()=>{clearTimeout(ne),B(pi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(B,S)}catch(Ye){if(tt)return Oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:he,measurementId:tt};throw Ye}try{const Ye=yield function pf(C){return fn.apply(this,arguments)}(C);return Q.deleteThrottleMetadata(he),Ye}catch(Ye){const xt=Ye;if(!function wm(C){if(!(C instanceof me.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(xt)){if(Q.deleteThrottleMetadata(he),tt)return Oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${xt?.message}]`),{appId:he,measurementId:tt};throw Ye}const Ht=503===Number(null===(ne=xt?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,me.$s)(k,Q.intervalMillis,nc):(0,me.$s)(k,Q.intervalMillis),jt={throttleEndTimeMillis:Date.now()+Ht,backoffCount:k+1};return Q.setThrottleMetadata(he,jt),Oi.debug(`Calling attemptFetch again in ${Ht} millis`),Id(C,jt,B,Q)}}),Sd.apply(this,arguments)}class Sv{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let va,_u;function xm(){return(xm=(0,U.Z)(function*(C,S,k,B,Q){if(Q&&Q.global)C("event",k,B);else{const ne=yield S;C("event",k,Object.assign(Object.assign({},B),{send_to:ne}))}})).apply(this,arguments)}function gn(){return(gn=(0,U.Z)(function*(){if(!(0,me.hl)())return Oi.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(C){return Oi.warn(pi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function ot(){return ot=(0,U.Z)(function*(C,S,k,B,Q,ne,he){var tt;const Ye=function k_(C){return ic.apply(this,arguments)}(C);Ye.then(Pn=>{k[Pn.measurementId]=Pn.appId,C.options.measurementId&&Pn.measurementId!==C.options.measurementId&&Oi.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Pn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pn=>Oi.error(Pn)),S.push(Ye);const xt=function Ar(){return gn.apply(this,arguments)}().then(Pn=>{if(Pn)return B.getId()}),[Ht,jt]=yield Promise.all([Ye,xt]);(function _a(C){const S=window.document.getElementsByTagName("script");for(const k of Object.values(S))if(k.src&&k.src.includes(hu)&&k.src.includes(C))return k;return null})(ne)||function co(C,S){const k=function ec(C,S){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(C,S)),k}("firebase-js-sdk-policy",{createScriptURL:Cd}),B=document.createElement("script"),Q=`${hu}?l=${C}&id=${S}`;B.src=k?k?.createScriptURL(Q):Q,B.async=!0,document.head.appendChild(B)}(ne,Ht.measurementId),_u&&(Q("consent","default",_u),function yu(C){_u=C}(void 0)),Q("js",new Date);const gr=null!==(tt=he?.config)&&void 0!==tt?tt:{};return gr[uu]="firebase",gr.update=!0,null!=jt&&(gr[ff]=jt),Q("config",Ht.measurementId,gr),va&&(Q("set",va),function sc(C){va=C}(void 0)),Ht.measurementId}),ot.apply(this,arguments)}class Dn{constructor(S){this.app=S}_delete(){return delete zn[this.app.options.appId],Promise.resolve()}}let zn={},mf=[];const oc={};let Md,is,ni="dataLayer",bu="gtag",ul=!1;function Uo(C,S,k){!function ac(){const C=[];if((0,me.ru)()&&C.push("This is a browser extension environment."),(0,me.zI)()||C.push("Cookies are not available."),C.length>0){const S=C.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),k=pi.create("invalid-analytics-context",{errorInfo:S});Oi.warn(k.message)}}();const B=C.options.appId;if(!B)throw pi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw pi.create("no-api-key");Oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zn[B])throw pi.create("already-exists",{id:B});if(!ul){!function ym(C){let S=[];Array.isArray(window[C])?S=window[C]:window[C]=S}(ni);const{wrappedGtag:ne,gtagCore:he}=function Bo(C,S,k,B,Q){let ne=function(...he){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ne=window[Q]),window[Q]=function cl(C,S,k,B){function ne(){return ne=(0,U.Z)(function*(he,...tt){try{if("event"===he){const[Ye,xt]=tt;yield function Dd(C,S,k,B,Q){return tc.apply(this,arguments)}(C,S,k,Ye,xt)}else if("config"===he){const[Ye,xt]=tt;yield function fu(C,S,k,B,Q,ne){return ga.apply(this,arguments)}(C,S,k,B,Ye,xt)}else if("consent"===he){const[Ye]=tt;C("consent","update",Ye)}else if("get"===he){const[Ye,xt,Ht]=tt;C("get",Ye,xt,Ht)}else if("set"===he){const[Ye]=tt;C("set",Ye)}else C(he,...tt)}catch(Ye){Oi.error(Ye)}}),ne.apply(this,arguments)}return function Q(he){return ne.apply(this,arguments)}}(ne,C,S,k),{gtagCore:ne,wrappedGtag:window[Q]}}(zn,mf,oc,ni,bu);is=ne,Md=he,ul=!0}return zn[B]=function zr(C,S,k,B,Q,ne,he){return ot.apply(this,arguments)}(C,mf,oc,S,Md,ni,k),new Dn(C)}function vu(){return uo.apply(this,arguments)}function uo(){return(uo=(0,U.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const ho="@firebase/analytics";!function Cm(){(0,pe._registerComponent)(new oe.wA(On,(S,{options:k})=>Uo(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,pe._registerComponent)(new oe.wA("analytics-internal",function C(S){try{const k=S.getProvider(On).getImmediate();return{logEvent:(B,Q,ne)=>function gf(C,S,k,B){C=(0,me.m9)(C),function Tv(C,S,k,B,Q){return xm.apply(this,arguments)}(is,zn[C.app.options.appId],S,k,B).catch(Q=>Oi.error(Q))}(k,B,Q,ne)}}catch(k){throw pi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,pe.registerVersion)(ho,"0.10.0"),(0,pe.registerVersion)(ho,"0.10.0","esm2017")}();var Rr=H(4408),rs=H(7565);const Fi=new class jo extends rs.v{}(class hl extends Rr.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(S,k,B):(S.flush(this),0)}});var Eu=H(4986),ii=H(8505),ss=H(5363),fo=H(9468);const nr=new d.GfV("7.5.0"),ri="__angularfire_symbol__analyticsIsSupportedValue",Ca="__angularfire_symbol__analyticsIsSupported",Od="__angularfire_symbol__remoteConfigIsSupportedValue",fl="__angularfire_symbol__remoteConfigIsSupported",vs="__angularfire_symbol__messagingIsSupportedValue",Us="__angularfire_symbol__messagingIsSupported";function Du(C,S,k){if(S){if(1===S.length)return S[0];const ne=S.filter(he=>he.app===k);if(1===ne.length)return ne[0]}return k.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ca]||(globalThis[Ca]=vu().then(C=>globalThis[ri]=C).catch(()=>globalThis[ri]=!1)),globalThis[Us]||(globalThis[Us]=_m().then(C=>globalThis[vs]=C).catch(()=>globalThis[vs]=!1)),globalThis[fl]||(globalThis[fl]=fd().then(C=>globalThis[Od]=C).catch(()=>globalThis[Od]=!1));const Iu=(C,S)=>{const k=S?[S]:(0,se.C6)(),B=[];return k.forEach(Q=>{Q.container.getProvider(C).instances.forEach(he=>{B.includes(he)||B.push(he)})}),B};function po(){}class Pd{constructor(S,k=Fi){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,B){const Q=this.zone;return this.delegate.schedule(function(he){Q.runGuarded(()=>{S.apply(this,[he])})},k,B)}}class cc{constructor(S){this.zone=S,this.task=null}call(S,k){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",po,{},po,po)),k.pipe((0,ii.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pt=(()=>{class C{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Pd(Zone.current)),this.insideAngular=k.run(()=>new Pd(Zone.current,Eu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(k){return new(k||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ws(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function yf(C){return C.pipe((0,ss.Q)(ws().outsideAngular))}function xs(C){return ws(),function vf(C){return function(k){return(k=k.lift(new cc(C.ngZone))).pipe((0,fo.R)(C.outsideAngular),(0,ss.Q)(C.insideAngular))}}(ws())(C)}},2090:(At,Re,H)=>{H.d(Re,{$s:()=>ps,BH:()=>Ae,G6:()=>Fe,L:()=>ve,LL:()=>ut,Pz:()=>Me,Sg:()=>Je,UG:()=>fe,US:()=>oe,ZB:()=>te,ZR:()=>Gt,aH:()=>je,b$:()=>an,eu:()=>Ze,hl:()=>et,jU:()=>Lt,m9:()=>Sr,ne:()=>En,pd:()=>Os,r3:()=>Kr,ru:()=>ht,tV:()=>Y,uI:()=>_t,vZ:()=>Tt,w1:()=>we,xO:()=>Ji,xb:()=>ta,z$:()=>$e,zI:()=>It,zd:()=>Dr});const pe=function(q){const z=[];let J=0;for(let De=0;De<q.length;De++){let le=q.charCodeAt(De);le<128?z[J++]=le:le<2048?(z[J++]=le>>6|192,z[J++]=63&le|128):55296==(64512&le)&&De+1<q.length&&56320==(64512&q.charCodeAt(De+1))?(le=65536+((1023&le)<<10)+(1023&q.charCodeAt(++De)),z[J++]=le>>18|240,z[J++]=le>>12&63|128,z[J++]=le>>6&63|128,z[J++]=63&le|128):(z[J++]=le>>12|224,z[J++]=le>>6&63|128,z[J++]=63&le|128)}return z},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let le=0;le<q.length;le+=3){const qe=q[le],Vt=le+1<q.length,pn=Vt?q[le+1]:0,hi=le+2<q.length,Gn=hi?q[le+2]:0;let fr=(15&pn)<<2|Gn>>6,gs=63&Gn;hi||(gs=64,Vt||(fr=64)),De.push(J[qe>>2],J[(3&qe)<<4|pn>>4],J[fr],J[gs])}return De.join("")},encodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(pe(q),z)},decodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){const z=[];let J=0,De=0;for(;J<q.length;){const le=q[J++];if(le<128)z[De++]=String.fromCharCode(le);else if(le>191&&le<224){const qe=q[J++];z[De++]=String.fromCharCode((31&le)<<6|63&qe)}else if(le>239&&le<365){const hi=((7&le)<<18|(63&q[J++])<<12|(63&q[J++])<<6|63&q[J++])-65536;z[De++]=String.fromCharCode(55296+(hi>>10)),z[De++]=String.fromCharCode(56320+(1023&hi))}else{const qe=q[J++],Vt=q[J++];z[De++]=String.fromCharCode((15&le)<<12|(63&qe)<<6|63&Vt)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray(q,z){this.init_();const J=z?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let le=0;le<q.length;){const qe=J[q.charAt(le++)],pn=le<q.length?J[q.charAt(le)]:0;++le;const Gn=le<q.length?J[q.charAt(le)]:64;++le;const cn=le<q.length?J[q.charAt(le)]:64;if(++le,null==qe||null==pn||null==Gn||null==cn)throw new Se;De.push(qe<<2|pn>>4),64!==Gn&&(De.push(pn<<4&240|Gn>>2),64!==cn&&De.push(Gn<<6&192|cn))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(q){return function(q){const z=pe(q);return oe.encodeByteArray(z,!0)}(q).replace(/\./g,"")},Y=function(q){try{return oe.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function te(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(const J in z)!z.hasOwnProperty(J)||!Xe(J)||(q[J]=te(q[J],z[J]));return q}function Xe(q){return"__proto__"!==q}const Ue=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=q&&Y(q[1]);return z&&JSON.parse(z)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},je=()=>{var q;return null===(q=Ue())||void 0===q?void 0:q.config},Me=q=>{var z;return null===(z=Ue())||void 0===z?void 0:z[`_${q}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,J)=>{this.resolve=z,this.reject=J})}wrapCallback(z){return(J,De)=>{J?this.reject(J):this.resolve(De),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(J):z(J,De))}}}function Je(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=z||"demo-project",le=q.iat||0,qe=q.sub||q.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vt=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:le,exp:le+3600,auth_time:le,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Vt)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function fe(){var q;const z=null===(q=Ue())||void 0===q?void 0:q.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Lt(){return"object"==typeof self&&self.self===self}function ht(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function an(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){const q=$e();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Fe(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){try{return"object"==typeof indexedDB}catch{return!1}}function Ze(){return new Promise((q,z)=>{try{let J=!0;const De="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(De);le.onsuccess=()=>{le.result.close(),J||self.indexedDB.deleteDatabase(De),q(!0)},le.onupgradeneeded=()=>{J=!1},le.onerror=()=>{var qe;z((null===(qe=le.error)||void 0===qe?void 0:qe.message)||"")}}catch(J){z(J)}})}function It(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Gt extends Error{constructor(z,J,De){super(J),this.code=z,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,Gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(z,J,De){this.service=z,this.serviceName=J,this.errors=De}create(z,...J){const De=J[0]||{},le=`${this.service}/${z}`,qe=this.errors[z],Vt=qe?function sn(q,z){return q.replace(Nt,(J,De)=>{const le=z[De];return null!=le?String(le):`<${De}?>`})}(qe,De):"Error";return new Gt(le,`${this.serviceName}: ${Vt} (${le}).`,De)}}const Nt=/\{\$([^}]+)}/g;function Kr(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function ta(q){for(const z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function Tt(q,z){if(q===z)return!0;const J=Object.keys(q),De=Object.keys(z);for(const le of J){if(!De.includes(le))return!1;const qe=q[le],Vt=z[le];if(Lr(qe)&&Lr(Vt)){if(!Tt(qe,Vt))return!1}else if(qe!==Vt)return!1}for(const le of De)if(!J.includes(le))return!1;return!0}function Lr(q){return null!==q&&"object"==typeof q}function Ji(q){const z=[];for(const[J,De]of Object.entries(q))Array.isArray(De)?De.forEach(le=>{z.push(encodeURIComponent(J)+"="+encodeURIComponent(le))}):z.push(encodeURIComponent(J)+"="+encodeURIComponent(De));return z.length?"&"+z.join("&"):""}function Dr(q){const z={};return q.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[le,qe]=De.split("=");z[decodeURIComponent(le)]=decodeURIComponent(qe)}}),z}function Os(q){const z=q.indexOf("?");if(!z)return"";const J=q.indexOf("#",z);return q.substring(z,J>0?J:void 0)}function En(q,z){const J=new yt(q,z);return J.subscribe.bind(J)}class yt{constructor(z,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{z(this)}).catch(De=>{this.error(De)})}next(z){this.forEachObserver(J=>{J.next(z)})}error(z){this.forEachObserver(J=>{J.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,J,De){let le;if(void 0===z&&void 0===J&&void 0===De)throw new Error("Missing Observer.");le=function Zr(q,z){if("object"!=typeof q||null===q)return!1;for(const J of z)if(J in q&&"function"==typeof q[J])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:J,complete:De},void 0===le.next&&(le.next=Vr),void 0===le.error&&(le.error=Vr),void 0===le.complete&&(le.complete=Vr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),qe}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,z)}sendOne(z,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{J(this.observers[z])}catch(De){typeof console<"u"&&console.error&&console.error(De)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vr(){}const Cn=1e3,Yr=2,ei=144e5,bi=.5;function ps(q,z=Cn,J=Yr){const De=z*Math.pow(J,q),le=Math.round(bi*De*(Math.random()-.5)*2);return Math.min(ei,De+le)}function Sr(q){return q&&q._delegate?q._delegate:q}},3881:(At,Re,H)=>{var d=H(4650);let se=null;function U(){return se}class me{}const oe=new d.OlP("DocumentToken");let Se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Te(){return(0,d.LFG)(Y)}()},providedIn:"platform"}),n})();const ve=new d.OlP("Location Initialized");let Y=(()=>{class n extends Se{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){K()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){K()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function te(){return new Y((0,d.LFG)(oe))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let Et=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ue)},providedIn:"root"}),n})();const xe=new d.OlP("appBaseHref");let Ue=(()=>{class n extends Et{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Xe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+rt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+rt(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+rt(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Se),d.LFG(xe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),He=(()=>{class n extends Et{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Xe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+rt(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+rt(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Se),d.LFG(xe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Pe(Ae(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+rt(i))}normalize(t){return n.stripTrailingSlash(function Me(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ae(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Xe,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(d.LFG(Et))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function je(){return new Ke((0,d.LFG)(Et))}()},providedIn:"root"}),n})();function Ae(n){return n.replace(/\/index.html$/,"")}const $e={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var _t=(()=>((_t=_t||{})[_t.Decimal=0]="Decimal",_t[_t.Percent=1]="Percent",_t[_t.Currency=2]="Currency",_t[_t.Scientific=3]="Scientific",_t))(),Ct=(()=>((Ct=Ct||{})[Ct.Decimal=0]="Decimal",Ct[Ct.Group=1]="Group",Ct[Ct.List=2]="List",Ct[Ct.PercentSign=3]="PercentSign",Ct[Ct.PlusSign=4]="PlusSign",Ct[Ct.MinusSign=5]="MinusSign",Ct[Ct.Exponential=6]="Exponential",Ct[Ct.SuperscriptingExponent=7]="SuperscriptingExponent",Ct[Ct.PerMille=8]="PerMille",Ct[Ct.Infinity=9]="Infinity",Ct[Ct.NaN=10]="NaN",Ct[Ct.TimeSeparator=11]="TimeSeparator",Ct[Ct.CurrencyDecimal=12]="CurrencyDecimal",Ct[Ct.CurrencyGroup=13]="CurrencyGroup",Ct))();function Nt(n,e){const t=(0,d.cg1)(n),i=t[d.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===Ct.CurrencyDecimal)return t[d.wAp.NumberSymbols][Ct.Decimal];if(e===Ct.CurrencyGroup)return t[d.wAp.NumberSymbols][Ct.Group]}return i}const cd=2,pn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,hi=22,Gn=".",Mn="0",cn=";",fr=",",gs="#",Fs="\xa4";function ue(n,e,t,i,r){const o=function Ft(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(cn),r=i[0],s=i[1],o=-1!==r.indexOf(Gn)?r.split(Gn):[r.substring(0,r.lastIndexOf(Mn)+1),r.substring(r.lastIndexOf(Mn)+1)],c=o[0],h=o[1]||"";t.posPre=c.substring(0,c.indexOf(gs));for(let b=0;b<h.length;b++){const x=h.charAt(b);x===Mn?t.minFrac=t.maxFrac=b+1:x===gs?t.maxFrac=b+1:t.posSuf+=x}const p=c.split(fr);if(t.gSize=p[1]?p[1].length:0,t.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,s){const b=r.length-t.posPre.length-t.posSuf.length,x=s.indexOf(gs);t.negPre=s.substring(0,x).replace(/'/g,""),t.negSuf=s.slice(x+b).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function xn(n,e){return(0,d.cg1)(n)[d.wAp.NumberFormats][e]}(e,_t.Currency),Nt(e,Ct.MinusSign));return o.minFrac=function Ji(n){let e;const t=$e[n];return t&&(e=t[2]),"number"==typeof e?e:cd}(i),o.maxFrac=o.minFrac,function ye(n,e,t,i,r,s,o=!1){let c="",h=!1;if(isFinite(n)){let p=function Mt(n){let i,r,s,o,c,e=Math.abs(n)+"",t=0;for((r=e.indexOf(Gn))>-1&&(e=e.replace(Gn,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===Mn;s++);if(s===(c=e.length))i=[0],r=1;else{for(c--;e.charAt(c)===Mn;)c--;for(r-=s,i=[],o=0;s<=c;s++,o++)i[o]=Number(e.charAt(s))}return r>hi&&(i=i.splice(0,hi-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);o&&(p=function nn(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(p));let b=e.minInt,x=e.minFrac,I=e.maxFrac;if(s){const W=s.match(pn);if(null===W)throw new Error(`${s} is not a valid digit info`);const ee=W[1],re=W[3],ce=W[5];null!=ee&&(b=mn(ee)),null!=re&&(x=mn(re)),null!=ce?I=mn(ce):null!=re&&x>I&&(I=x)}!function wn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(e,r),t);let o=s+n.integerLen,c=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let x=o;x<i.length;x++)i[x]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let x=1;x<o;x++)i[x]=0}if(c>=5)if(o-1<0){for(let x=0;x>o;x--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let h=0!==s;const p=e+n.integerLen,b=i.reduceRight(function(x,I,M,P){return P[M]=(I+=x)<10?I:I-10,h&&(0===P[M]&&M>=p?P.pop():h=!1),I>=10?1:0},0);b&&(i.unshift(b),n.integerLen++)}(p,x,I);let M=p.digits,P=p.integerLen;const F=p.exponent;let L=[];for(h=M.every(W=>!W);P<b;P++)M.unshift(0);for(;P<0;P++)M.unshift(0);P>0?L=M.splice(P,M.length):(L=M,M=[0]);const $=[];for(M.length>=e.lgSize&&$.unshift(M.splice(-e.lgSize,M.length).join(""));M.length>e.gSize;)$.unshift(M.splice(-e.gSize,M.length).join(""));M.length&&$.unshift(M.join("")),c=$.join(Nt(t,i)),L.length&&(c+=Nt(t,r)+L.join("")),F&&(c+=Nt(t,Ct.Exponential)+"+"+F)}else c=Nt(t,Ct.Infinity);return c=n<0&&!h?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf,c}(n,o,e,Ct.CurrencyGroup,Ct.CurrencyDecimal,r).replace(Fs,t).replace(Fs,"").trim()}function mn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}let Ro=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new en,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ll("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ll("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class en{constructor(){this.$implicit=null,this.ngIf=null}}function Ll(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class na{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ns=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ko=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new na(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(Ns,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ai=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),n})();let Gh=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",s,o){if(!function zc(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let c=i||this._defaultCurrencyCode;"code"!==r&&(c="symbol"===r||"symbol-narrow"===r?function Lr(n,e,t="en"){const i=function Cr(n){return(0,d.cg1)(n)[d.wAp.Currencies]}(t)[n]||$e[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(c,"symbol"===r?"wide":"narrow",o):r);try{return ue(function qh(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,c,i,s)}catch(h){throw function Ur(n,e){return new d.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(d.EJc,16))},n.\u0275pipe=d.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let er=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const dm="browser",Wh="server";function no(n){return n===Wh}let Ul=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Zh((0,d.LFG)(oe),window)}),n})();class Zh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Po(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=pd(this.window.history)||pd(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cf extends me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vd extends cf{static makeCurrent(){!function pe(n){se||(se=n)}(new vd)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sl(){return rl=rl||document.querySelector("base"),rl?rl.getAttribute("href"):null}();return null==t?null:function R_(n){ao=ao||document.createElement("a"),ao.setAttribute("href",n);const e=ao.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ya(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ao,rl=null;const gm=new d.OlP("TRANSITION_ID"),Dv=[{provide:d.ip1,useFactory:function su(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const i=U(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[gm,oe,d.zs3],multi:!0}];let la=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ca=new d.OlP("EventManagerPlugins");let ou=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ca),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ol{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=U().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let wd=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ua=(()=>{class n extends wd{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},au=/%COMP%/g,Xl=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function df(n,e){return e.flat(100).map(t=>t.replace(au,n))}function pa(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ns=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new lo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof ff?r.applyToHost(t):r instanceof On&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestory;switch(i.encapsulation){case d.ifc.Emulated:s=new ff(o,c,i,this.appId,h);break;case d.ifc.ShadowDom:return new hf(o,c,t,i);default:s=new On(o,c,i,h)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ou),d.LFG(ua),d.LFG(d.AFp),d.LFG(Xl))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class lo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(da[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ll(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ll(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=da[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=da[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pa(i)):this.eventManager.addEventListener(e,t,pa(i))}}function ll(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hf extends lo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=df(r.id,r.styles);for(const o of s){const c=document.createElement("style");c.textContent=o,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class On extends lo{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=df(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ff extends On{constructor(e,t,i,r,s){const o=r+"-"+i.id;super(e,t,i,s,o),this.contentAttr=function _m(n){return"_ngcontent-%COMP%".replace(au,n)}(o),this.hostAttr=function cu(n){return"_nghost-%COMP%".replace(au,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let uu=(()=>{class n extends ol{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ed=["alt","control","meta","shift"],du={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Oi=(()=>{class n extends ol{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),Ed.forEach(p=>{const b=i.indexOf(p);b>-1&&(i.splice(b,1),o+=p+".")}),o+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=o,h}static matchEventFullKeyCode(t,i){let r=du[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ed.forEach(o=>{o!==r&&(0,hu[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Dd=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:dm},{provide:d.g9A,useValue:function co(){vd.makeCurrent()},multi:!0},{provide:oe,useFactory:function fu(){return(0,d.RDi)(document),document},deps:[]}]),tc=new d.OlP(""),cl=[{provide:d.rWj,useClass:class Ql{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,o=!1;const c=function(h){o=o||h,s--,0==s&&i(o)};r.forEach(function(h){h.whenStable(c)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Bo=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ym(){return new d.qLn},deps:[]},{provide:ca,useClass:uu,multi:!0,deps:[oe,d.R0b,d.Lbi]},{provide:ca,useClass:Oi,multi:!0,deps:[oe]},{provide:ns,useClass:ns,deps:[ou,ua,d.AFp,Xl]},{provide:d.FYo,useExisting:ns},{provide:wd,useExisting:ua},{provide:ua,useClass:ua,deps:[oe]},{provide:ou,useClass:ou,deps:[ca,d.R0b]},{provide:class Gc{},useClass:la,deps:[]},[]];let _a=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:gm,useExisting:d.AFp},Dv]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tc,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Bo,...cl],imports:[er,d.hGG]}),n})(),vm=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ba(){return new vm((0,d.LFG)(oe))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let _u=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):d.LFG(sc),i},providedIn:"root"}),n})(),sc=(()=>{class n extends _u{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${d.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${d.JZr})`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function yu(n){return new sc(n.get(oe))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})();var gn=H(8996),zr=H(3269);function ot(...n){const e=(0,zr.yG)(n);return(0,gn.D)(n,e)}var Dn=H(7579);class zn extends Dn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const oc=(0,H(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ni=H(9751);const{isArray:bu}=Array,{getPrototypeOf:Md,prototype:is,keys:ul}=Object;function dl(n){if(1===n.length){const e=n[0];if(bu(e))return{args:e,keys:null};if(function ac(n){return n&&"object"==typeof n&&Md(n)===is}(e)){const t=ul(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Uo=H(4671),wt=H(4004);const{isArray:Ad}=Array;function uo(n){return(0,wt.U)(e=>function vu(n,e){return Ad(e)?n(...e):n(e)}(n,e))}function Ho(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var mi=H(5403),Rd=H(9672);function wu(...n){const e=(0,zr.yG)(n),t=(0,zr.jO)(n),{args:i,keys:r}=dl(n);if(0===i.length)return(0,gn.D)([],e);const s=new ni.y(function xa(n,e,t=Uo.y){return i=>{Ea(e,()=>{const{length:r}=n,s=new Array(r);let o=r,c=r;for(let h=0;h<r;h++)Ea(e,()=>{const p=(0,gn.D)(n[h],e);let b=!1;p.subscribe((0,mi.x)(i,x=>{s[h]=x,b||(b=!0,c--),c||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>Ho(r,o):Uo.y));return t?s.pipe(uo(t)):s}function Ea(n,e,t){n?(0,Rd.f)(t,n,e):e()}var xu=H(8189);function lc(...n){return function gf(){return(0,xu.J)(1)}()((0,gn.D)(n,(0,zr.yG)(n)))}var ho=H(8421);function _f(n){return new ni.y(e=>{(0,ho.Xf)(n()).subscribe(e)})}var Cm=H(9635),Rr=H(576);function hl(n,e){const t=(0,Rr.m)(n)?n:()=>n,i=r=>r.error(t());return new ni.y(e?r=>e.schedule(i,0,r):i)}var rs=H(515),jo=H(727),Fi=H(4482);function kd(){return(0,Fi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,mi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Eu extends ni.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jo.w0;const t=this.getSubject();e.add(this.source.subscribe((0,mi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jo.w0.EMPTY)}return e}refCount(){return kd()(this)}}function ii(n,e){return(0,Fi.e)((t,i)=>{let r=null,s=0,o=!1;const c=()=>o&&!r&&i.complete();t.subscribe((0,mi.x)(i,h=>{r?.unsubscribe();let p=0;const b=s++;(0,ho.Xf)(n(h,b)).subscribe(r=(0,mi.x)(i,x=>i.next(e?e(h,x,b,p++):x),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function ss(n){return n<=0?()=>rs.E:(0,Fi.e)((e,t)=>{let i=0;e.subscribe((0,mi.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function fo(...n){const e=(0,zr.yG)(n);return(0,Fi.e)((t,i)=>{(e?lc(n,t,e):lc(n,t)).subscribe(i)})}function nr(n,e){return(0,Fi.e)((t,i)=>{let r=0;t.subscribe((0,mi.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var ri=H(5577);function Ca(n){return(0,Fi.e)((e,t)=>{let i=!1;e.subscribe((0,mi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Od(n=fl){return(0,Fi.e)((e,t)=>{let i=!1;e.subscribe((0,mi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function fl(){return new oc}function vs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?nr((r,s)=>n(r,s,i)):Uo.y,ss(1),t?Ca(e):Od(()=>new oc))}function Us(n,e){return(0,Rr.m)(e)?(0,ri.z)(n,e,1):(0,ri.z)(n,1)}var si=H(8505);function zo(n){return(0,Fi.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,mi.x)(t,void 0,void 0,o=>{s=(0,ho.Xf)(n(o,zo(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Cu(n,e){return(0,Fi.e)(function Dm(n,e,t,i,r){return(s,o)=>{let c=t,h=e,p=0;s.subscribe((0,mi.x)(o,b=>{const x=p++;h=c?n(h,b,x):(c=!0,b),i&&o.next(h)},r&&(()=>{c&&o.next(h),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Du(n){return n<=0?()=>rs.E:(0,Fi.e)((e,t)=>{let i=[];e.subscribe((0,mi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Iu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?nr((r,s)=>n(r,s,i)):Uo.y,Du(1),t?Ca(e):Od(()=>new oc))}function cc(n){return(0,Fi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Pt="primary",ws=Symbol("RouteTitle");class Su{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function os(n){return new Su(n)}function yf(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],c=n[s];if(o.startsWith(":"))r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function xs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!vf(n[r],e[r]))return!1;return!0}function vf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function wf(n){return Array.prototype.concat.apply([],n)}function xf(n){return n.length>0?n[n.length-1]:null}function S(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function k(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,gn.D)(Promise.resolve(n)):ot(n)}const B=!1,Q={exact:function Ye(n,e,t){if(!Gi(n.segments,e.segments)||!gr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ye(n.children[i],e.children[i],t))return!1;return!0},subset:Ht},ne={exact:function tt(n,e){return xs(n,e)},subset:function xt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vf(n[t],e[t]))},ignored:()=>!0};function he(n,e,t){return Q[t.paths](n.root,e.root,t.matrixParams)&&ne[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ht(n,e,t){return jt(n,e,e.segments,t)}function jt(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Gi(r,t)||e.hasChildren()||!gr(r,t,i))}if(n.segments.length===t.length){if(!Gi(n.segments,t)||!gr(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ht(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Gi(n.segments,r)&&gr(n.segments,r,i)&&n.children[Pt])&&jt(n.children[Pt],e,s,i)}}function gr(n,e,t){return e.every((i,r)=>ne[t](n[r].parameters,i.parameters))}class Pn{constructor(e=new qt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=os(this.queryParams)),this._queryParamMap}toString(){return Nd.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,S(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Im(this)}}class $o{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=os(this.parameters)),this._parameterMap}toString(){return O_(this)}}function Gi(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Fd},providedIn:"root"}),n})();class Fd{parse(e){const t=new Vd(e);return new Pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${uc(e.root,!0)}`,i=function Mv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ia(t)}=${Ia(r)}`).join("&"):`${Ia(t)}=${Ia(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Sm(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Nd=new Fd;function Im(n){return n.segments.map(e=>O_(e)).join("/")}function uc(n,e){if(!n.hasChildren())return Im(n);if(e){const t=n.children[Pt]?uc(n.children[Pt],!1):"",i=[];return S(n.children,(r,s)=>{s!==Pt&&i.push(`${s}:${uc(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Es(n,e){let t=[];return S(n.children,(i,r)=>{r===Pt&&(t=t.concat(e(i,r)))}),S(n.children,(i,r)=>{r!==Pt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Pt?[uc(n.children[Pt],!1)]:[`${r}:${uc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${Im(n)}/${t[0]}`:`${Im(n)}/(${t.join("//")})`}}function Ld(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ia(n){return Ld(n).replace(/%3B/gi,";")}function Sa(n){return Ld(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tu(n){return decodeURIComponent(n)}function Tm(n){return Tu(n.replace(/\+/g,"%20"))}function O_(n){return`${Sa(n.path)}${function Mm(n){return Object.keys(n).map(e=>`;${Sa(e)}=${Sa(n[e])}`).join("")}(n.parameters)}`}const P_=/^[^\/()?;=#]+/;function Ef(n){const e=n.match(P_);return e?e[0]:""}const DE=/^[^=?&#]+/,Av=/^[^&#]+/;class Vd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Pt]=new qt(e,t)),i}parseSegment(){const e=Ef(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,B);return this.capture(e),new $o(Tu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ef(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ef(this.remaining);r&&(i=r,this.capture(i))}e[Tu(t)]=Tu(i)}parseQueryParam(e){const t=function dc(n){const e=n.match(DE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function F_(n){const e=n.match(Av);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Tm(t),s=Tm(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ef(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.vHH(4010,B);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Pt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Pt]:new qt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,B)}}function Cf(n){return n.segments.length>0?new qt([],{[Pt]:n}):n}function pl(n){const e={};for(const i of Object.keys(n.children)){const s=pl(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Rv(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function hc(n){return n instanceof Pn}const Mu=!1;function N_(n,e,t,i,r){if(0===t.length)return Ta(e.root,e.root,e.root,i,r);const s=function Hd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new If(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return S(s.outlets,(h,p)=>{c[p]="string"==typeof h?h.split("/"):h}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((c,h)=>{0==h&&"."===c||(0==h&&""===c?t=!0:".."===c?e++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new If(t,e,i)}(t);return s.toRoot()?Ta(e.root,e.root,new qt([],{}),i,r):function o(h){const p=function Sf(n,e,t,i){if(n.isAbsolute)return new fc(e.root,!0,0);if(-1===i)return new fc(t,t===e.root,0);return function pc(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new d.vHH(4005,Mu&&"Invalid number of '../'");r=i.segments.length}return new fc(i,!1,r-s)}(t,i+(Ud(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,h),b=p.processChildren?mo(p.segmentGroup,p.index,s.commands):Mf(p.segmentGroup,p.index,s.commands);return Ta(e.root,p.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function Ud(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Df(n){return"object"==typeof n&&null!=n&&n.outlets}function Ta(n,e,t,i,r){let o,s={};i&&S(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),o=n===e?t:L_(n,e,t);const c=Cf(pl(o));return new Pn(c,s,r)}function L_(n,e,t){const i={};return S(n.children,(r,s)=>{i[s]=r===e?t:L_(r,e,t)}),new qt(n.segments,i)}class If{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ud(i[0]))throw new d.vHH(4003,Mu&&"Root segment cannot have matrix parameters");const r=i.find(Df);if(r&&r!==xf(i))throw new d.vHH(4004,Mu&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Mf(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return mo(n,e,t);const i=function Rm(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],c=t[i];if(Df(c))break;const h=`${c}`,p=i<t.length-1?t[i+1]:null;if(r>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!Om(h,p,o))return s;i+=2}else{if(!Om(h,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new qt(n.segments.slice(0,i.pathIndex),{});return s.children[Pt]=new qt(n.segments.slice(i.pathIndex),n.children),mo(s,0,r)}return i.match&&0===r.length?new qt(n.segments,{}):i.match&&!n.hasChildren()?jd(n,e,t):i.match?mo(n,0,r):jd(n,e,t)}function mo(n,e,t){if(0===t.length)return new qt(n.segments,{});{const i=function Tf(n){return Df(n[0])?n[0].outlets:{[Pt]:n}}(t),r={};if(!i[Pt]&&n.children[Pt]&&1===n.numberOfChildren&&0===n.children[Pt].segments.length){const s=mo(n.children[Pt],e,t);return new qt(n.segments,s.children)}return S(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Mf(n.children[o],e,s))}),S(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new qt(n.segments,r)}}function jd(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Df(s)){const h=zd(s.outlets);return new qt(i,h)}if(0===r&&Ud(t[0])){i.push(new $o(n.segments[e].path,km(t[0]))),r++;continue}const o=Df(s)?s.outlets[Pt]:`${s}`,c=r<t.length-1?t[r+1]:null;o&&c&&Ud(c)?(i.push(new $o(o,km(c))),r+=2):(i.push(new $o(o,{})),r++)}return new qt(i,{})}function zd(n){const e={};return S(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=jd(new qt([],{}),0,t))}),e}function km(n){const e={};return S(n,(t,i)=>e[i]=`${t}`),e}function Om(n,e,t){return n==t.path&&xs(e,t.parameters)}const $d="imperative";class qo{constructor(e,t){this.id=e,this.url=t}}class Pm extends qo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hs extends qo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gd extends qo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gl extends qo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class qd extends qo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Au extends qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ov extends qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pv extends qo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fv extends qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fm extends qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class V_{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class B_{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ru{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class as{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mc{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Vm=(()=>{class n{createUrlTree(t,i,r,s,o,c){return N_(t||i.root,r,s,o,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Nv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return Vm.\u0275fac(e)},providedIn:"root"}),n})();class Um{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hm(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Hm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ir(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ir(e,this._root).map(t=>t.value)}}function Hm(n,e){if(n===e.value)return e;for(const t of e.children){const i=Hm(n,t);if(i)return i}return null}function ir(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ir(n,t);if(i.length)return i.unshift(e),i}return[]}class $r{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ku(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class U_ extends Um{constructor(e,t){super(e),this.snapshot=t,_c(this,e)}toString(){return this.snapshot.toString()}}function H_(n,e){const t=function j_(n,e){const o=new kf([],{},{},"",{},Pt,e,null,n.root,-1,{});return new Wo("",new $r(o,[]))}(n,e),i=new zn([new $o("",{})]),r=new zn({}),s=new zn({}),o=new zn({}),c=new zn(""),h=new qi(i,r,o,c,s,Pt,e,t.root);return h.snapshot=t.root,new U_(new $r(h,[]),t)}class qi{constructor(e,t,i,r,s,o,c,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.title=this.data?.pipe((0,wt.U)(p=>p[ws]))??ot(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>os(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>os(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Af(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Rf(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class kf{get title(){return this.data?.[ws]}constructor(e,t,i,r,s,o,c,h,p,b,x){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=b,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=os(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=os(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wo extends Um{constructor(e,t){super(t),this.url=e,_c(this,t)}toString(){return jm(this._root)}}function _c(n,e){e.value._routerState=n,e.children.forEach(t=>_c(n,t))}function jm(n){const e=n.children.length>0?` { ${n.children.map(jm).join(", ")} } `:"";return`${n.value}${e}`}function yc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),xs(e.params,t.params)||n.params.next(t.params),function bf(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),xs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function go(n,e){const t=xs(n.params,e.params)&&function Da(n,e){return Gi(n,e)&&n.every((t,i)=>xs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||go(n.parent,e.parent))}function Ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function z_(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ou(n,i,r);return Ou(n,i)})}(n,e,t);return new $r(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Ou(n,c)),o}}const i=function $_(n){return new qi(new zn(n.url),new zn(n.params),new zn(n.queryParams),new zn(n.fragment),new zn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Ou(n,s));return new $r(i,r)}}const G_="ngNavigationCancelingError";function v(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=hc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=g(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function g(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[G_]=!0,i.cancellationCode=e,t&&(i.url=t),i}function _(n){return E(n)&&hc(n.url)}function E(n){return n&&n[G_]}class R{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new N,this.attachRef=null}}let N=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new R,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const G=!1;let ie=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(N),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,G);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,G);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,G);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new d.vHH(4013,G);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,h=new Ne(t,c,r.injector);if(i&&function Qe(n){return!!n.resolveComponentFactory}(i)){const p=i.resolveComponentFactory(o);this.activated=r.createComponent(p,r.length,h)}else this.activated=r.createComponent(o,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class Ne{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===qi?this.route:e===N?this.childContexts:this.parent.get(e,t)}}let dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,i){1&t&&d._UZ(0,"router-outlet")},dependencies:[ie],encapsulation:2}),n})();function pt(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zd(n){const e=n.children&&n.children.map(Zd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=dt),t}function Cs(n){return n.outlet||Pt}function Pf(n,e){const t=n.filter(i=>Cs(i)===e);return t.push(...n.filter(i=>Cs(i)!==e)),t}function Pu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ff{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),yc(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=ku(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),S(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=ku(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=ku(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=ku(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new as(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ru(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(yc(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),yc(c.route.value),this.activateChildRoutes(e,null,o.children)}else{const c=Pu(r.snapshot),h=c?.get(d._Vd)??null;o.attachRef=null,o.route=r,o.resolver=h,o.injector=c,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class Bv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Uv{constructor(e,t){this.component=e,this.route=t}}function zm(n,e,t){const i=n._root;return Nf(i,e?e._root:null,t,[i.value])}function Yd(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function Nf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ku(e);return n.children.forEach(o=>{(function IE(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const h=function uP(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Gi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gi(n.url,e.url)||!xs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!go(n,e)||!xs(n.queryParams,e.queryParams);default:return!go(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new Bv(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Nf(n,e,s.component?c?c.children:null:t,i,r),h&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Uv(c.outlet.component,o))}else o&&$m(e,c,r),r.canActivateChecks.push(new Bv(i)),Nf(n,null,s.component?c?c.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),S(s,(o,c)=>$m(o,t.getContext(c),r)),r}function $m(n,e,t){const i=ku(n),r=n.value;S(i,(s,o)=>{$m(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Uv(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Lf(n){return"function"==typeof n}function vc(n){return n instanceof oc||"EmptyError"===n?.name}const K_=Symbol("INITIAL_VALUE");function Fu(){return ii(n=>wu(n.map(e=>e.pipe(ss(1),fo(K_)))).pipe((0,wt.U)(e=>{for(const t of e)if(!0!==t){if(t===K_)return K_;if(!1===t||t instanceof Pn)return t}return!0}),nr(e=>e!==K_),ss(1)))}function Wv(n){return(0,Cm.z)((0,si.b)(e=>{if(hc(e))throw v(0,e)}),(0,wt.U)(e=>!0===e))}const Kv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AE(n,e,t,i,r){const s=Zv(n,e,t);return s.matched?function Vf(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ot(r.map(o=>{const c=Yd(o,n);return k(function $v(n){return n&&Lf(n.canMatch)}(c)?c.canMatch(e,t):n.runInContext(()=>c(e,t)))})).pipe(Fu(),Wv()):ot(!0)}(i=pt(e,i),e,t).pipe((0,wt.U)(o=>!0===o?s:{...Kv})):ot(s)}function Zv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Kv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||yf)(t,n,e);if(!r)return{...Kv};const s={};S(r.posParams,(c,h)=>{s[h]=c.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Bf(n,e,t,i){if(t.length>0&&function PT(n,e,t){return t.some(i=>Yv(n,e,i)&&Cs(i)!==Pt)}(n,t,i)){const s=new qt(e,function RE(n,e,t,i){const r={};r[Pt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Cs(s)!==Pt){const o=new qt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Cs(s)]=o}return r}(n,e,i,new qt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function kE(n,e,t){return t.some(i=>Yv(n,e,i))}(n,t,i)){const s=new qt(n.segments,function OT(n,e,t,i,r){const s={};for(const o of i)if(Yv(n,t,o)&&!r[Cs(o)]){const c=new qt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,s[Cs(o)]=c}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new qt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Yv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function OE(n,e,t,i){return!!(Cs(n)===i||i!==Pt&&Yv(e,t,n))&&("**"===n.path||Zv(e,n,t).matched)}function Uf(n,e,t){return 0===e.length&&!n.children[t]}const Q_=!1;class wc{constructor(e){this.segmentGroup=e||null}}class Hf{constructor(e){this.urlTree=e}}function Gm(n){return hl(new wc(n))}function Qv(n){return hl(new Hf(n))}class PE{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=Bf(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Pt).pipe((0,wt.U)(s=>this.createUrlTree(pl(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zo(s=>{if(s instanceof Hf)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof wc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Pt).pipe((0,wt.U)(r=>this.createUrlTree(pl(r),e.queryParams,e.fragment))).pipe(zo(r=>{throw r instanceof wc?this.noMatchError(r):r}))}noMatchError(e){return new d.vHH(4002,Q_)}createUrlTree(e,t,i){const r=Cf(e);return new Pn(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,wt.U)(s=>new qt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,gn.D)(r).pipe(Us(s=>{const o=i.children[s],c=Pf(t,s);return this.expandSegmentGroup(e,c,o,s).pipe((0,wt.U)(h=>({segment:h,outlet:s})))}),Cu((s,o)=>(s[o.outlet]=o.segment,s),{}),Iu())}expandSegment(e,t,i,r,s,o){return(0,gn.D)(i).pipe(Us(c=>this.expandSegmentAgainstRoute(e,t,i,c,r,s,o).pipe(zo(p=>{if(p instanceof wc)return ot(null);throw p}))),vs(c=>!!c),zo((c,h)=>{if(vc(c))return Uf(t,r,s)?ot(new qt([],{})):Gm(t);throw c}))}expandSegmentAgainstRoute(e,t,i,r,s,o,c){return OE(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):Gm(t):Gm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Qv(s):this.lineralizeSegments(i,s).pipe((0,ri.z)(o=>{const c=new qt(o,{});return this.expandSegment(e,c,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:c,consumedSegments:h,remainingSegments:p,positionalParamSegments:b}=Zv(t,r,s);if(!c)return Gm(t);const x=this.applyRedirectCommands(h,r.redirectTo,b);return r.redirectTo.startsWith("/")?Qv(x):this.lineralizeSegments(r,x).pipe((0,ri.z)(I=>this.expandSegment(e,t,i,I.concat(p),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=pt(i,e),i.loadChildren?(i._loadedRoutes?ot({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,wt.U)(c=>(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,new qt(r,{})))):ot(new qt(r,{}))):AE(t,i,r,e).pipe(ii(({matched:o,consumedSegments:c,remainingSegments:h})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe((0,ri.z)(b=>{const x=b.injector??e,I=b.routes,{segmentGroup:M,slicedSegments:P}=Bf(t,c,h,I),F=new qt(M.segments,M.children);if(0===P.length&&F.hasChildren())return this.expandChildren(x,I,F).pipe((0,wt.U)(ee=>new qt(c,ee)));if(0===I.length&&0===P.length)return ot(new qt(c,{}));const L=Cs(i)===s;return this.expandSegment(x,F,I,P,L?Pt:s,!0).pipe((0,wt.U)(W=>new qt(c.concat(W.segments),W.children)))})):Gm(t)))}getChildConfig(e,t,i){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function kT(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ot(!0):ot(r.map(o=>{const c=Yd(o,n);return k(function jv(n){return n&&Lf(n.canLoad)}(c)?c.canLoad(e,t):n.runInContext(()=>c(e,t)))})).pipe(Fu(),Wv())}(e,t,i).pipe((0,ri.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,si.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function NT(n){return hl(g(Q_,3))}())):ot({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ot(i);if(r.numberOfChildren>1||!r.children[Pt])return e.redirectTo,hl(new d.vHH(4e3,Q_));r=r.children[Pt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Pn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return S(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const c=r.substring(1);i[s]=t[c]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return S(t.children,(c,h)=>{o[h]=this.createSegmentGroup(e,c,i,r)}),new qt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new d.vHH(4001,Q_);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Xv{}class qm{constructor(e,t,i,r,s,o,c){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c}recognize(){const e=Bf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Pt).pipe((0,wt.U)(t=>{if(null===t)return null;const i=new kf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $r(i,t),s=new Wo(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Af(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,gn.D)(Object.keys(i.children)).pipe(Us(r=>{const s=i.children[r],o=Pf(t,r);return this.processSegmentGroup(e,o,s,r)}),Cu((r,s)=>r&&s?(r.push(...s),r):null),function po(n,e=!1){return(0,Fi.e)((t,i)=>{let r=0;t.subscribe((0,mi.x)(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),Ca(null),Iu(),(0,wt.U)(r=>{if(null===r)return null;const s=NE(r);return function BT(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,gn.D)(t).pipe(Us(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),vs(o=>!!o),zo(o=>{if(vc(o))return Uf(i,r,s)?ot([]):ot(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!OE(t,i,r,s))return ot(null);let o;if("**"===t.path){const c=r.length>0?xf(r).parameters:{},h=VE(i)+r.length;o=ot({snapshot:new kf(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_l(t),Cs(t),t.component??t._loadedComponent??null,t,LE(i),h,BE(t)),consumedSegments:[],remainingSegments:[]})}else o=AE(i,t,r,e).pipe((0,wt.U)(({matched:c,consumedSegments:h,remainingSegments:p,parameters:b})=>{if(!c)return null;const x=VE(i)+h.length;return{snapshot:new kf(h,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_l(t),Cs(t),t.component??t._loadedComponent??null,t,LE(i),x,BE(t)),consumedSegments:h,remainingSegments:p}}));return o.pipe(ii(c=>{if(null===c)return ot(null);const{snapshot:h,consumedSegments:p,remainingSegments:b}=c;e=t._injector??e;const x=t._loadedInjector??e,I=function UT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:P}=Bf(i,p,b,I.filter(L=>void 0===L.redirectTo));if(0===P.length&&M.hasChildren())return this.processChildren(x,I,M).pipe((0,wt.U)(L=>null===L?null:[new $r(h,L)]));if(0===I.length&&0===P.length)return ot([new $r(h,[])]);const F=Cs(t)===s;return this.processSegment(x,I,M,P,F?Pt:s).pipe((0,wt.U)(L=>null===L?null:[new $r(h,L)]))}))}}function HT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function NE(n){const e=[],t=new Set;for(const i of n){if(!HT(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=NE(i.children);e.push(new $r(i.value,r))}return e.filter(i=>!t.has(i))}function LE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function VE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function _l(n){return n.data||{}}function BE(n){return n.resolve||{}}function e0(n){return"string"==typeof n.title||null===n.title}function t0(n){return ii(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,wt.U)(()=>e)):ot(e)})}const jf=new d.OlP("ROUTES");let r0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=k(t.loadComponent()).pipe((0,wt.U)(jE),(0,si.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),cc(()=>{this.componentLoaders.delete(t)})),r=new Eu(i,()=>new Dn.x).pipe(kd());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ot({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,wt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,p,b=!1;Array.isArray(c)?p=c:(h=c.create(t).injector,p=wf(h.get(jf,[],d.XFs.Self|d.XFs.Optional)));return{routes:p.map(Zd),injector:h}}),cc(()=>{this.childrenLoaders.delete(i)})),o=new Eu(s,()=>new Dn.x).pipe(kd());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return k(t()).pipe((0,wt.U)(jE),(0,ri.z)(i=>i instanceof d.YKP||Array.isArray(i)?ot(i):(0,gn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jE(n){return function Ma(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let J_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Dn.x,this.configLoader=(0,d.f3M)(r0),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Go),this.rootContexts=(0,d.f3M)(N),this.navigationId=0,this.afterPreactivation=()=>ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new V_(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Wd(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new zn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$d,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nr(i=>0!==i.id),(0,wt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),ii(i=>{let r=!1,s=!1;return ot(i).pipe((0,si.b)(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ii(o=>{const c=t.browserUrlTree.toString(),h=!t.navigated||o.extractedUrl.toString()!==c||c!==t.currentUrlTree.toString();if(!h&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new gl(o.id,t.serializeUrl(i.rawUrl),b,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),rs.E}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return zE(o.source)&&(t.browserUrlTree=o.extractedUrl),ot(o).pipe(ii(b=>{const x=this.transitions?.getValue();return this.events.next(new Pm(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),x!==this.transitions?.getValue()?rs.E:Promise.resolve(b)}),function FE(n,e,t,i){return ii(r=>function LT(n,e,t,i,r){return new PE(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,wt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,si.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function zT(n,e,t,i,r){return(0,ri.z)(s=>function Jv(n,e,t,i,r,s,o="emptyOnly"){return new qm(n,e,t,i,r,o,s).recognize().pipe(ii(c=>null===c?function VT(n){return new ni.y(e=>e.error(n))}(new Xv):ot(c)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,wt.U)(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,si.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const I=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(I,b)}t.browserUrlTree=b.urlAfterRedirects}const x=new Au(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(x)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:x,source:I,restoredState:M,extras:P}=o,F=new Pm(b,this.urlSerializer.serialize(x),I,M);this.events.next(F);const L=H_(x,this.rootComponentType).snapshot;return ot(i={...o,targetSnapshot:L,urlAfterRedirects:x,extras:{...P,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new gl(o.id,t.serializeUrl(i.extractedUrl),b,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),rs.E}}),(0,si.b)(o=>{const c=new Ov(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),(0,wt.U)(o=>i={...o,guards:zm(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Z_(n,e){return(0,ri.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ot({...t,guardsResult:!0}):function AT(n,e,t,i){return(0,gn.D)(n).pipe((0,ri.z)(r=>function RT(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ot(s.map(c=>{const h=Pu(e)??r,p=Yd(c,h);return k(function TT(n){return n&&Lf(n.canDeactivate)}(p)?p.canDeactivate(n,e,t,i):h.runInContext(()=>p(n,e,t,i))).pipe(vs())})).pipe(Fu()):ot(!0)}(r.component,r.route,t,e,i)),vs(r=>!0!==r,!0))}(o,i,r,n).pipe((0,ri.z)(c=>c&&function SE(n){return"boolean"==typeof n}(c)?function Gv(n,e,t,i){return(0,gn.D)(e).pipe(Us(r=>lc(function Qd(n,e){return null!==n&&e&&e(new B_(n)),ot(!0)}(r.route.parent,i),function Y_(n,e){return null!==n&&e&&e(new Nm(n)),ot(!0)}(r.route,i),function qv(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Hv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>_f(()=>ot(o.guards.map(h=>{const p=Pu(o.node)??t,b=Yd(h,p);return k(function zv(n){return n&&Lf(n.canActivateChild)}(b)?b.canActivateChild(i,n):p.runInContext(()=>b(i,n))).pipe(vs())})).pipe(Fu())));return ot(s).pipe(Fu())}(n,r.path,t),function ME(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const r=i.map(s=>_f(()=>{const o=Pu(e)??t,c=Yd(s,o);return k(function dP(n){return n&&Lf(n.canActivate)}(c)?c.canActivate(e,n):o.runInContext(()=>c(e,n))).pipe(vs())}));return ot(r).pipe(Fu())}(n,r.route,t))),vs(r=>!0!==r,!0))}(i,s,n,e):ot(c)),(0,wt.U)(c=>({...t,guardsResult:c})))})}(this.environmentInjector,o=>this.events.next(o)),(0,si.b)(o=>{if(i.guardsResult=o.guardsResult,hc(o.guardsResult))throw v(0,o.guardsResult);const c=new Pv(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),nr(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),t0(o=>{if(o.guards.canActivateChecks.length)return ot(o).pipe((0,si.b)(c=>{const h=new Fv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),ii(c=>{let h=!1;return ot(c).pipe(function hP(n,e){return(0,ri.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ot(t);let s=0;return(0,gn.D)(r).pipe(Us(o=>function fP(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!e0(r)&&(s[ws]=r.title),function UE(n,e,t,i){const r=function pP(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ot({});const s={};return(0,gn.D)(r).pipe((0,ri.z)(o=>function HE(n,e,t,i){const r=Pu(e)??i,s=Yd(n,r);return k(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(vs(),(0,si.b)(c=>{s[o]=c}))),Du(1),function Pd(n){return(0,wt.U)(()=>n)}(s),zo(o=>vc(o)?rs.E:hl(o)))}(s,n,e,i).pipe((0,wt.U)(o=>(n._resolvedData=o,n.data=Af(n,t).resolve,r&&e0(r)&&(n.data[ws]=r.title),null)))}(o.route,i,n,e)),(0,si.b)(()=>s++),Du(1),(0,ri.z)(o=>s===r.length?ot(t):rs.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,si.b)({next:()=>h=!0,complete:()=>{h||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),(0,si.b)(c=>{const h=new Fm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),t0(o=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe((0,si.b)(b=>{h.component=b}),(0,wt.U)(()=>{})));for(const b of h.children)p.push(...c(b));return p};return wu(c(o.targetSnapshot.root)).pipe(Ca(),ss(1))}),t0(()=>this.afterPreactivation()),(0,wt.U)(o=>{const c=function bc(n,e,t){const i=Ou(n,e._root,t?t._root:void 0);return new U_(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:c}}),(0,si.b)(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(i=>(new Ff(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),ss(1),(0,si.b)({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Hs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),cc(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),zo(o=>{if(s=!0,E(o)){_(o)||(t.navigated=!0,t.restoreHistory(i,!0));const c=new Gd(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(c),_(o)){const h=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zE(i.source)};t.scheduleNavigation(h,$d,null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const c=new qd(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(c);try{i.resolve(t.errorHandler(o))}catch(h){i.reject(h)}}return rs.E}))}))}cancelNavigationTransition(t,i,r){const s=new Gd(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zE(n){return n!==$d}let $E=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Pt);return i}getResolvedTitleForRoute(t){return t.data[ws]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)($T)},providedIn:"root"}),n})(),$T=(()=>{class n extends $E{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vm))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(qT)},providedIn:"root"}),n})();class GT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let qT=(()=>{class n extends GT{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qt=new d.OlP("",{providedIn:"root",factory:()=>({})});let qE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(WE)},providedIn:"root"}),n})(),WE=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KT(n){throw n}function ZT(n,e,t){return e.parse("/")}const KE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let js=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Qt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||KT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ZT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(qE),this.routeReuseStrategy=(0,d.f3M)(GE),this.urlCreationStrategy=(0,d.f3M)(Nv),this.titleStrategy=(0,d.f3M)($E),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wf((0,d.f3M)(jf,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(J_),this.urlSerializer=(0,d.f3M)(Go),this.location=(0,d.f3M)(Ke),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=H_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$d,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const h={...r};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const c=this.parseUrl(t);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Zd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:h}=i,p=h?this.currentUrlTree.fragment:o;let b=null;switch(c){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,b,p??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=hc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,$d,null,i)}navigate(t,i={skipLocationChange:!1}){return function QT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...KE}:!1===i?{...YT}:i,hc(t))return he(this.currentUrlTree,t,r);const s=this.parseUrl(t);return he(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,h,p,b;return o?(c=o.resolve,h=o.reject,p=o.promise):p=new Promise((x,I)=>{c=x,h=I}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(x=>Promise.reject(x))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class o0{}let a0=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(nr(t=>t instanceof Hs),Us(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,d.MMx)(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return(0,gn.D)(r).pipe((0,xu.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ot(null);const s=r.pipe((0,ri.z)(o=>null===o?ot(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){const o=this.loader.loadComponent(i);return(0,gn.D)([s,o]).pipe((0,xu.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(js),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(o0),d.LFG(r0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zm=new d.OlP("");let YE=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Pm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var Ko=(()=>((Ko=Ko||{})[Ko.COMPLETE=0]="COMPLETE",Ko[Ko.FAILED=1]="FAILED",Ko[Ko.REDIRECTING=2]="REDIRECTING",Ko))();const Ym=!1;function Xd(n,e){return{\u0275kind:n,\u0275providers:e}}const c0=new d.OlP("",{providedIn:"root",factory:()=>!1});function Qm(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(js),r=n.get(QE);1===n.get(ty)&&i.initialNavigation(),n.get(XE,null,d.XFs.Optional)?.setUpPreloading(),n.get(Zm,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const QE=new d.OlP(Ym?"bootstrap done indicator":"",{factory:()=>new Dn.x}),ty=new d.OlP(Ym?"initial navigation":"",{providedIn:"root",factory:()=>1});function tM(){let n=[];return n=Ym?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(js);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Lm(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Xd(1,n)}const XE=new d.OlP(Ym?"router preloader":"");function nM(n){return Xd(0,[{provide:XE,useExisting:a0},{provide:o0,useExisting:n}])}const Gf=!1,sM=new d.OlP(Gf?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),u0=[Ke,{provide:Go,useClass:Fd},js,N,{provide:qi,useFactory:function l0(n){return n.routerState.root},deps:[js]},r0,Gf?{provide:c0,useValue:!0}:[]];function oM(){return new d.PXZ("Router",js)}let aM=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[u0,Gf&&i?.enableTracing?tM().\u0275providers:[],{provide:jf,multi:!0,useValue:t},{provide:sM,useFactory:tC,deps:[[js,new d.FiY,new d.tp0]]},{provide:Qt,useValue:i||{}},i?.useHash?{provide:Et,useClass:He}:{provide:Et,useClass:Ue},{provide:Zm,useFactory:()=>{const n=(0,d.f3M)(Ul),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Qt),i=(0,d.f3M)(J_),r=(0,d.f3M)(Go);return t.scrollOffset&&n.setOffset(t.scrollOffset),new YE(r,i,n,e,t)}},i?.preloadingStrategy?nM(i.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:oM},i?.initialNavigation?cM(i):[],[{provide:nC,useFactory:Qm},{provide:d.tb,multi:!0,useExisting:nC}]]}}static forChild(t){return{ngModule:n,providers:[{provide:jf,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sM,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[dt]}),n})();function tC(n){if(Gf&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function cM(n){return["disabled"===n.initialNavigation?Xd(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(js);return()=>{e.setUpLocationChangeListener()}}},{provide:ty,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xd(2,[{provide:ty,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(ve,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(js),s=e.get(QE);(function _P(n,e){n.events.pipe(nr(t=>t instanceof Hs||t instanceof Gd||t instanceof qd||t instanceof gl),(0,wt.U)(t=>t instanceof Hs||t instanceof gl?Ko.COMPLETE:t instanceof Gd&&(0===t.code||1===t.code)?Ko.REDIRECTING:Ko.FAILED),nr(t=>t!==Ko.REDIRECTING),ss(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(J_).afterPreactivation=()=>(i(!0),s.closed?ot(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const nC=new d.OlP(Gf?"Router Initializer":""),d0=[];let Jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[aM.forRoot(d0),aM]}),n})();var Wf=H(4986),Xn=H(4976);function iy(){return(0,Fi.e)((n,e)=>{let t,i=!1;n.subscribe((0,mi.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function ry(n,e=Uo.y){return n=n??h0,(0,Fi.e)((t,i)=>{let r,s=!0;t.subscribe((0,mi.x)(i,o=>{const c=e(o);(s||!n(r,c))&&(s=!1,r=c,i.next(o))}))})}function h0(n,e){return n===e}var mt,Gr=H(2011),sy=(H(3042),H(3942)),Ce=H(5861),Aa=H(6881),Jd=H(4859),Nu=H(1877),rn=H(2090),iC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ra={},Ds=Ds||{},tn=iC||self;function oy(){}function f0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function eh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var p0="closure_uid_"+(1e9*Math.random()>>>0),dM=0;function hM(n,e,t){return n.call.apply(n.bind,arguments)}function sC(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ls(n,e,t){return(ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hM:sC).apply(null,arguments)}function ay(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function rr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),c=2;c<arguments.length;c++)o[c-2]=arguments[c];return e.prototype[r].apply(i,o)}}function Lu(){this.s=this.s,this.o=this.o}Lu.prototype.s=!1,Lu.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function rC(n){Object.prototype.hasOwnProperty.call(n,p0)&&n[p0]||(n[p0]=++dM)}(this)},Lu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function m0(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function aC(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(f0(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function oi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}oi.prototype.h=function(){this.defaultPrevented=!0};var g0=function(){if(!tn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tn.addEventListener("test",oy,e),tn.removeEventListener("test",oy,e)}catch{}return n}();function ly(n){return/^[\s\xa0]*$/.test(n)}var lC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function cy(n,e){return n<e?-1:n>e?1:0}function uy(){var n=tn.navigator;return n&&(n=n.userAgent)?n:""}function yl(n){return-1!=uy().indexOf(n)}function _0(n){return _0[" "](n),n}function dy(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}_0[" "]=oy;var y0,n,pM=yl("Opera"),Kf=yl("Trident")||yl("MSIE"),eg=yl("Edge"),Zf=eg||Kf,tg=yl("Gecko")&&!(-1!=uy().toLowerCase().indexOf("webkit")&&!yl("Edge"))&&!(yl("Trident")||yl("MSIE"))&&!yl("Edge"),wP=-1!=uy().toLowerCase().indexOf("webkit")&&!yl("Edge");function hy(){var n=tn.document;return n?n.documentMode:void 0}e:{var fy="",py=(n=uy(),tg?/rv:([^\);]+)(\)|;)/.exec(n):eg?/Edge\/([\d\.]+)/.exec(n):Kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wP?/WebKit\/(\S+)/.exec(n):pM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(py&&(fy=py?py[1]:""),Kf){var my=hy();if(null!=my&&my>parseFloat(fy)){y0=String(my);break e}}y0=fy}var cC={},gy=tn.document&&Kf&&(hy()||parseInt(y0,10))||void 0;function xc(n,e){if(oi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tg){e:{try{_0(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mM[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xc.$.h.call(this)}}rr(xc,oi);var mM={2:"touch",3:"pen",4:"mouse"};xc.prototype.h=function(){xc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),uC=0;function gM(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++uC,this.fa=this.ia=!1}function _y(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function th(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function dC(n){const e={};for(const t in n)e[t]=n[t];return e}const _M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hC(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<_M.length;s++)t=_M[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function yy(n){this.src=n,this.g={},this.h=0}function v0(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=oC(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(_y(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function w0(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}yy.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=w0(n,e,i,r);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new gM(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var x0="closure_lm_"+(1e6*Math.random()|0),E0={};function fC(n,e,t,i,r){if(i&&i.once)return pC(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fC(n,e[s],t,i,r);return null}return t=M0(t),n&&n[Yf]?n.O(e,t,eh(i)?!!i.capture:!!i,r):C0(n,e,t,!1,i,r)}function C0(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=eh(r)?!!r.capture:!!r,c=S0(n);if(c||(n[x0]=c=new yy(n)),(t=c.add(e,t,i,o,s)).proxy)return t;if(i=function D0(){const e=yM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)g0||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(mC(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function pC(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)pC(n,e[s],t,i,r);return null}return t=M0(t),n&&n[Yf]?n.P(e,t,eh(i)?!!i.capture:!!i,r):C0(n,e,t,!0,i,r)}function by(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)by(n,e[s],t,i,r);else i=eh(i)?!!i.capture:!!i,t=M0(t),n&&n[Yf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=w0(s=n.g[e],t,i,r))&&(_y(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=S0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=w0(e,t,i,r)),(t=-1<n?e[n]:null)&&I0(t))}function I0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Yf])v0(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(mC(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=S0(e))?(v0(t,n),0==t.h&&(t.src=null,e[x0]=null)):_y(n)}}}function mC(n){return n in E0?E0[n]:E0[n]="on"+n}function yM(n,e){if(n.fa)n=!0;else{e=new xc(e,this);var t=n.listener,i=n.la||n.src;n.ia&&I0(n),n=t.call(i,e)}return n}function S0(n){return(n=n[x0])instanceof yy?n:null}var T0="__closure_events_fn_"+(1e9*Math.random()>>>0);function M0(n){return"function"==typeof n?n:(n[T0]||(n[T0]=function(e){return n.handleEvent(e)}),n[T0])}function kr(){Lu.call(this),this.i=new yy(this),this.S=this,this.J=null}function Or(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new oi(e,n);else if(e instanceof oi)e.target=e.target||n;else{var r=e;hC(e=new oi(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=ig(o,i,!0,e)&&r}if(r=ig(o=e.g=n,i,!0,e)&&r,r=ig(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=ig(o=e.g=t[s],i,!1,e)&&r}function ig(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var c=o.listener,h=o.la||o.src;o.ia&&v0(n.i,o),r=!1!==c.call(h,i)&&r}}return r&&!i.defaultPrevented}rr(kr,Lu),kr.prototype[Yf]=!0,kr.prototype.removeEventListener=function(n,e,t,i){by(this,n,e,t,i)},kr.prototype.N=function(){if(kr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)_y(t[i]);delete n.g[e],n.h--}}this.J=null},kr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},kr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var A0=tn.JSON.stringify;function xP(){var n=Qf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var rg,bM=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vy,n=>n.reset());class vy{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vM(n){tn.setTimeout(()=>{throw n},0)}function _C(n,e){rg||function wM(){var n=tn.Promise.resolve(void 0);rg=function(){n.then(cs)}}(),Zo||(rg(),Zo=!0),Qf.add(n,e)}var Zo=!1,Qf=new class gC{constructor(){this.h=this.g=null}add(e,t){const i=bM.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function cs(){for(var n;n=xP();){try{n.h.call(n.g)}catch(t){vM(t)}var e=bM;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Zo=!1}function bl(n,e){kr.call(this),this.h=n||1,this.g=e||tn,this.j=ls(this.qb,this),this.l=Date.now()}function Xf(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function zs(n,e,t){if("function"==typeof n)t&&(n=ls(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ls(n.handleEvent,n)}return 2147483647<Number(e)?-1:tn.setTimeout(n,e||0)}function wy(n){n.g=zs(()=>{n.g=null,n.i&&(n.i=!1,wy(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}rr(bl,kr),(mt=bl.prototype).ga=!1,mt.T=null,mt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Or(this,"tick"),this.ga&&(Xf(this),this.start()))}},mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mt.N=function(){bl.$.N.call(this),Xf(this),delete this.g};class Jf extends Lu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wy(this)}N(){super.N(),this.g&&(tn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vl(n){Lu.call(this),this.h=n,this.g={}}rr(vl,Lu);var nh=[];function ih(n,e,t,i){Array.isArray(t)||(t&&(nh[0]=t.toString()),t=nh);for(var r=0;r<t.length;r++){var s=fC(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function rh(n){th(n.g,function(e,t){this.g.hasOwnProperty(t)&&I0(e)},n),n.g={}}function Ec(){this.g=!0}function Oa(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return A0(t)}catch{return e}}(n,t)+(i?" "+i:"")})}vl.prototype.N=function(){vl.$.N.call(this),rh(this)},vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ec.prototype.Ea=function(){this.g=!1},Ec.prototype.info=function(){};var Vu={},R0=null;function sg(){return R0=R0||new kr}function k0(n){oi.call(this,Vu.Ta,n)}function np(n){const e=sg();Or(e,new k0(e))}function O0(n,e){oi.call(this,Vu.STAT_EVENT,n),this.stat=e}function us(n){const e=sg();Or(e,new O0(e,n))}function vC(n,e){oi.call(this,Vu.Ua,n),this.size=e}function og(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tn.setTimeout(function(){n()},e)}Vu.Ta="serverreachability",rr(k0,oi),Vu.STAT_EVENT="statevent",rr(O0,oi),Vu.Ua="timingevent",rr(vC,oi);var ag={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xy(){}function Cy(){}xy.prototype.h=null;var cg,lg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ip(){oi.call(this,"d")}function rp(){oi.call(this,"c")}function Dy(){}function Bu(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new vl(this),this.P=P0,this.V=new bl(n=Zf?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new ug}function ug(){this.i=null,this.g="",this.h=!1}rr(ip,oi),rr(rp,oi),rr(Dy,xy),Dy.prototype.g=function(){return new XMLHttpRequest},Dy.prototype.i=function(){return{}},cg=new Dy;var P0=45e3,Iy={},sp={};function Sy(n,e,t){n.L=1,n.v=oh(wl(e)),n.s=t,n.S=!0,F0(n,null)}function F0(n,e){n.G=Date.now(),op(n),n.A=wl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),j0(t.i,"t",i),n.C=0,t=n.l.I,n.h=new ug,n.g=$C(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Jf(ls(n.Pa,n,n.g),n.O)),ih(n.U,n.g,"readystatechange",n.nb),e=n.I?dC(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),np(),function ep(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",c=s.split("&"),h=0;h<c.length;h++){var p=c[h].split("=");if(1<p.length){var b=p[0];p=p[1];var x=b.split("_");o=2<=x.length&&"type"==x[1]?o+(b+"=")+p+"&":o+(b+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Ty(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function N0(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=xM(n,t),r==sp){4==e&&(n.o=4,us(14),i=!1),Oa(n.j,n.m,null,"[Incomplete Response]");break}if(r==Iy){n.o=4,us(15),Oa(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Oa(n.j,n.m,r,null),My(n,r)}Ty(n)&&r!=sp&&r!=Iy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,us(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),By(e),e.L=!0,us(11))):(Oa(n.j,n.m,t,"[Invalid Chunked Response]"),sh(n),ap(n))}function xM(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?sp:(t=Number(e.substring(t,i)),isNaN(t)?Iy:(i+=1)+t>e.length?sp:(e=e.substr(i,t),n.C=i+t,e))}function op(n){n.Y=Date.now()+n.P,L0(n,n.P)}function L0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=og(ls(n.lb,n),e)}function dg(n){n.B&&(tn.clearTimeout(n.B),n.B=null)}function ap(n){0==n.l.H||n.J||UC(n.l,n)}function sh(n){dg(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Xf(n.V),rh(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function My(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Oy(t.h,n)))if(!n.K&&Oy(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;yg(t),_g(t)}Vy(t),us(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=og(ls(t.ib,t),6e3));if(1>=MC(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else dh(t,11)}else if((n.K||t.g==n)&&yg(t),!ly(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let p=r[e];if(t.V=p[0],p=p[1],2==t.H)if("c"==p[0]){t.J=p[1],t.oa=p[2];const b=p[3];null!=b&&(t.qa=b,t.j.info("VER="+t.qa));const x=p[4];null!=x&&(t.Ga=x,t.j.info("SVER="+t.Ga));const I=p[5];null!=I&&"number"==typeof I&&0<I&&(t.K=i=1.5*I,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const M=n.g;if(M){const P=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=i.h;s.g||-1==P.indexOf("spdy")&&-1==P.indexOf("quic")&&-1==P.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Py(s,s.h),s.h=null))}if(i.F){const F=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(i.Da=F,ai(i.G,i.F,F))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var o=n;if((i=t).wa=zC(i,i.I?i.oa:null,i.Y),o.K){ch(i.h,o);var c=o,h=i.K;h&&c.setTimeout(h),c.B&&(dg(c),op(c)),i.g=o}else Q0(i);0<t.i.length&&dp(t)}else"stop"!=p[0]&&"close"!=p[0]||dh(t,7);else 3==t.H&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?dh(t,7):W0(t):"noop"!=p[0]&&t.l&&t.l.Aa(p),t.A=0)}np()}catch{}}function Ay(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(f0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function EC(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(f0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function xC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(f0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(mt=Bu.prototype).setTimeout=function(n){this.P=n},mt.nb=function(n){n=n.target;const e=this.M;e&&3==xl(n)?e.l():this.Pa(n)},mt.Pa=function(n){try{if(n==this.g)e:{const b=xl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Zf||this.g&&(this.h.h||this.g.ja()||VC(this.g)))){this.J||4!=b||7==e||np(),dg(this);var t=this.g.da();this.aa=t;t:if(Ty(this)){var i=VC(this.g);n="";var r=i.length,s=4==xl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sh(this),ap(this);var o="";break t}this.h.i=new tn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function tp(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ly(c)){var p=c;break t}}p=null}if(!(t=p)){this.i=!1,this.o=3,us(12),sh(this),ap(this);break e}Oa(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,My(this,t)}this.S?(N0(this,b,o),Zf&&this.i&&3==b&&(ih(this.U,this.V,"tick",this.mb),this.V.start())):(Oa(this.j,this.m,o,null),My(this,o)),4==b&&sh(this),this.i&&!this.J&&(4==b?UC(this.l,this):(this.i=!1,op(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,us(12)):(this.o=0,us(13)),sh(this),ap(this)}}}catch{}},mt.mb=function(){if(this.g){var n=xl(this.g),e=this.g.ja();this.C<e.length&&(dg(this),N0(this,n,e),this.i&&4!=n&&op(this))}},mt.cancel=function(){this.J=!0,sh(this)},mt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function yC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(np(),us(17)),sh(this),this.o=2,ap(this)):L0(this,this.Y-n)};var V0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Uu){this.h=void 0!==e?e:n.h,hg(this,n.j),this.s=n.s,this.g=n.g,fg(this,n.m),this.l=n.l,e=n.i;var t=new ky;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),B0(this,t),this.o=n.o}else n&&(t=String(n).match(V0))?(this.h=!!e,hg(this,t[1]||"",!0),this.s=Yo(t[2]||""),this.g=Yo(t[3]||"",!0),fg(this,t[4]),this.l=Yo(t[5]||"",!0),B0(this,t[6]||"",!0),this.o=Yo(t[7]||"")):(this.h=!!e,this.i=new ky(null,this.h))}function wl(n){return new Uu(n)}function hg(n,e,t){n.j=t?Yo(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function fg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function B0(n,e,t){e instanceof ky?(n.i=e,function _r(n,e){e&&!n.j&&(lh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(DC(this,i),j0(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pg(e,CM)),n.i=new ky(e,n.h))}function ai(n,e,t){n.i.set(e,t)}function oh(n){return ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yo(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,EM),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function EM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Uu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pg(e,Ry,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pg(e,Ry,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pg(t,"/"==t.charAt(0)?U0:ah,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pg(t,H0)),n.join("")};var Ry=/[#\/\?@]/g,ah=/[#\?:]/g,U0=/[#\?]/g,CM=/[#\?@]/g,H0=/#/g;function ky(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function lh(n){n.g||(n.g=new Map,n.h=0,n.i&&function CC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function DC(n,e){lh(n),e=lp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function IC(n,e){return lh(n),e=lp(n,e),n.g.has(e)}function j0(n,e,t){DC(n,e),0<t.length&&(n.i=null,n.g.set(lp(n,e),m0(t)),n.h+=t.length)}function lp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function TC(n){this.l=n||DM,n=tn.PerformanceNavigationTiming?0<(n=tn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tn.g&&tn.g.Ka&&tn.g.Ka()&&tn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(mt=ky.prototype).add=function(n,e){lh(this),this.i=null,n=lp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},mt.forEach=function(n,e){lh(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},mt.sa=function(){lh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},mt.Z=function(n){lh(this);let e=[];if("string"==typeof n)IC(this,n)&&(e=e.concat(this.g.get(lp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},mt.set=function(n,e){return lh(this),this.i=null,IC(this,n=lp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},mt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var DM=10;function z0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MC(n){return n.h?1:n.g?n.g.size:0}function Oy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Py(n,e){n.g?n.g.add(e):n.h=e}function ch(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function AC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return m0(n.i)}function $0(){}function RC(){this.g=new $0}function IM(n,e,t){const i=t||"";try{Ay(n,function(r,s){let o=r;eh(r)&&(o=A0(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function G0(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function uh(n){this.l=n.fc||null,this.j=n.ob||!1}function cp(n,e){kr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}TC.prototype.cancel=function(){if(this.i=AC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$0.prototype.stringify=function(n){return tn.JSON.stringify(n,void 0)},$0.prototype.parse=function(n){return tn.JSON.parse(n,void 0)},rr(uh,xy),uh.prototype.g=function(){return new cp(this.l,this.j)},uh.prototype.i=function(n){return function(){return n}}({}),rr(cp,kr);var Qo=0;function OC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function mg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,$s(n)}function $s(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(mt=cp.prototype).open=function(n,e){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,$s(this)},mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||tn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mg(this)),this.readyState=Qo},mt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,$s(this)),this.g&&(this.readyState=3,$s(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},mt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mg(this):$s(this),3==this.readyState&&OC(this)}},mt.Za=function(n){this.g&&(this.response=this.responseText=n,mg(this))},mt.Ya=function(n){this.g&&(this.response=n,mg(this))},mt.ka=function(){this.g&&mg(this)},mt.setRequestHeader=function(n,e){this.v.append(n,e)},mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Pa=tn.JSON.parse;function Rn(n){kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=q0,this.L=this.M=!1}rr(Rn,kr);var q0="",PC=/^https?$/i,SM=["POST","PUT"];function FC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,NC(n),Hu(n)}function NC(n){n.F||(n.F=!0,Or(n,"complete"),Or(n,"error"))}function Fy(n){if(n.h&&typeof Ds<"u"&&(!n.C[1]||4!=xl(n)||2!=n.da()))if(n.v&&4==xl(n))zs(n.La,0,n);else if(Or(n,"readystatechange"),4==xl(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===c){var r=String(n.I).match(V0)[1]||null;if(!r&&tn.self&&tn.self.location){var s=tn.self.location.protocol;r=s.substr(0,s.length-1)}i=!PC.test(r?r.toLowerCase():"")}t=i}if(t)Or(n,"complete"),Or(n,"success");else{n.m=6;try{var o=2<xl(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",NC(n)}}finally{Hu(n)}}}function Hu(n,e){if(n.g){LC(n);const t=n.g,i=n.C[0]?oy:null;n.g=null,n.C=null,e||Or(n,"ready");try{t.onreadystatechange=i}catch{}}}function LC(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(tn.clearTimeout(n.A),n.A=null)}function xl(n){return n.g?n.g.readyState:0}function VC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case q0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function BC(n){let e="";return th(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Ny(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=BC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ai(n,e,t))}function up(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gg(n){this.Ga=0,this.i=[],this.j=new Ec,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=up("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=up("baseRetryDelayMs",5e3,n),this.hb=up("retryDelaySeedMs",1e4,n),this.eb=up("forwardChannelMaxRetries",2,n),this.xa=up("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new TC(n&&n.concurrentRequestLimit),this.Ja=new RC,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function W0(n){if(K0(n),3==n.H){var e=n.W++,t=wl(n.G);ai(t,"SID",n.J),ai(t,"RID",e),ai(t,"TYPE","terminate"),hp(n,t),(e=new Bu(n,n.j,e,void 0)).L=2,e.v=oh(wl(t)),t=!1,tn.navigator&&tn.navigator.sendBeacon&&(t=tn.navigator.sendBeacon(e.v.toString(),"")),!t&&tn.Image&&((new Image).src=e.v,t=!0),t||(e.g=$C(e.l,null),e.g.ha(e.v)),e.G=Date.now(),op(e)}jC(n)}function _g(n){n.g&&(By(n),n.g.cancel(),n.g=null)}function K0(n){_g(n),n.u&&(tn.clearTimeout(n.u),n.u=null),yg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&tn.clearTimeout(n.m),n.m=null)}function dp(n){z0(n.h)||n.m||(n.m=!0,_C(n.Na,n),n.C=0)}function Z0(n,e){var t;t=e?e.m:n.W++;const i=wl(n.G);ai(i,"SID",n.J),ai(i,"RID",t),ai(i,"AID",n.V),hp(n,i),n.o&&n.s&&Ny(i,n.o,n.s),t=new Bu(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=Y0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Py(n.h,t),Sy(t,i,e)}function hp(n,e){n.ma&&th(n.ma,function(t,i){ai(e,i,t)}),n.l&&Ay({},function(t,i){ai(e,i,t)})}function Y0(n,e,t){t=Math.min(n.i.length,t);var i=n.l?ls(n.l.Va,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let c=!0;for(let h=0;h<t;h++){let p=r[h].h;const b=r[h].g;if(p-=s,0>p)s=Math.max(0,r[h].h-100),c=!1;else try{IM(b,o,"req"+p+"_")}catch{i&&i(b)}}if(c){i=o.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function Q0(n){n.g||n.u||(n.ba=1,_C(n.Ma,n),n.A=0)}function Vy(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=og(ls(n.Ma,n),HC(n,n.A)),n.A++,0))}function By(n){null!=n.B&&(tn.clearTimeout(n.B),n.B=null)}function X0(n){n.g=new Bu(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=wl(n.wa);ai(e,"RID","rpc"),ai(e,"SID",n.J),ai(e,"CI",n.M?"0":"1"),ai(e,"AID",n.V),ai(e,"TYPE","xmlhttp"),hp(n,e),n.o&&n.s&&Ny(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=oh(wl(e)),t.s=null,t.S=!0,F0(t,n)}function yg(n){null!=n.v&&(tn.clearTimeout(n.v),n.v=null)}function UC(n,e){var t=null;if(n.g==e){yg(n),By(n),n.g=null;var i=2}else{if(!Oy(n.h,e))return;t=e.F,ch(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Or(i=sg(),new vC(i,t)),dp(n)}else Q0(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function Ly(n,e){return!(MC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=og(ls(n.Na,n,e),HC(n,n.C)),n.C++,0)))}(n,e)||2==i&&Vy(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:dh(n,5);break;case 4:dh(n,10);break;case 3:dh(n,6);break;default:dh(n,2)}}function HC(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function dh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=ls(n.pb,n);t||(t=new Uu("//www.google.com/images/cleardot.gif"),tn.location&&"http"==tn.location.protocol||hg(t,"https"),oh(t)),function kC(n,e){const t=new Ec;if(tn.Image){const i=new Image;i.onload=ay(G0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ay(G0,t,i,"TestLoadImage: error",!1,e),i.onabort=ay(G0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ay(G0,t,i,"TestLoadImage: timeout",!1,e),tn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else us(2);n.H=0,n.l&&n.l.za(e),jC(n),K0(n)}function jC(n){if(n.H=0,n.pa=[],n.l){const e=AC(n.h);(0!=e.length||0!=n.i.length)&&(aC(n.pa,e),aC(n.pa,n.i),n.h.i.length=0,m0(n.i),n.i.length=0),n.l.ya()}}function zC(n,e,t){var i=t instanceof Uu?wl(t):new Uu(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),fg(i,i.m);else{var r=tn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Uu(null,void 0);i&&hg(s,i),e&&(s.g=e),r&&fg(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&ai(i,t,e),ai(i,"VER",n.qa),hp(n,i),i}function $C(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t&&n.Ha&&!n.va?new uh({ob:!0}):n.va)).Oa(n.I),e}function GC(){}function Uy(){if(Kf&&!(10<=Number(gy)))throw Error("Environmental error: no available transport.")}function yo(n,e){kr.call(this),this.g=new gg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ly(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ly(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fp(this)}function qC(n){ip.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WC(){rp.call(this),this.status=1}function fp(n){this.g=n}function Fa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function J0(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Vn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(mt=Rn.prototype).Oa=function(n){this.M=n},mt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cg.g(),this.C=function Ey(n){return n.h||(n.h=n.i())}(this.u?this.u:cg),this.g.onreadystatechange=ls(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void FC(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=tn.FormData&&n instanceof tn.FormData,!(0<=oC(SM,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LC(this),0<this.B&&((this.L=function TM(n){return Kf&&function b0(){return dy(cC,9,function(){let n=0;const e=lC(String(y0)).split("."),t=lC("9").split("."),i=Math.max(e.length,t.length);for(let o=0;0==n&&o<i;o++){var r=e[o]||"",s=t[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=cy(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||cy(0==r[2].length,0==s[2].length)||cy(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ls(this.ua,this)):this.A=zs(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){FC(this,s)}},mt.ua=function(){typeof Ds<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Or(this,"timeout"),this.abort(8))},mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Or(this,"complete"),Or(this,"abort"),Hu(this))},mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hu(this,!0)),Rn.$.N.call(this)},mt.La=function(){this.s||(this.G||this.v||this.l?Fy(this):this.kb())},mt.kb=function(){Fy(this)},mt.da=function(){try{return 2<xl(this)?this.g.status:-1}catch{return-1}},mt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},mt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Pa(e)}},mt.Ia=function(){return this.m},mt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(mt=gg.prototype).qa=8,mt.H=1,mt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Bu(this,this.j,n,void 0);let s=this.s;if(this.U&&(s?(s=dC(s),hC(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Y0(this,r,e),ai(t=wl(this.G),"RID",n),ai(t,"CVER",22),this.F&&ai(t,"X-HTTP-Session-Id",this.F),hp(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(BC(s)))+"&"+e:this.o&&Ny(t,this.o,s)),Py(this.h,r),this.bb&&ai(t,"TYPE","init"),this.P?(ai(t,"$req",e),ai(t,"SID","null"),r.ba=!0,Sy(r,t,null)):Sy(r,t,e),this.H=2}}else 3==this.H&&(n?Z0(this,n):0==this.i.length||z0(this.h)||Z0(this))},mt.Ma=function(){if(this.u=null,X0(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=og(ls(this.jb,this),n)}},mt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,us(10),_g(this),X0(this))},mt.ib=function(){null!=this.v&&(this.v=null,_g(this),Vy(this),us(19))},mt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),us(2)):(this.j.info("Failed to ping google.com"),us(1))},(mt=GC.prototype).Ba=function(){},mt.Aa=function(){},mt.za=function(){},mt.ya=function(){},mt.Va=function(){},Uy.prototype.g=function(n,e){return new yo(n,e)},rr(yo,kr),yo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;us(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=zC(n,null,n.Y),dp(n)},yo.prototype.close=function(){W0(this.g)},yo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=A0(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&dp(e)},yo.prototype.N=function(){this.g.l=null,delete this.j,W0(this.g),delete this.g,yo.$.N.call(this)},rr(qC,ip),rr(WC,rp),rr(fp,GC),fp.prototype.Ba=function(){Or(this.g,"a")},fp.prototype.Aa=function(n){Or(this.g,new qC(n))},fp.prototype.za=function(n){Or(this.g,new WC)},fp.prototype.ya=function(){Or(this.g,"b")},rr(Fa,function MM(){this.blockSize=-1}),Fa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)J0(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){J0(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){J0(this,i),r=0;break}}this.h=r,this.i+=e},Fa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var AM={};function ew(n){return-128<=n&&128>n?dy(AM,n,function(e){return new Vn([0|e],0>e?-1:0)}):new Vn([0|n],0>n?-1:0)}function Na(n){if(isNaN(n)||!isFinite(n))return hh;if(0>n)return Pr(Na(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Hy;return new Vn(e,0)}var Hy=4294967296,hh=ew(0),jy=ew(1),nw=ew(16777216);function El(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function bo(n){return-1==n.h}function Pr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Vn(t,~n.h).add(jy)}function pp(n,e){return n.add(Pr(e))}function bg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function La(n,e){this.g=n,this.h=e}function zy(n,e){if(El(e))throw Error("division by zero");if(El(n))return new La(hh,hh);if(bo(n))return e=zy(Pr(n),e),new La(Pr(e.g),Pr(e.h));if(bo(e))return e=zy(n,Pr(e)),new La(Pr(e.g),e.h);if(30<n.g.length){if(bo(n)||bo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=jy,i=e;0>=i.X(n);)t=KC(t),i=KC(i);var r=Va(t,1),s=Va(i,1);for(i=Va(i,2),t=Va(t,2);!El(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(t),s=o),i=Va(i,1),t=Va(t,1)}return e=pp(n,r.R(e)),new La(r,e)}for(r=hh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),o=(s=Na(t)).R(e);bo(o)||0<o.X(n);)o=(s=Na(t-=i)).R(e);El(s)&&(s=jy),r=r.add(s),n=pp(n,o)}return new La(r,n)}function KC(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Vn(t,n.h)}function Va(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Vn(r,n.h)}(mt=Vn.prototype).ea=function(){if(bo(this))return-Pr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Hy+i)*e,e*=Hy}return n},mt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(El(this))return"0";if(bo(this))return"-"+Pr(this).toString(n);for(var e=Na(Math.pow(n,6)),t=this,i="";;){var r=zy(t,e).g,s=((0<(t=pp(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(El(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},mt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},mt.X=function(n){return bo(n=pp(this,n))?-1:El(n)?0:1},mt.abs=function(){return bo(this)?Pr(this):this},mt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,t[r]=(o&=65535)<<16|(s&=65535)}return new Vn(t,-2147483648&t[t.length-1]?-1:0)},mt.R=function(n){if(El(this)||El(n))return hh;if(bo(this))return bo(n)?Pr(this).R(Pr(n)):Pr(Pr(this).R(n));if(bo(n))return Pr(this.R(Pr(n)));if(0>this.X(nw)&&0>n.X(nw))return Na(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),c=n.D(r)>>>16,h=65535&n.D(r);t[2*i+2*r]+=o*h,bg(t,2*i+2*r),t[2*i+2*r+1]+=s*h,bg(t,2*i+2*r+1),t[2*i+2*r+1]+=o*c,bg(t,2*i+2*r+1),t[2*i+2*r+2]+=s*c,bg(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Vn(t,0)},mt.gb=function(n){return zy(this,n).h},mt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Vn(t,this.h&n.h)},mt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Vn(t,this.h|n.h)},mt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Vn(t,this.h^n.h)},Uy.prototype.createWebChannel=Uy.prototype.g,yo.prototype.send=yo.prototype.u,yo.prototype.open=yo.prototype.m,yo.prototype.close=yo.prototype.close,ag.NO_ERROR=0,ag.TIMEOUT=8,ag.HTTP_ERROR=6,wC.COMPLETE="complete",Cy.EventType=lg,lg.OPEN="a",lg.CLOSE="b",lg.ERROR="c",lg.MESSAGE="d",kr.prototype.listen=kr.prototype.O,Rn.prototype.listenOnce=Rn.prototype.P,Rn.prototype.getLastError=Rn.prototype.Sa,Rn.prototype.getLastErrorCode=Rn.prototype.Ia,Rn.prototype.getStatus=Rn.prototype.da,Rn.prototype.getResponseJson=Rn.prototype.Wa,Rn.prototype.getResponseText=Rn.prototype.ja,Rn.prototype.send=Rn.prototype.ha,Rn.prototype.setWithCredentials=Rn.prototype.Oa,Fa.prototype.digest=Fa.prototype.l,Fa.prototype.reset=Fa.prototype.reset,Fa.prototype.update=Fa.prototype.j,Vn.prototype.add=Vn.prototype.add,Vn.prototype.multiply=Vn.prototype.R,Vn.prototype.modulo=Vn.prototype.gb,Vn.prototype.compare=Vn.prototype.X,Vn.prototype.toNumber=Vn.prototype.ea,Vn.prototype.toString=Vn.prototype.toString,Vn.prototype.getBits=Vn.prototype.D,Vn.fromNumber=Na,Vn.fromString=function tw(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Pr(tw(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Na(Math.pow(e,8)),i=hh,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),e);8>s?(s=Na(Math.pow(e,s)),i=i.R(s).add(Na(o))):i=(i=i.R(t)).add(Na(o))}return i};var EP=Ra.createWebChannelTransport=function(){return new Uy},iw=Ra.getStatEventTarget=function(){return sg()},ZC=Ra.ErrorCode=ag,YC=Ra.EventType=wC,QC=Ra.Event=Vu,RM=Ra.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ut=Ra.FetchXmlHttpFactory=uh,$y=Ra.WebChannel=Cy,kM=Ra.XhrIo=Rn,OM=Ra.Md5=Fa,Ba=Ra.Integer=Vn;const XC="@firebase/firestore";class Wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let Cc="9.21.0";const Bn=new Nu.Yd("@firebase/firestore");function JC(){return Bn.logLevel}function Ge(n,...e){if(Bn.logLevel<=Nu.in.DEBUG){const t=e.map(Gy);Bn.debug(`Firestore (${Cc}): ${n}`,...t)}}function Ki(n,...e){if(Bn.logLevel<=Nu.in.ERROR){const t=e.map(Gy);Bn.error(`Firestore (${Cc}): ${n}`,...t)}}function vo(n,...e){if(Bn.logLevel<=Nu.in.WARN){const t=e.map(Gy);Bn.warn(`Firestore (${Cc}): ${n}`,...t)}}function Gy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function bt(n="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+n;throw Ki(e),new Error(e)}function Rt(n,e){n||bt()}function ct(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends rn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wi.UNAUTHENTICATED))}shutdown(){}}class qy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nD{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let o=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yr,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable((0,Ce.Z)(function*(){yield p.promise,yield s(i.currentUser)}))},h=p=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt("string"==typeof i.accessToken),new tD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new Wi(e)}}class iD{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rD{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new iD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vg{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.T=t.token,new sD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function NM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class oD{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=NM(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Xt(n,e){return n<e?-1:n>e?1:0}function fh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function rw(n){return n+"\0"}class li{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return li.fromMillis(Date.now())}static fromDate(e){return li.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new li(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new li(0,0))}static max(){return new kt(new li(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mp{constructor(e,t,i){void 0===t?t=0:t>e.length&&bt(),void 0===i?i=e.length-t:i>e.length-t&&bt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===mp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class In extends mp{construct(e,t,i){return new In(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new In(t)}static emptyPath(){return new In([])}}const LM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends mp{construct(e,t,i){return new Zi(e,t,i)}static isValidIdentifier(e){return LM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Oe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const c=e[r];if("\\"===c){if(r+1===e.length)throw new Oe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new Oe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new Oe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(t)}static emptyPath(){return new Zi([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(In.fromString(e))}static fromName(e){return new at(In.fromString(e).popFirst(5))}static empty(){return new at(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return In.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new In(e.slice()))}}class sw{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function aD(n){return n.fields.find(e=>2===e.kind)}function ju(n){return n.fields.filter(e=>2!==e.kind)}sw.UNKNOWN_ID=-1;class Zy{constructor(e,t){this.fieldPath=e,this.kind=t}}class gp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gp(0,wo.min())}}function _p(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(1e9===i?new li(t+1,0):new li(t,i));return new wo(r,at.empty(),e)}function lD(n){return new wo(n.readTime,n.key,-1)}class wo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wo(kt.min(),at.empty(),-1)}static max(){return new wo(kt.max(),at.empty(),-1)}}function ow(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:Xt(n.largestBatchId,e.largestBatchId))}const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zu(n){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,Ce.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==cD)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),Yy.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&t()},h=>i(h))}),o=!0,s===r&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(r=>r?de.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new de((i,r)=>{const s=e.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const p=h;t(e[p]).next(b=>{o[p]=b,++c,c===s&&i(o)},b=>r(b))}})}static doWhile(e,t){return new de((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Qy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new yr,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new yp(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=lw(i.target.error);this.R.reject(new yp(e,r))}}static open(e,t,i,r){try{return new Qy(t,e.transaction(r,i))}catch(s){throw new yp(t,s)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uD(t)}}class Is{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Is.S((0,rn.z$)())&&Ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),ph(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,rn.hl)())return!1;if(Is.C())return!0;const e=(0,rn.z$)(),t=Is.S(e),i=0<t&&t<10,r=Is.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new yp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;r("VersionError"===c.name?new Oe(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new Oe(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new yp(e,c))},s.onupgradeneeded=o=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.V.$(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Ce.Z)(function*(){const o="readonly"===t;let c=0;for(;;){++c;try{s.db=yield s.O(e);const h=Qy.open(s.db,e,o?"readonly":"readwrite",i),p=r(h).next(b=>(h.P(),b)).catch(b=>(h.abort(b),de.reject(b))).toPromise();return p.catch(()=>{}),yield h.v,p}catch(h){const p=h,b="FirebaseError"!==p.name&&c<3;if(Ge("SimpleDb","Transaction failed with error:",p.message,"Retrying:",b),s.close(),!b)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class UM{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ph(this.L.delete())}}class yp extends Oe{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $u(n){return"IndexedDbTransactionError"===n.name}class uD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ph(i)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),ph(this.store.add(e))}get(e){return ph(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),ph(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),ph(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(o,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new de((s,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new de((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}J(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,o,c)=>c.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new de((i,r)=>{t.onerror=s=>{const o=lw(s.target.error);r(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(c=>{c?o.continue():i()}):i()}})}W(e,t){const i=[];return new de((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const c=o.target.result;if(!c)return void r();const h=new UM(c),p=t(c.primaryKey,c.value,h);if(p instanceof de){const b=p.catch(x=>(h.done(),de.reject(x)));i.push(b)}h.isDone?r():null===h.K?c.continue():c.continue(h.K)}}).next(()=>de.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ph(n){return new de((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=lw(i.target.error);t(r)}})}let aw=!1;function lw(n){const e=Is.S((0,rn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aw||(aw=!0,setTimeout(()=>{throw i},0)),i}}return n}class cw{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{Ge("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){$u(i)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield zu(i)}yield t.et(6e4)}))}}class HM{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return de.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!i.has(o))return Ge("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,r).next(c=>{r-=c,i.add(o)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(r,s)).next(c=>(Ge("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>o.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const o=lD(s);ow(o,i)>0&&(i=o)}),new wo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Gs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function bp(n){return null==n}function wg(n){return 0===n&&1/n==-1/0}function dD(n){return"number"==typeof n&&Number.isInteger(n)&&!wg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ds(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hD(e)),e=uw(n.get(t),e);return hD(e)}function uw(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function hD(n){return n+"\x01\x01"}function Ua(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),In.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&bt(),n.charAt(o+1)){case"\x01":const c=n.substring(s,o);let h;0===r.length?h=c:(r+=c,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:bt()}s=o+2}return new In(i)}const fD=["userId","batchId"];function Xy(n,e){return[n,ds(e)]}function pD(n,e,t){return[n,ds(e),t]}const jM={},zM=["prefixPath","collectionGroup","readTime","documentId"],$M=["prefixPath","collectionGroup","documentId"],GM=["collectionGroup","readTime","prefixPath","documentId"],qM=["canonicalId","targetId"],mD=["targetId","path"],gD=["path","targetId"],WM=["collectionId","parent"],KM=["indexId","uid"],_D=["uid","sequenceNumber"],ZM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],YM=["indexId","uid","orderedDocumentKey"],QM=["userId","collectionPath","documentId"],dw=["userId","collectionPath","largestBatchId"],hw=["userId","collectionGroup","largestBatchId"],fw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pw=[...fw,"documentOverlays"],yD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bD=yD,mw=[...bD,"indexConfiguration","indexState","indexEntries"];class gw extends BM{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function br(n,e){const t=ct(n);return Is.M(t.at,e)}function mh(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Dc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ci{constructor(e,t){this.comparator=e,this.root=t||vr.EMPTY}insert(e,t){return new ci(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xg(this.root,e,this.comparator,!0)}}class xg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??vr.RED,this.left=r??vr.EMPTY,this.right=s??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new vr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1,vr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new vr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(e){this.comparator=e,this.data=new ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jy(this.data.getIterator())}getIteratorFrom(e){return new Jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ui(this.comparator);return t.data=e,t}}class Jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vp(n){return n.hasNext()?n.getNext():void 0}class Ss{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new Ss([])}unionWith(e){let t=new ui(Zi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new eb("Invalid base64 string: "+r):r}}(e);return new sr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=xD.exec(n);if(Rt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ni(n.seconds),nanos:Ni(n.nanos)}}function Ni(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Sc(n){return"string"==typeof n?sr.fromBase64String(n):sr.fromUint8Array(n)}function tb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function nb(n){const e=n.mapValue.fields.__previous_value__;return tb(e)?nb(e):e}function wp(n){const e=Ic(n.mapValue.fields.__local_write_time__.timestampValue);return new li(e.seconds,e.nanos)}class CP{constructor(e,t,i,r,s,o,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.useFetchStreams=h}}class Tc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ib={nullValue:"NULL_VALUE"};function gh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tb(n)?4:bw(n)?9007199254740991:10:bt()}function Cl(n,e){if(n===e)return!0;const t=gh(n);if(t!==gh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wp(n).isEqual(wp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Ic(i.timestampValue),o=Ic(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Sc(n.bytesValue).isEqual(Sc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ni(i.geoPointValue.latitude)===Ni(r.geoPointValue.latitude)&&Ni(i.geoPointValue.longitude)===Ni(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ni(i.integerValue)===Ni(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ni(i.doubleValue),o=Ni(r.doubleValue);return s===o?wg(s)===wg(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return fh(n.arrayValue.values||[],e.arrayValue.values||[],Cl);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(mh(s)!==mh(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===o[c]||!Cl(s[c],o[c])))return!1;return!0}(n,e);default:return bt()}var r}function Eg(n,e){return void 0!==(n.values||[]).find(t=>Cl(t,e))}function qu(n,e){if(n===e)return 0;const t=gh(n),i=gh(e);if(t!==i)return Xt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const o=Ni(r.integerValue||r.doubleValue),c=Ni(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(n,e);case 3:return ED(n.timestampValue,e.timestampValue);case 4:return ED(wp(n),wp(e));case 5:return Xt(n.stringValue,e.stringValue);case 6:return function(r,s){const o=Sc(r),c=Sc(s);return o.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),c=s.split("/");for(let h=0;h<o.length&&h<c.length;h++){const p=Xt(o[h],c[h]);if(0!==p)return p}return Xt(o.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const o=Xt(Ni(r.latitude),Ni(s.latitude));return 0!==o?o:Xt(Ni(r.longitude),Ni(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],c=s.values||[];for(let h=0;h<o.length&&h<c.length;++h){const p=qu(o[h],c[h]);if(p)return p}return Xt(o.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Gu.mapValue&&s===Gu.mapValue)return 0;if(r===Gu.mapValue)return 1;if(s===Gu.mapValue)return-1;const o=r.fields||{},c=Object.keys(o),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let b=0;b<c.length&&b<p.length;++b){const x=Xt(c[b],p[b]);if(0!==x)return x;const I=qu(o[c[b]],h[p[b]]);if(0!==I)return I}return Xt(c.length,p.length)}(n.mapValue,e.mapValue);default:throw bt()}}function ED(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xt(n,e);const t=Ic(n),i=Ic(e),r=Xt(t.seconds,i.seconds);return 0!==r?r:Xt(t.nanos,i.nanos)}function xp(n){return _w(n)}function _w(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ic(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Sc(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=_w(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${_w(i.fields[c])}`;return s+"}"}(n.mapValue):bt();var e}function _h(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yw(n){return!!n&&"integerValue"in n}function Cg(n){return!!n&&"arrayValue"in n}function CD(n){return!!n&&"nullValue"in n}function DD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wu(n){return!!n&&"mapValue"in n}function Ep(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Dc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ep(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ep(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ID(n){return"nullValue"in n?ib:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_h(Tc.empty(),at.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:bt()}function SD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_h(Tc.empty(),at.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Gu:bt()}function vw(n,e){const t=qu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ww(n,e){const t=qu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ep(t)}setAll(e){let t=Zi.emptyPath(),i={},r=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=c.popLast()}o?i[c.lastSegment()]=Ep(o):r.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Wu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Wu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Dc(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new qr(Ep(this.value))}}function XM(n){const e=[];return Dc(n.fields,(t,i)=>{const r=new Zi([t]);if(Wu(i)){const s=XM(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Ss(e)}class Jn{constructor(e,t,i,r,s,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Jn(e,0,kt.min(),kt.min(),kt.min(),qr.empty(),0)}static newFoundDocument(e,t,i,r){return new Jn(e,1,t,kt.min(),i,r,0)}static newNoDocument(e,t){return new Jn(e,2,t,kt.min(),kt.min(),qr.empty(),0)}static newUnknownDocument(e,t){return new Jn(e,3,t,kt.min(),kt.min(),qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ku{constructor(e,t){this.position=e,this.inclusive=t}}function TD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?at.comparator(at.fromName(o.referenceValue),t.key):qu(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function MD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cl(n.position[t],e.position[t]))return!1;return!0}class Cp{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dg(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class AD{}class _n extends AD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new JM(e,t,i):"array-contains"===t?new Cw(e,i):"in"===t?new Dw(e,i):"not-in"===t?new Iw(e,i):"array-contains-any"===t?new Sw(e,i):new _n(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new eA(e,i):new OD(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qu(t,this.value)):null!==t&&gh(this.value)===gh(t)&&this.matchesComparison(qu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends AD{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new yn(e,t)}matches(e){return Dp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dp(n){return"and"===n.op}function Ig(n){return"or"===n.op}function yh(n){return RD(n)&&Dp(n)}function RD(n){for(const e of n.filters)if(e instanceof yn)return!1;return!0}function xw(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+xp(n.value);if(yh(n))return n.filters.map(e=>xw(e)).join(",");{const e=n.filters.map(t=>xw(t)).join(",");return`${n.op}(${e})`}}function kD(n,e){return n instanceof _n?(t=n,(i=e)instanceof _n&&t.op===i.op&&t.field.isEqual(i.field)&&Cl(t.value,i.value)):n instanceof yn?function(t,i){return i instanceof yn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,o)=>r&&kD(s,i.filters[o]),!0)}(n,e):void bt();var t,i}function Sg(n,e){const t=n.filters.concat(e);return yn.create(t,n.op)}function Tg(n){return n instanceof _n?`${(e=n).field.canonicalString()} ${e.op} ${xp(e.value)}`:n instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(Tg).join(" ,")+"}"}(n):"Filter";var e}class JM extends _n{constructor(e,t,i){super(e,t,i),this.key=at.fromName(i.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.matchesComparison(t)}}class eA extends _n{constructor(e,t){super(e,"in",t),this.keys=Ew(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OD extends _n{constructor(e,t){super(e,"not-in",t),this.keys=Ew(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ew(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>at.fromName(i.referenceValue))}class Cw extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cg(t)&&Eg(t.arrayValue,this.value)}}class Dw extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eg(this.value.arrayValue,t)}}class Iw extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eg(this.value.arrayValue,t)}}class Sw extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Eg(this.value.arrayValue,i))}}class PD{constructor(e,t=null,i=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ft=null}}function Mg(n,e=null,t=[],i=[],r=null,s=null,o=null){return new PD(n,e,t,i,r,s,o)}function Mc(n){const e=ct(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xw(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),bp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xp(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xp(i)).join(",")),e.ft=t}return e.ft}function Ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Dg(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MD(n.startAt,e.startAt)&&MD(n.endAt,e.endAt)}function sb(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ob(n,e){return n.filters.filter(t=>t instanceof _n&&t.field.isEqual(e))}function FD(n,e,t){let i=ib,r=!0;for(const s of ob(n,e)){let o=ib,c=!0;switch(s.op){case"<":case"<=":o=ID(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=ib}vw({value:i,inclusive:r},{value:o,inclusive:c})<0&&(i=o,r=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];vw({value:i,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(i=o,r=t.inclusive);break}return{value:i,inclusive:r}}function Tw(n,e,t){let i=Gu,r=!0;for(const s of ob(n,e)){let o=Gu,c=!0;switch(s.op){case">=":case">":o=SD(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=Gu}ww({value:i,inclusive:r},{value:o,inclusive:c})>0&&(i=o,r=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];ww({value:i,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(i=o,r=t.inclusive);break}return{value:i,inclusive:r}}class Ha{constructor(e,t=null,i=[],r=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.dt=null,this._t=null}}function Mw(n,e,t,i,r,s,o,c){return new Ha(n,e,t,i,r,s,o,c)}function bh(n){return new Ha(n)}function Aw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ab(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function cb(n){return null!==n.collectionGroup}function Zu(n){const e=ct(n);if(null===e.dt){e.dt=[];const t=lb(e),i=ab(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Cp(t)),e.dt.push(new Cp(Zi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Cp(Zi.keyField(),s))}}}return e.dt}function Ts(n){const e=ct(n);if(!e._t)if("F"===e.limitType)e._t=Mg(e.path,e.collectionGroup,Zu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Zu(e))t.push(new Cp(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Ku(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ku(e.startAt.position,e.startAt.inclusive):null;e._t=Mg(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function ub(n,e){e.getFirstInequalityField(),lb(n);const t=n.filters.concat([e]);return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rg(n,e,t){return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wr(n,e){return Ag(Ts(n),Ts(e))&&n.limitType===e.limitType}function vh(n){return`${Mc(Ts(n))}|lt:${n.limitType}`}function Rw(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Tg(i)).join(", ")}]`),bp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xp(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xp(i)).join(",")),`Target(${t})`}(Ts(n))}; limitType=${n.limitType})`}function kg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):at.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Zu(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,o){const c=TD(r,s,o);return r.inclusive?c<=0:c<0}(t.startAt,Zu(t),i)||t.endAt&&!function(r,s,o){const c=TD(r,s,o);return r.inclusive?c>=0:c>0}(t.endAt,Zu(t),i)));var t,i}function tA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nA(n){return(e,t)=>{let i=!1;for(const r of Zu(n)){const s=ND(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function ND(n,e,t){const i=n.field.isKeyField()?at.comparator(e.key,t.key):function(r,s,o){const c=s.data.field(r),h=o.data.field(r);return null!==c&&null!==h?qu(c,h):bt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return bt()}}class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Dc(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return vD(this.inner)}size(){return this.innerSize}}const Og=new ci(at.comparator);function qs(){return Og}const db=new ci(at.comparator);function Pg(...n){let e=db;for(const t of n)e=e.insert(t.key,t);return e}function kw(n){let e=db;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Dl(){return Fg()}function LD(){return Fg()}function Fg(){return new ja(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ow=new ci(at.comparator),VD=new ui(at.comparator);function on(...n){let e=VD;for(const t of n)e=e.add(t);return e}const hb=new ui(Xt);function Ng(){return hb}function iA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wg(e)?"-0":e}}function Pw(n){return{integerValue:""+n}}function BD(n,e){return dD(e)?Pw(e):iA(n,e)}class Lg{constructor(){this._=void 0}}function Ip(n,e,t){return n instanceof Yu?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&tb(r)&&(r=nb(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Sp?UD(n,e):n instanceof Tp?HD(n,e):function(i,r){const s=Fw(i,r),o=jD(s)+jD(i.wt);return yw(s)&&yw(i.wt)?Pw(o):iA(i.serializer,o)}(n,e)}function rA(n,e,t){return n instanceof Sp?UD(n,e):n instanceof Tp?HD(n,e):t}function Fw(n,e){return n instanceof Mp?yw(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Yu extends Lg{}class Sp extends Lg{constructor(e){super(),this.elements=e}}function UD(n,e){const t=Nw(e);for(const i of n.elements)t.some(r=>Cl(r,i))||t.push(i);return{arrayValue:{values:t}}}class Tp extends Lg{constructor(e){super(),this.elements=e}}function HD(n,e){let t=Nw(e);for(const i of n.elements)t=t.filter(r=>!Cl(r,i));return{arrayValue:{values:t}}}class Mp extends Lg{constructor(e,t){super(),this.serializer=e,this.wt=t}}function jD(n){return Ni(n.integerValue||n.doubleValue)}function Nw(n){return Cg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ap{constructor(e,t){this.field=e,this.transform=t}}class zD{constructor(e,t){this.version=e,this.transformResults=t}}class di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pb{}function Lw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Vg(n.key,di.none()):new wh(n.key,n.data,di.none());{const t=n.data,i=qr.empty();let r=new ui(Zi.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Ac(n.key,i,new Ss(r.toArray()),di.none())}}function oA(n,e,t){n instanceof wh?function(i,r,s){const o=i.value.clone(),c=aA(i.fieldTransforms,r,s.transformResults);o.setAll(c),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ac?function(i,r,s){if(!fb(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=aA(i.fieldTransforms,r,s.transformResults),c=r.data;c.setAll(GD(i)),c.setAll(o),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rp(n,e,t,i){return n instanceof wh?function(r,s,o,c){if(!fb(r.precondition,s))return o;const h=r.value.clone(),p=Bw(r.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ac?function(r,s,o,c){if(!fb(r.precondition,s))return o;const h=Bw(r.fieldTransforms,c,s),p=s.data;return p.setAll(GD(r)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===o?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(o=t,fb(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function $D(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Fw(i.transform,r||null);null!=s&&(null===t&&(t=qr.empty()),t.set(i.field,s))}return t||null}function Vw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&fh(t,i,(r,s)=>function sA(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Sp&&i instanceof Sp||t instanceof Tp&&i instanceof Tp?fh(t.elements,i.elements,Cl):t instanceof Mp&&i instanceof Mp?Cl(t.wt,i.wt):t instanceof Yu&&i instanceof Yu);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class wh extends pb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ac extends pb{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function aA(n,e,t){const i=new Map;Rt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,c=e.data.field(s.field);i.set(s.field,rA(o,c,t[r]))}return i}function Bw(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,Ip(s,o,e))}return i}class Vg extends pb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qD extends pb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&oA(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Rp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Rp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=LD();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;const h=Lw(o,c);null!==h&&i.set(r.key,h),o.isValidDocument()||o.convertToNoDocument(kt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),on())}isEqual(e){return this.batchId===e.batchId&&fh(this.mutations,e.mutations,(t,i)=>Vw(t,i))&&fh(this.baseMutations,e.baseMutations,(t,i)=>Vw(t,i))}}class KD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Rt(e.mutations.length===i.length);let r=Ow;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new KD(e,t,i,r)}}class ZD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class IP{constructor(e,t){this.count=e,this.unchangedNames=t}}var xr,bn;function lA(n){switch(n){default:return bt();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function Uw(n){if(void 0===n)return Ki("GRPC error has no .code"),_e.UNKNOWN;switch(n){case xr.OK:return _e.OK;case xr.CANCELLED:return _e.CANCELLED;case xr.UNKNOWN:return _e.UNKNOWN;case xr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case xr.INTERNAL:return _e.INTERNAL;case xr.UNAVAILABLE:return _e.UNAVAILABLE;case xr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case xr.NOT_FOUND:return _e.NOT_FOUND;case xr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case xr.ABORTED:return _e.ABORTED;case xr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case xr.DATA_LOSS:return _e.DATA_LOSS;default:return bt()}}(bn=xr||(xr={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";class kp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Bg}static getOrCreateInstance(){return null===Bg&&(Bg=new kp),Bg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Bg=null;function Hw(){return new TextEncoder}const SP=new Ba([4294967295,4294967295],0);function mb(n){const e=Hw().encode(n),t=new OM;return t.update(e),new Uint8Array(t.digest())}function jw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ba([t,i],0),new Ba([r,s],0)]}class zw{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new gb(`Invalid padding: ${t}`);if(i<0)throw new gb(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new gb(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new gb(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Ba.fromNumber(this.yt)}Tt(e,t,i){let r=e.add(t.multiply(Ba.fromNumber(i)));return 1===r.compare(SP)&&(r=new Ba([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=mb(e),[i,r]=jw(t);for(let s=0;s<this.hashCount;s++){const o=this.Tt(i,r,s);if(!this.Et(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zw(s,r,t);return i.forEach(c=>o.insert(c)),o}insert(e){if(0===this.yt)return;const t=mb(e),[i,r]=jw(t);for(let s=0;s<this.hashCount;s++){const o=this.Tt(i,r,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class gb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ug{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Hg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ug(kt.min(),r,new ci(Xt),qs(),on())}}class Hg{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Hg(i,t,on(),on(),on())}}class _b{constructor(e,t,i,r){this.vt=e,this.removedTargetIds=t,this.key=i,this.Pt=r}}class jg{constructor(e,t){this.targetId=e,this.bt=t}}class YD{constructor(e,t,i=sr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class cA{constructor(){this.Vt=0,this.St=QD(),this.Dt=sr.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=on(),t=on(),i=on();return this.St.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:bt()}}),new Hg(this.Dt,this.Ct,e,t,i)}$t(){this.xt=!1,this.St=QD()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class TP{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=qs(),this.jt=uA(),this.zt=new ci(Xt)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const i=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&i.Mt(e.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(e.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(i.Ut(),i.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),i.Mt(e.resumeToken));break;default:bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((i,r)=>{this.Zt(r)&&t(r)})}ee(e){var t;const i=e.targetId,r=e.bt.count,s=this.ne(i);if(s){const o=s.target;if(sb(o))if(0===r){const c=new at(o.path);this.Jt(i,c,Jn.newNoDocument(c,kt.min()))}else Rt(1===r);else{const c=this.se(i);if(c!==r){const h=this.ie(e,c);0!==h&&(this.te(i),this.zt=this.zt.insert(i,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=kp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(p,b,x){var I,M,P,F,L,$;const W={localCacheCount:b,existenceFilterCount:x.count},ee=x.unchangedNames;return ee&&(W.bloomFilter={applied:0===p,hashCount:null!==(I=ee?.hashCount)&&void 0!==I?I:0,bitmapLength:null!==(F=null===(P=null===(M=ee?.bits)||void 0===M?void 0:M.bitmap)||void 0===P?void 0:P.length)&&void 0!==F?F:0,padding:null!==($=null===(L=ee?.bits)||void 0===L?void 0:L.padding)&&void 0!==$?$:0}),W}(h,c,e.bt))}}}}ie(e,t){const{unchangedNames:i,count:r}=e.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let h,p;try{h=Sc(s).toUint8Array()}catch(b){if(b instanceof eb)return vo("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{p=new zw(h,o,c)}catch(b){return vo(b instanceof gb?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===p.yt?1:r!==t-this.re(e.targetId,p)?2:0}re(e,t){const i=this.Kt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Kt.oe(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.At(c)||(this.Jt(e,s,null),r++)}),r}ue(e){const t=new Map;this.Gt.forEach((s,o)=>{const c=this.ne(o);if(c){if(s.current&&sb(c.target)){const h=new at(c.target.path);null!==this.Qt.get(h)||this.ce(o,h)||this.Jt(o,h,Jn.newNoDocument(h,e))}s.kt&&(t.set(o,s.Ot()),s.$t())}});let i=on();this.jt.forEach((s,o)=>{let c=!0;o.forEachWhile(h=>{const p=this.ne(h);return!p||"TargetPurposeLimboResolution"===p.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.Qt.forEach((s,o)=>o.setReadTime(e));const r=new Ug(e,t,this.zt,this.Qt,i);return this.Qt=qs(),this.jt=uA(),this.zt=new ci(Xt),r}Ht(e,t){if(!this.Zt(e))return;const i=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,i),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,i){if(!this.Zt(e))return;const r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),i&&(this.Qt=this.Qt.insert(t,i))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new cA,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new ui(Xt),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new cA),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function uA(){return new ci(at.comparator)}function QD(){return new ci(at.comparator)}const dA={asc:"ASCENDING",desc:"DESCENDING"},hA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MP={and:"AND",or:"OR"};class fA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yb(n,e){return n.useProto3Json||bp(e)?e:{value:e}}function xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function za(n,e){return xh(n,e.toTimestamp())}function Yi(n){return Rt(!!n),kt.fromTimestamp(function(e){const t=Ic(e);return new li(t.seconds,t.nanos)}(n))}function zg(n,e){return(t=n,new In(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function XD(n){const e=In.fromString(n);return Rt(rI(e)),e}function bb(n,e){return zg(n.databaseId,e.path)}function Qi(n,e){const t=XD(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(JD(t))}function $w(n,e){return zg(n.databaseId,e)}function vb(n){const e=XD(n);return 4===e.length?In.emptyPath():JD(e)}function $g(n){return new In(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JD(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wb(n,e,t){return{name:bb(n,e),fields:t.value.mapValue.fields}}function Gw(n,e,t){const i=Qi(n,e.name),r=Yi(e.updateTime),s=e.createTime?Yi(e.createTime):kt.min(),o=new qr({mapValue:{fields:e.fields}}),c=Jn.newFoundDocument(i,r,s,o);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Op(n,e){let t;if(e instanceof wh)t={update:wb(n,e.key,e.value)};else if(e instanceof Vg)t={delete:bb(n,e.key)};else if(e instanceof Ac)t={update:wb(n,e.key,e.data),updateMask:_A(e.fieldMask)};else{if(!(e instanceof qD))return bt();t={verify:bb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof Yu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Sp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Tp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Mp)return{fieldPath:s.field.canonicalString(),increment:o.wt};throw bt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:za(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:bt()),t;var r}function xb(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?di.updateTime(Yi(r.updateTime)):void 0!==r.exists?di.exists(r.exists):di.none():di.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,o){let c=null;"setToServerValue"in o?(Rt("REQUEST_TIME"===o.setToServerValue),c=new Yu):"appendMissingElements"in o?c=new Sp(o.appendMissingElements.values||[]):"removeAllFromArray"in o?c=new Tp(o.removeAllFromArray.values||[]):"increment"in o?c=new Mp(s,o.increment):bt();const h=Zi.fromServerFormat(o.fieldPath);return new Ap(h,c)}(n,r)):[];var r;if(e.update){const r=Qi(n,e.update.name),s=new qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Ss((e.updateMask.fieldPaths||[]).map(p=>Zi.fromServerFormat(p)));return new Ac(r,s,o,t,i)}return new wh(r,s,t,i)}if(e.delete){const r=Qi(n,e.delete);return new Vg(r,t)}if(e.verify){const r=Qi(n,e.verify);return new qD(r,t)}return bt()}function qw(n,e){return{documents:[$w(n,e.path)]}}function Ww(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=$w(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$w(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0!==h.length)return iI(yn.create(h,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:Qu((b=p).field),direction:tI(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=yb(n,e.limit);var c,h;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt={before:!(h=e.endAt).inclusive,values:h.position}),t}function Eb(n){let e=vb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Rt(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const x=kc(b);return x instanceof yn&&yh(x)?x.getFilters():[x]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(b=>{return new Cp(Gg((x=b).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let c=null;t.limit&&(c=function(b){let x;return x="object"==typeof b?b.value:b,bp(x)?null:x}(t.limit));let h=null;var b;t.startAt&&(h=new Ku((b=t.startAt).values||[],!!b.before));let p=null;return t.endAt&&(p=function(b){return new Ku(b.values||[],!b.before)}(t.endAt)),Mw(e,r,o,s,c,"F",h,p)}function kc(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gg(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Gg(e.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gg(e.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gg(e.unaryFilter.field);return _n.create(s,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(n):void 0!==n.fieldFilter?_n.create(Gg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map(t=>kc(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return bt()}}(e.compositeFilter.op))}(n):bt();var e}function tI(n){return dA[n]}function Kw(n){return hA[n]}function nI(n){return MP[n]}function Qu(n){return{fieldPath:n.canonicalString()}}function Gg(n){return Zi.fromServerFormat(n.fieldPath)}function iI(n){return n instanceof _n?function(e){if("=="===e.op){if(DD(e.value))return{unaryFilter:{field:Qu(e.field),op:"IS_NAN"}};if(CD(e.value))return{unaryFilter:{field:Qu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(DD(e.value))return{unaryFilter:{field:Qu(e.field),op:"IS_NOT_NAN"}};if(CD(e.value))return{unaryFilter:{field:Qu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qu(e.field),op:Kw(e.op),value:e.value}}}(n):n instanceof yn?function(e){const t=e.getFilters().map(i=>iI(i));return 1===t.length?t[0]:{compositeFilter:{op:nI(e.op),filters:t}}}(n):bt()}function _A(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Oc{constructor(e,t,i,r,s=kt.min(),o=kt.min(),c=sr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zw{constructor(e){this.le=e}}function Yw(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Cb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:bb(r=n.le,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:xh(r,s.version.toTimestamp()),createTime:xh(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Xu(e.version)};else{if(!e.isUnknownDocument())return bt();i.unknownDocument={path:t.path.toArray(),version:Xu(e.version)}}var r,s;return i}function Cb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pp(n){const e=new li(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function Pc(n,e){const t=(e.baseMutations||[]).map(s=>xb(n.le,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>xb(n.le,s)),r=li.fromMillis(e.localWriteTimeMs);return new WD(e.batchId,r,t,i)}function Fp(n){const e=Pp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Pp(n.lastLimboFreeSnapshotVersion):kt.min();let i;var r;return void 0!==n.query.documents?(Rt(1===(r=n.query).documents.length),i=Ts(bh(vb(r.documents[0])))):i=Ts(Eb(n.query)),new Oc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,sr.fromBase64String(n.resumeToken))}function Qw(n,e){const t=Xu(e.snapshotVersion),i=Xu(e.lastLimboFreeSnapshotVersion);let r;r=sb(e.target)?qw(n.le,e.target):Ww(n.le,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Db(n){const e=Eb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Rg(e,e.limit,"L"):e}function Ib(n,e){return new ZD(e.largestBatchId,xb(n.le,e.overlayMutation))}function Xw(n,e){const t=e.path.lastSegment();return[n,ds(e.path.popLast()),t]}function qg(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Xu(i.readTime),documentKey:ds(i.documentKey.path),largestBatchId:i.largestBatchId}}class Sb{getBundleMetadata(e,t){return Jw(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Pp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Jw(e).put({bundleId:(i=t).id,createTime:Xu(Yi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return sI(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Db(r.bundledQuery),readTime:Pp(r.readTime)};var r})}saveNamedQuery(e,t){return sI(e).put({name:(i=t).name,readTime:Xu(Yi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Jw(n){return br(n,"bundles")}function sI(n){return br(n,"namedQueries")}class Tb{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new Tb(e,t.uid||"")}getOverlay(e,t){return Mb(e).get(Xw(this.userId,t)).next(i=>i?Ib(this.serializer,i):null)}getOverlays(e,t){const i=Dl();return de.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,o)=>{const c=new ZD(t,o);r.push(this.de(e,c))}),de.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(o=>r.add(ds(o.getCollectionPath())));const s=[];return r.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Mb(e).J("collectionPathOverlayIndex",c))}),de.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Dl(),s=ds(t),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Mb(e).j("collectionPathOverlayIndex",o).next(c=>{for(const h of c){const p=Ib(this.serializer,h);r.set(p.getKey(),p)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Dl();let o;const c=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mb(e).X({index:"collectionGroupOverlayIndex",range:c},(h,p,b)=>{const x=Ib(this.serializer,p);s.size()<r||x.largestBatchId===o?(s.set(x.getKey(),x),o=x.largestBatchId):b.done()}).next(()=>s)}de(e,t){return Mb(e).put(function(i,r,s){const[o,c,h]=Xw(r,s.mutation.key);return{userId:r,collectionPath:c,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Op(i.le,s.mutation)}}(this.serializer,this.userId,t))}}function Mb(n){return br(n,"documentOverlays")}class Np{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Ni(e.integerValue));else if("doubleValue"in e){const i=Ni(e.doubleValue);isNaN(i)?this.ge(t,13):(this.ge(t,15),wg(i)?t.ye(0):t.ye(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ge(t,20),"string"==typeof i?t.pe(i):(t.pe(`${i.seconds||""}`),t.ye(i.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Sc(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?bw(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):bt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const i=e.fields||{};this.ge(t,55);for(const r of Object.keys(i))this.Ie(r,t),this.we(i[r],t)}ve(e,t){const i=e.values||[];this.ge(t,50);for(const r of i)this.we(r,t)}Ae(e,t){this.ge(t,37),at.fromName(e).path.forEach(i=>{this.ge(t,60),this.Pe(i,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function RP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function ex(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=RP(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Np.be=new Np;class yA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Se(i.value),i=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.xe(i.value),i=t.next();this.Ne()}ke(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=t.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=t.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(e){const t=this.$e(e),i=ex(t);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Be(e){const t=this.$e(e),i=ex(t);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class bA{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class vA{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class Ab{constructor(){this.Qe=new yA,this.je=new bA(this.Qe),this.ze=new vA(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Lp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Lp(this.indexId,this.documentKey,this.arrayValue,i)}}function Eh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=wA(n.arrayValue,e.arrayValue),0!==t?t:(t=wA(n.directionalValue,e.directionalValue),0!==t?t:at.comparator(n.documentKey,e.documentKey)))}function wA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class kP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(e){Rt(e.collectionGroup===this.collectionId);const t=aD(e);if(void 0!==t&&!this.tn(t))return!1;const i=ju(e);let r=0,s=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const o=i[r];if(!this.en(this.Xe,o)||!this.nn(this.Je[s++],o))return!1;++r}for(;r<i.length;++r)if(s>=this.Je.length||!this.nn(this.Je[s++],i[r]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function oI(n){var e,t;if(Rt(n instanceof _n||n instanceof yn),n instanceof _n){if(n instanceof Dw){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>_n.create(n.field,"==",s)))||[];return yn.create(r,"or")}return n}const i=n.filters.map(r=>oI(r));return yn.create(i,n.op)}function Rb(n){if(0===n.getFilters().length)return[];const e=Fc(oI(n));return Rt(ix(e)),tx(e)||nx(e)?[e]:e.getFilters()}function tx(n){return n instanceof _n}function nx(n){return n instanceof yn&&yh(n)}function ix(n){return tx(n)||nx(n)||function(e){if(e instanceof yn&&Ig(e)){for(const t of e.getFilters())if(!tx(t)&&!nx(t))return!1;return!0}return!1}(n)}function Fc(n){if(Rt(n instanceof _n||n instanceof yn),n instanceof _n)return n;if(1===n.filters.length)return Fc(n.filters[0]);const e=n.filters.map(i=>Fc(i));let t=yn.create(e,n.op);return t=Vp(t),ix(t)?t:(Rt(t instanceof yn),Rt(Dp(t)),Rt(t.filters.length>1),t.filters.reduce((i,r)=>kb(i,r)))}function kb(n,e){let t;return Rt(n instanceof _n||n instanceof yn),Rt(e instanceof _n||e instanceof yn),t=n instanceof _n?e instanceof _n?yn.create([n,e],"and"):Ob(n,e):e instanceof _n?Ob(e,n):function(i,r){if(Rt(i.filters.length>0&&r.filters.length>0),Dp(i)&&Dp(r))return Sg(i,r.getFilters());const s=Ig(i)?i:r,o=Ig(i)?r:i,c=s.filters.map(h=>kb(h,o));return yn.create(c,"or")}(n,e),Vp(t)}function Ob(n,e){if(Dp(e))return Sg(e,n.getFilters());{const t=e.filters.map(i=>kb(n,i));return yn.create(t,"or")}}function Vp(n){if(Rt(n instanceof _n||n instanceof yn),n instanceof _n)return n;const e=n.getFilters();if(1===e.length)return Vp(e[0]);if(RD(n))return n;const t=e.map(r=>Vp(r)),i=[];return t.forEach(r=>{r instanceof _n?i.push(r):r instanceof yn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:yn.create(i,n.op)}class xA{constructor(){this.sn=new Wg}addToCollectionParentIndex(e,t){return this.sn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(wo.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class Wg{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ui(In.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ui(In.comparator)).toArray()}}const Bp=new Uint8Array(0);class Pb{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new Wg,this.on=new ja(i=>Mc(i),(i,r)=>Ag(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const s={collectionId:i,parent:ds(r)};return EA(e).put(s)}return de.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[rw(t),""],!1,!0);return EA(e).j(r).next(s=>{for(const o of s){if(o.collectionId!==t)break;i.push(Ua(o.parent))}return i})}addFieldIndex(e,t){const i=rx(e),r={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var o;delete r.indexId;const s=i.add(r);if(t.indexState){const o=Nb(e);return s.next(c=>{o.put(qg(c,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=rx(e),r=Nb(e),s=Fb(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Fb(e);let r=!0;const s=new Map;return de.forEach(this.un(t),o=>this.cn(e,o).next(c=>{r&&(r=!!c),s.set(o,c)})).next(()=>{if(r){let o=on();const c=[];return de.forEach(s,(h,p)=>{var b;Ge("IndexedDbIndexManager",`Using index ${b=h,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(ee=>`${ee.fieldPath}:${ee.kind}`).join(",")}`} to execute ${Mc(t)}`);const x=function(ee,re){const ce=aD(re);if(void 0===ce)return null;for(const ge of ob(ee,ce.fieldPath))switch(ge.op){case"array-contains-any":return ge.value.arrayValue.values||[];case"array-contains":return[ge.value]}return null}(p,h),I=function(ee,re){const ce=new Map;for(const ge of ju(re))for(const Be of ob(ee,ge.fieldPath))switch(Be.op){case"==":case"in":ce.set(ge.fieldPath.canonicalString(),Be.value);break;case"not-in":case"!=":return ce.set(ge.fieldPath.canonicalString(),Be.value),Array.from(ce.values())}return null}(p,h),M=function(ee,re){const ce=[];let ge=!0;for(const Be of ju(re)){const Ve=0===Be.kind?FD(ee,Be.fieldPath,ee.startAt):Tw(ee,Be.fieldPath,ee.startAt);ce.push(Ve.value),ge&&(ge=Ve.inclusive)}return new Ku(ce,ge)}(p,h),P=function(ee,re){const ce=[];let ge=!0;for(const Be of ju(re)){const Ve=0===Be.kind?Tw(ee,Be.fieldPath,ee.endAt):FD(ee,Be.fieldPath,ee.endAt);ce.push(Ve.value),ge&&(ge=Ve.inclusive)}return new Ku(ce,ge)}(p,h),F=this.an(h,p,M),L=this.an(h,p,P),$=this.hn(h,p,I),W=this.ln(h.indexId,x,F,M.inclusive,L,P.inclusive,$);return de.forEach(W,ee=>i.H(ee,t.limit).next(re=>{re.forEach(ce=>{const ge=at.fromSegments(ce.documentKey);o.has(ge)||(o=o.add(ge),c.push(ge))})}))}).next(()=>c)}return de.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Rb(yn.create(e.filters,"and")).map(i=>Mg(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,i,r,s,o,c){const h=(null!=t?t.length:1)*Math.max(i.length,s.length),p=h/(null!=t?t.length:1),b=[];for(let x=0;x<h;++x){const I=t?this.fn(t[x/p]):Bp,M=this.dn(e,I,i[x%p],r),P=this._n(e,I,s[x%p],o),F=c.map(L=>this.dn(e,I,L,!0));b.push(...this.createRange(M,P,F))}return b}dn(e,t,i,r){const s=new Lp(e,at.empty(),t,i);return r?s:s.He()}_n(e,t,i,r){const s=new Lp(e,at.empty(),t,i);return r?s.He():s}cn(e,t){const i=new kP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(const c of s)i.Ze(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(e,t){let i=2;const r=this.un(t);return de.forEach(r,s=>this.cn(e,s).next(o=>{o?0!==i&&o.fields.length<function(c){let h=new ui(Zi.comparator),p=!1;for(const b of c.filters)for(const x of b.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?p=!0:h=h.add(x.field));for(const b of c.orderBy)b.field.isKeyField()||(h=h.add(b.field));return h.size+(p?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}wn(e,t){const i=new Ab;for(const r of ju(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const o=i.We(r.kind);Np.be._e(s,o)}return i.Ge()}fn(e){const t=new Ab;return Np.be._e(e,t.We(0)),t.Ge()}mn(e,t){const i=new Ab;return Np.be._e(_h(this.databaseId,t),i.We(function(r){const s=ju(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ge()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new Ab);let s=0;for(const o of ju(e)){const c=i[s++];for(const h of r)if(this.gn(t,o.fieldPath)&&Cg(c))r=this.yn(r,o,c);else{const p=h.We(o.kind);Np.be._e(c,p)}}return this.pn(r)}an(e,t,i){return this.hn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ge();return t}yn(e,t,i){const r=[...e],s=[];for(const o of i.arrayValue.values||[])for(const c of r){const h=new Ab;h.seed(c.Ge()),Np.be._e(o,h.We(t.kind)),s.push(h)}return s}gn(e,t){return!!e.filters.find(i=>i instanceof _n&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=rx(e),r=Nb(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const o=[];return de.forEach(s,c=>r.get([c.indexId,this.uid]).next(h=>{o.push(function(p,b){const x=b?new gp(b.sequenceNumber,new wo(Pp(b.readTime),new at(Ua(b.documentKey)),b.largestBatchId)):gp.empty(),I=p.fields.map(([M,P])=>new Zy(Zi.fromServerFormat(M),P));return new sw(p.indexId,p.collectionGroup,I,x)}(c,h))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Xt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=rx(e),s=Nb(e);return this.In(e).next(o=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(c=>de.forEach(c,h=>s.put(qg(h.indexId,this.user,o,i)))))}updateIndexEntries(e,t){const i=new Map;return de.forEach(t,(r,s)=>{const o=i.get(r.collectionGroup);return(o?de.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),de.forEach(c,h=>this.Tn(e,r,h).next(p=>{const b=this.En(s,h);return p.isEqual(b)?de.resolve():this.An(e,s,h,p,b)}))))})}Rn(e,t,i,r){return Fb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return Fb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}Tn(e,t,i){const r=Fb(e);let s=new ui(Eh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(o,c)=>{s=s.add(new Lp(i.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>s)}En(e,t){let i=new ui(Eh);const r=this.wn(t,e);if(null==r)return i;const s=aD(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Cg(o))for(const c of o.arrayValue.values||[])i=i.add(new Lp(t.indexId,e.key,this.fn(c),r))}else i=i.add(new Lp(t.indexId,e.key,Bp,r));return i}An(e,t,i,r,s){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,h,p,b,x){const I=c.getIterator(),M=h.getIterator();let P=vp(I),F=vp(M);for(;P||F;){let L=!1,$=!1;if(P&&F){const W=p(P,F);W<0?$=!0:W>0&&(L=!0)}else null!=P?$=!0:L=!0;L?(b(F),F=vp(M)):$?(x(P),P=vp(I)):(P=vp(I),F=vp(M))}}(r,s,Eh,c=>{o.push(this.Rn(e,t,i,c))},c=>{o.push(this.vn(e,t,i,c))}),de.waitFor(o)}In(e){let t=1;return Nb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,c)=>Eh(o,c)).filter((o,c,h)=>!c||0!==Eh(o,h[c-1]));const r=[];r.push(e);for(const o of i){const c=Eh(o,e),h=Eh(o,t);if(0===c)r[0]=e.He();else if(c>0&&h<0)r.push(o),r.push(o.He());else if(h>0)break}r.push(t);const s=[];for(let o=0;o<r.length;o+=2){if(this.Pn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Bp,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Bp,[]]))}return s}Pn(e,t){return Eh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sx)}getMinOffset(e,t){return de.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||bt())).next(sx)}}function EA(n){return br(n,"collectionParents")}function Fb(n){return br(n,"indexEntries")}function rx(n){return br(n,"indexConfiguration")}function Nb(n){return br(n,"indexState")}function sx(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ow(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new wo(e.readTime,e.documentKey,t)}const aI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new hs(e,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lI(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let c=0;const h=i.X({range:o},(b,x,I)=>(c++,I.delete()));s.push(h.next(()=>{Rt(1===c)}));const p=[];for(const b of t.mutations){const x=pD(e,b.key.path,t.batchId);s.push(r.delete(x)),p.push(b.key)}return de.waitFor(s).next(()=>p)}function Lb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw bt();e=n.noDocument}return JSON.stringify(e).length}hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(41943040,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);class Kg{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(e,t,i,r){Rt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Kg(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nc(e).X({index:"userMutationsIndex",range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Up(e),o=Nc(e);return o.add({}).next(c=>{Rt("number"==typeof c);const h=new WD(c,t,i,r),p=function(I,M,P){const F=P.baseMutations.map($=>Op(I.le,$)),L=P.mutations.map($=>Op(I.le,$));return{userId:M,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:F,mutations:L}}(this.serializer,this.userId,h),b=[];let x=new ui((I,M)=>Xt(I.canonicalString(),M.canonicalString()));for(const I of r){const M=pD(this.userId,I.key.path,c);x=x.add(I.key.path.popLast()),b.push(o.put(p)),b.push(s.put(M,jM))}return x.forEach(I=>{b.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.bn[c]=h.keys()}),de.waitFor(b).next(()=>h)})}lookupMutationBatch(e,t){return Nc(e).get(t).next(i=>i?(Rt(i.userId===this.userId),Pc(this.serializer,i)):null)}Vn(e,t){return this.bn[t]?de.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.bn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Nc(e).X({index:"userMutationsIndex",range:r},(o,c,h)=>{c.userId===this.userId&&(Rt(c.batchId>=i),s=Pc(this.serializer,c)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Nc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nc(e).j("userMutationsIndex",t).next(i=>i.map(r=>Pc(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Xy(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Up(e).X({range:r},(o,c,h)=>{const[p,b,x]=o,I=Ua(b);if(p===this.userId&&t.path.isEqual(I))return Nc(e).get(x).next(M=>{if(!M)throw bt();Rt(M.userId===this.userId),s.push(Pc(this.serializer,M))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ui(Xt);const r=[];return t.forEach(s=>{const o=Xy(this.userId,s.path),c=IDBKeyRange.lowerBound(o),h=Up(e).X({range:c},(p,b,x)=>{const[I,M,P]=p,F=Ua(M);I===this.userId&&s.path.isEqual(F)?i=i.add(P):x.done()});r.push(h)}),de.waitFor(r).next(()=>this.Sn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Xy(this.userId,i),o=IDBKeyRange.lowerBound(s);let c=new ui(Xt);return Up(e).X({range:o},(h,p,b)=>{const[x,I,M]=h,P=Ua(I);x===this.userId&&i.isPrefixOf(P)?P.length===r&&(c=c.add(M)):b.done()}).next(()=>this.Sn(e,c))}Sn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Nc(e).get(s).next(o=>{if(null===o)throw bt();Rt(o.userId===this.userId),i.push(Pc(this.serializer,o))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return lI(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Up(e).X({range:i},(s,o,c)=>{if(s[0]===this.userId){const h=Ua(s[1]);r.push(h)}else c.done()}).next(()=>{Rt(0===r.length)})})}containsKey(e,t){return ox(e,this.userId,t)}Cn(e){return cI(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ox(n,e,t){const i=Xy(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Up(n).X({range:s,Y:!0},(c,h,p)=>{const[b,x,I]=c;b===e&&x===r&&(o=!0),p.done()}).next(()=>o)}function Nc(n){return br(n,"mutations")}function Up(n){return br(n,"documentMutations")}function cI(n){return br(n,"mutationQueues")}class Ju{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ju(0)}static kn(){return new Ju(-1)}}class ax{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const i=new Ju(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>kt.fromTimestamp(new li(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Mn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(i=>(i.targetCount+=1,this.Fn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Zg(e).delete(t.targetId)).next(()=>this.Mn(e)).next(i=>(Rt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Zg(e).X((o,c)=>{const h=Fp(c);h.sequenceNumber<=t&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(e,h)))}).next(()=>de.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Zg(e).X((i,r)=>{const s=Fp(r);t(s)})}Mn(e){return lx(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}On(e,t){return lx(e).put("targetGlobalKey",t)}$n(e,t){return Zg(e).put(Qw(this.serializer,t))}Fn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Mc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Zg(e).X({range:r,index:"queryTargetsIndex"},(o,c,h)=>{const p=Fp(c);Ag(t,p.target)&&(s=p,h.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Il(e);return t.forEach(o=>{const c=ds(o.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(e,i,o))}),de.waitFor(r)}removeMatchingKeys(e,t,i){const r=Il(e);return de.forEach(t,s=>{const o=ds(s.path);return de.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Il(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Il(e);let s=on();return r.X({range:i,Y:!0},(o,c,h)=>{const p=Ua(o[1]),b=new at(p);s=s.add(b)}).next(()=>s)}containsKey(e,t){const i=ds(t.path),r=IDBKeyRange.bound([i],[rw(i)],!1,!0);let s=0;return Il(e).X({index:"documentTargetsIndex",Y:!0,range:r},([o,c],h,p)=>{0!==o&&(s++,p.done())}).next(()=>s>0)}he(e,t){return Zg(e).get(t).next(i=>i?Fp(i):null)}}function Zg(n){return br(n,"targets")}function lx(n){return br(n,"targetGlobal")}function Il(n){return br(n,"targetDocuments")}function uI([n,e],[t,i]){const r=Xt(n,t);return 0===r?Xt(e,i):r}class CA{constructor(e){this.Bn=e,this.buffer=new ui(uI),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();uI(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){$u(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zu(i)}yield t.Gn(3e5)}))}}class OP{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return de.resolve(Gs.ct);const i=new CA(t);return this.Qn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Qn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(aI)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aI):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let i,r,s,o,c,h,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,o=Date.now(),this.nthSequenceNumber(e,r))).next(x=>(i=x,c=Date.now(),this.removeTargets(e,i,t))).next(x=>(s=x,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(p=Date.now(),JC()<=Nu.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-b}ms\n\tDetermined least recently used ${r} in `+(c-o)+`ms\n\tRemoved ${s} targets in `+(h-c)+`ms\n\tRemoved ${x} documents in `+(p-h)+`ms\nTotal Duration: ${p-b}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:x})))}}class IA{constructor(e,t){this.db=e,this.garbageCollector=function dI(n,e){return new OP(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Hn(e){let t=0;return this.zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(i,r)=>t(r))}addReference(e,t,i){return Vb(e,i)}removeReference(e,t,i){return Vb(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Vb(e,t)}Yn(e,t){return function(i,r){let s=!1;return cI(i).Z(o=>ox(i,o,r).next(c=>(c&&(s=!0),de.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Jn(e,(o,c)=>{if(c<=t){const h=this.Yn(e,o).next(p=>{if(!p)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,kt.min()),Il(e).delete([0,ds(o.path)])))});r.push(h)}}).next(()=>de.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Vb(e,t)}Jn(e,t){const i=Il(e);let r,s=Gs.ct;return i.X({index:"documentTargetsIndex"},([o,c],{path:h,sequenceNumber:p})=>{0===o?(s!==Gs.ct&&t(new at(Ua(r)),s),s=p,r=h):s=Gs.ct}).next(()=>{s!==Gs.ct&&t(new at(Ua(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vb(n,e){return Il(n).put((i=n.currentSequenceNumber,{targetId:0,path:ds(e.path),sequenceNumber:i}));var i}class SA{constructor(){this.changes=new ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PP{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Hp(e).put(i)}removeEntry(e,t,i){return Hp(e).delete(function(r,s){const o=r.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Cb(s),o[o.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Xn(e,i)))}getEntry(e,t){let i=Jn.newInvalidDocument(t);return Hp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Bb(t))},(r,s)=>{i=this.Zn(t,s)}).next(()=>i)}ts(e,t){let i={size:0,document:Jn.newInvalidDocument(t)};return Hp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Bb(t))},(r,s)=>{i={document:this.Zn(t,s),size:Lb(s)}}).next(()=>i)}getEntries(e,t){let i=qs();return this.es(e,t,(r,s)=>{const o=this.Zn(r,s);i=i.insert(r,o)}).next(()=>i)}ns(e,t){let i=qs(),r=new ci(at.comparator);return this.es(e,t,(s,o)=>{const c=this.Zn(s,o);i=i.insert(s,c),r=r.insert(s,Lb(o))}).next(()=>({documents:i,ss:r}))}es(e,t,i){if(t.isEmpty())return de.resolve();let r=new ui(AA);t.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(Bb(r.first()),Bb(r.last())),o=r.getIterator();let c=o.getNext();return Hp(e).X({index:"documentKeyIndex",range:s},(h,p,b)=>{const x=at.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;c&&AA(c,x)<0;)i(c,null),c=o.getNext();c&&c.isEqual(x)&&(i(c,p),c=o.hasNext()?o.getNext():null),c?b.G(Bb(c)):b.done()}).next(()=>{for(;c;)i(c,null),c=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Cb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hp(e).j(IDBKeyRange.bound(o,c,!0)).next(h=>{let p=qs();for(const b of h){const x=this.Zn(at.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);x.isFoundDocument()&&(kg(t,x)||r.has(x.key))&&(p=p.insert(x.key,x))}return p})}getAllFromCollectionGroup(e,t,i,r){let s=qs();const o=MA(t,i),c=MA(t,wo.max());return Hp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,c,!0)},(h,p,b)=>{const x=this.Zn(at.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(x.key,x),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(e){return new FP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hI(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}Xn(e,t){return hI(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const i=function AP(n,e){let t;if(e.document)t=Gw(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=at.fromSegments(e.noDocument.path),r=Pp(e.noDocument.readTime);t=Jn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const i=at.fromSegments(e.unknownDocument.path),r=Pp(e.unknownDocument.version);t=Jn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new li(i[0],i[1]);return kt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(kt.min()))return i}return Jn.newInvalidDocument(e)}}function TA(n){return new PP(n)}class FP extends SA{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new ja(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ui((s,o)=>Xt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.os.get(s);if(t.push(this.rs.removeEntry(e,s,c.readTime)),o.isValidDocument()){const h=Yw(this.rs.serializer,o);r=r.add(s.path.popLast());const p=Lb(h);i+=p-c.size,t.push(this.rs.addEntry(e,s,h))}else if(i-=c.size,this.trackRemovals){const h=Yw(this.rs.serializer,o.convertToNoDocument(kt.min()));t.push(this.rs.addEntry(e,s,h))}}),r.forEach(s=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.rs.updateMetadata(e,i)),de.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(i=>(this.os.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:i,ss:r})=>(r.forEach((s,o)=>{this.os.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function hI(n){return br(n,"remoteDocumentGlobal")}function Hp(n){return br(n,"remoteDocumentsV14")}function Bb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MA(n,e){const t=e.documentKey.path.toArray();return[n,Cb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function AA(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Xt(t[s],i[s]),r)return r;return r=Xt(t.length,i.length),r||(r=Xt(t[t.length-2],i[i.length-2]),r||Xt(t[t.length-1],i[i.length-1]))}class NP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RA{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Rp(i.mutation,r,Ss.empty(),li.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,on()).next(()=>i))}getLocalViewOfDocuments(e,t,i=on()){const r=Dl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Pg();return s.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=Dl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,on()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,i,r){let s=qs();const o=Fg(),c=Fg();return t.forEach((h,p)=>{const b=i.get(p.key);r.has(p.key)&&(void 0===b||b.mutation instanceof Ac)?s=s.insert(p.key,p):void 0!==b?(o.set(p.key,b.mutation.getFieldMask()),Rp(b.mutation,p,b.mutation.getFieldMask(),li.now())):o.set(p.key,Ss.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((p,b)=>o.set(p,b)),t.forEach((p,b)=>{var x;return c.set(p,new NP(b,null!==(x=o.get(p))&&void 0!==x?x:null))}),c))}recalculateAndSaveOverlays(e,t){const i=Fg();let r=new ci((o,c)=>o-c),s=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const c of o)c.keys().forEach(h=>{const p=t.get(h);if(null===p)return;let b=i.get(h)||Ss.empty();b=c.applyToLocalView(p,b),i.set(h,b);const x=(r.get(c.batchId)||on()).add(h);r=r.insert(c.batchId,x)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,b=h.value,x=LD();b.forEach(I=>{if(!s.has(I)){const M=Lw(t.get(I),i.get(I));null!==M&&x.set(I,M),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,p,x))}return de.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return at.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):cb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):de.resolve(Dl());let c=-1,h=s;return o.next(p=>de.forEach(p,(b,x)=>(c<x.largestBatchId&&(c=x.largestBatchId),s.get(b)?de.resolve():this.remoteDocumentCache.getEntry(e,b).next(I=>{h=h.insert(b,I)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,h,p,on())).next(b=>({batchId:c,changes:kw(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(i=>{let r=Pg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Pg();return this.indexManager.getCollectionParents(e,r).next(o=>de.forEach(o,c=>{const h=(p=t,b=c.child(r),new Ha(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,b;return this.getDocumentsMatchingCollectionQuery(e,h,i).next(p=>{p.forEach((b,x)=>{s=s.insert(b,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((c,h)=>{const p=h.getKey();null===s.get(p)&&(s=s.insert(p,Jn.newInvalidDocument(p)))});let o=Pg();return s.forEach((c,h)=>{const p=r.get(c);void 0!==p&&Rp(p.mutation,h,Ss.empty(),li.now()),kg(t,h)&&(o=o.insert(c,h))}),o})}}class a{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return de.resolve(this.us.get(t))}saveBundleMetadata(e,t){var i;return this.us.set(t.id,{id:(i=t).id,version:i.version,createTime:Yi(i.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(i=t).name,query:Db(i.bundledQuery),readTime:Yi(i.readTime)}),de.resolve();var i}}class l{constructor(){this.overlays=new ci(at.comparator),this.hs=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Dl();return de.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.de(e,t,s)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const r=Dl(),s=t.length+1,o=new at(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return de.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ci((p,b)=>p-b);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let b=s.get(p.largestBatchId);null===b&&(b=Dl(),s=s.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const c=Dl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,b)=>c.set(p,b)),!(c.size()>=r)););return de.resolve(c)}de(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new ZD(t,i));let s=this.hs.get(t);void 0===s&&(s=on(),this.hs.set(t,s)),this.hs.set(t,s.add(i.key))}}class u{constructor(){this.ls=new ui(f.fs),this.ds=new ui(f._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const i=new f(e,t);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gs(new f(e,t))}ys(e,t){e.forEach(i=>this.removeReference(i,t))}ps(e){const t=new at(new In([])),i=new f(t,e),r=new f(t,e+1),s=[];return this.ds.forEachInRange([i,r],o=>{this.gs(o),s.push(o.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new at(new In([])),i=new f(t,e),r=new f(t,e+1);let s=on();return this.ds.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new f(e,0),i=this.ls.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class f{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return at.comparator(e.key,t.key)||Xt(e.Es,t.Es)}static _s(e,t){return Xt(e.Es,t.Es)||at.comparator(e.key,t.key)}}class m{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new ui(f.fs)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.As;this.As++;const o=new WD(s,t,i,r);this.mutationQueue.push(o);for(const c of r)this.Rs=this.Rs.add(new f(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return de.resolve(o)}lookupMutationBatch(e,t){return de.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ps(t+1),s=r<0?0:r;return de.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new f(t,0),r=new f(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],o=>{const c=this.vs(o.Es);s.push(c)}),de.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ui(Xt);return t.forEach(r=>{const s=new f(r,0),o=new f(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],c=>{i=i.add(c.Es)})}),de.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;at.isDocumentKey(s)||(s=s.child(""));const o=new f(new at(s),0);let c=new ui(Xt);return this.Rs.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(c=c.add(h.Es)),!0)},o),de.resolve(this.bs(c))}bs(e){const t=[];return e.forEach(i=>{const r=this.vs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Rt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return de.forEach(t.mutations,r=>{const s=new f(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Dn(e){}containsKey(e,t){const i=new f(t,0),r=this.Rs.firstAfterOrEqual(i);return de.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return de.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class y{constructor(e){this.Ss=e,this.docs=new ci(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Ss(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let i=qs();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Jn.newInvalidDocument(r))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=qs();const o=t.path,c=new at(o.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:b}}=h.getNext();if(!o.isPrefixOf(p.path))break;p.path.length>o.length+1||ow(lD(b),i)<=0||(r.has(b.key)||kg(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return de.resolve(s)}getAllFromCollectionGroup(e,t,i,r){bt()}Ds(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new w(this)}getSize(e){return de.resolve(this.size)}}class w extends SA{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class D{constructor(e){this.persistence=e,this.Cs=new ja(t=>Mc(t),Ag),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new u,this.targetCount=0,this.ks=Ju.Nn()}forEachTarget(e,t){return this.Cs.forEach((i,r)=>t(r)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.xs&&(this.xs=t),de.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.$n(t),de.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Cs.forEach((o,c)=>{c.sequenceNumber<=t&&null===i.get(c.targetId)&&(this.Cs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),de.waitFor(s).next(()=>r)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.Cs.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.Ns.ws(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.Ns.ys(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),de.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ns.Ts(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.Ns.containsKey(t))}}class T{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Gs(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new D(this),this.indexManager=new xA,this.remoteDocumentCache=new y(i=>this.referenceDelegate.Bs(i)),this.serializer=new Zw(t),this.Ls=new a(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new l,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ms[e.toKey()];return i||(i=new m(t,this.referenceDelegate),this.Ms[e.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,i){Ge("MemoryPersistence","Starting transaction:",e);const r=new O(this.Os.next());return this.referenceDelegate.qs(),i(r).next(s=>this.referenceDelegate.Us(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ks(e,t){return de.or(Object.values(this.Ms).map(i=>()=>i.containsKey(e,t)))}}class O extends BM{constructor(e){super(),this.currentSequenceNumber=e}}class V{constructor(e){this.persistence=e,this.Gs=new u,this.Qs=null}static js(e){return new V(e)}get zs(){if(this.Qs)return this.Qs;throw bt()}addReference(e,t,i){return this.Gs.addReference(i,t),this.zs.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Gs.removeReference(i,t),this.zs.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),de.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.zs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.zs,i=>{const r=at.fromPath(i);return this.Ws(e,r).next(s=>{s||t.removeEntry(r,kt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(i=>{i?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return de.or([()=>de.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class X{constructor(e){this.serializer=e}$(e,t,i,r){const s=new Qy("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fD,{unique:!0}),c.createObjectStore("documentMutations"),ae(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=de.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),ae(e)),o=o.next(()=>function(c){const h=c.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(c,h){return h.store("mutations").j().next(p=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fD,{unique:!0});const b=h.store("mutations"),x=p.map(I=>b.put(I));return de.waitFor(x)})}(e,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(o=o.next(()=>this.Js(s))),i<6&&r>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(s)))),i<7&&r>=7&&(o=o.next(()=>this.Xs(s))),i<8&&r>=8&&(o=o.next(()=>this.Zs(e,s))),i<9&&r>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(o=o.next(()=>this.ti(s))),i<11&&r>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{!function(c){const h=c.createObjectStore("documentOverlays",{keyPath:QM});h.createIndex("collectionPathOverlayIndex",dw,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",hw,{unique:!1})}(e)})),i<13&&r>=13&&(o=o.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:zM});h.createIndex("documentKeyIndex",$M),h.createIndex("collectionGroupIndex",GM)}(e)).next(()=>this.ei(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ni(e,s))),i<15&&r>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:KM}).createIndex("sequenceNumberIndex",_D,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:ZM}).createIndex("documentKeyIndex",YM,{unique:!1})}(e))),o}Ys(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=Lb(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>de.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",o).next(c=>de.forEach(c,h=>{Rt(h.userId===s.userId);const p=Pc(this.serializer,h);return lI(e,s.userId,p).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((o,c)=>{const h=new In(o),p=[0,ds(h)];s.push(t.get(p).next(b=>b?de.resolve():t.put({targetId:0,path:ds(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(s))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:WM});const i=t.store("collectionParents"),r=new Wg,s=o=>{if(r.add(o)){const c=o.lastSegment(),h=o.popLast();return i.put({collectionId:c,parent:ds(h)})}};return t.store("remoteDocuments").X({Y:!0},(o,c)=>{const h=new In(o);return s(h.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([o,c,h],p)=>{const b=Ua(c);return s(b.popLast())}))}ti(e){const t=e.store("targets");return t.X((i,r)=>{const s=Fp(r),o=Qw(this.serializer,s);return t.put(o)})}ei(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,o)=>{const c=t.store("remoteDocumentsV14"),h=(p=o,p.document?new at(In.fromString(p.document.name).popFirst(5)):p.noDocument?at.fromSegments(p.noDocument.path):p.unknownDocument?at.fromSegments(p.unknownDocument.path):bt()).path.toArray();var p;const b={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(c.put(b))}).next(()=>de.waitFor(r))}ni(e,t){const i=t.store("mutations"),r=TA(this.serializer),s=new T(V.js,this.serializer.le);return i.j().next(o=>{const c=new Map;return o.forEach(h=>{var p;let b=null!==(p=c.get(h.userId))&&void 0!==p?p:on();Pc(this.serializer,h).keys().forEach(x=>b=b.add(x)),c.set(h.userId,b)}),de.forEach(c,(h,p)=>{const b=new Wi(p),x=Tb.fe(this.serializer,b),I=s.getIndexManager(b),M=Kg.fe(b,this.serializer,I,s.referenceDelegate);return new RA(r,M,x,I).recalculateAndSaveOverlaysForDocumentKeys(new gw(t,Gs.ct),h).next()})})}}function ae(n){n.createObjectStore("targetDocuments",{keyPath:mD}).createIndex("documentTargetsIndex",gD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qM,{unique:!0}),n.createObjectStore("targetGlobal")}const Ie="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class We{constructor(e,t,i,r,s,o,c,h,p,b,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=s,this.window=o,this.document=c,this.ii=p,this.ri=b,this.oi=x,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=I=>Promise.resolve(),!We.D())throw new Oe(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IA(this,r),this.fi=t+"main",this.serializer=new Zw(h),this.di=new Is(this.fi,this.oi,new X(this.serializer)),this.Fs=new ax(this.referenceDelegate,this.serializer),this.remoteDocumentCache=TA(this.serializer),this.Ls=new Sb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(_e.FAILED_PRECONDITION,Ie);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Gs(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var i=(0,Ce.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,Ce.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vt(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if($u(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return st(e).get("owner").next(t=>de.resolve(this.Ri(t)))}vi(e){return vt(e).delete(this.clientId)}Pi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=br(i,"clientMetadata");return r.j().next(s=>{const o=e.Vi(s,18e5),c=s.filter(h=>-1===o.indexOf(h));return de.forEach(c,h=>r.delete(h.clientId)).next(()=>c)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?de.resolve(!0):st(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Oe(_e.FAILED_PRECONDITION,Ie);return!1}}return!(!this.networkEnabled||!this.inForeground)||vt(e).j().next(i=>void 0===this.Vi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new gw(t,Gs.ct);return e.Ei(i).next(()=>e.vi(i))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(i=>this.bi(i.updateTimeMs,t)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>vt(e).j().next(t=>this.Vi(t,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return Kg.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pb(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return Tb.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,i){Ge("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(o=this.oi)?mw:14===o?bD:13===o?yD:12===o?pw:11===o?fw:void bt();var o;let c;return this.di.runTransaction(e,r,s,h=>(c=new gw(h,this.Os?this.Os.next():Gs.ct),"readwrite-primary"===t?this.Ii(c).next(p=>!!p||this.Ti(c)).next(p=>{if(!p)throw Ki(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Oe(_e.FAILED_PRECONDITION,cD);return i(c)}).next(p=>this.Ai(c).next(()=>p)):this.Oi(c).next(()=>i(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}Oi(e){return st(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(_e.FAILED_PRECONDITION,Ie)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return st(e).put("owner",t)}static D(){return Is.D()}Ei(e){const t=st(e);return t.get("owner").next(i=>this.Ri(i)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}bi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ki(`Detected an update time that is in the future: ${e} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,rn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ki("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Ki("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function st(n){return br(n,"owner")}function vt(n){return br(n,"clientMetadata")}function Bt(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Le{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Fi=r}static Bi(e,t){let i=on(),r=on();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Le(e,t.fromCache,i,r)}}class Jt{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ui(e,t).next(s=>s||this.Ki(e,t,r,i)).next(s=>s||this.Gi(e,t))}Ui(e,t){if(Aw(t))return de.resolve(null);let i=Ts(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Rg(t,null,"F"),i=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=on(...s);return this.qi.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.Qi(t,c);return this.ji(t,p,o,h.readTime)?this.Ui(e,Rg(t,null,"F")):this.zi(e,p,t,h)}))})))}Ki(e,t,i,r){return Aw(t)||r.isEqual(kt.min())?this.Gi(e,t):this.qi.getDocuments(e,i).next(s=>{const o=this.Qi(t,s);return this.ji(t,o,i,r)?this.Gi(e,t):(JC()<=Nu.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rw(t)),this.zi(e,o,t,_p(r,-1)))})}Qi(e,t){let i=new ui(nA(e));return t.forEach((r,s)=>{kg(e,s)&&(i=i.add(s))}),i}ji(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Gi(e,t){return JC()<=Nu.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Rw(t)),this.qi.getDocumentsMatchingQuery(e,t,wo.min())}zi(e,t,i,r){return this.qi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class gi{constructor(e,t,i,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new ci(Xt),this.Ji=new ja(s=>Mc(s),Ag),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(i)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RA(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function Li(n,e,t,i){return new gi(n,e,t,i)}function kA(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,Ce.Z)(function*(n,e){const t=ct(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Zi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let h=on();for(const p of r){o.push(p.batchId);for(const b of p.mutations)h=h.add(b.key)}for(const p of s){c.push(p.batchId);for(const b of p.mutations)h=h.add(b.key)}return t.localDocuments.getDocuments(i,h).next(p=>({tr:p,removedBatchIds:o,addedBatchIds:c}))})})}),OA.apply(this,arguments)}function LP(n){const e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function VP(n,e,t){let i=on(),r=on();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=qs();return t.forEach((c,h)=>{const p=s.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(kt.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):Ge("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{er:o,nr:r}})}function Tj(n,e){const t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ub(n,e){const t=ct(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Fs.getTargetData(i,e).next(s=>s?(r=s,de.resolve(r)):t.Fs.allocateTargetId(i).next(o=>(r=new Oc(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(i.targetId,i),t.Ji.set(e,i.targetId)),i})}function Hb(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,Ce.Z)(function*(n,e,t){const i=ct(n),r=i.Hi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!$u(o))throw o;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Hi=i.Hi.remove(e),i.Ji.delete(r.target)}),PA.apply(this,arguments)}function fI(n,e,t){const i=ct(n);let r=kt.min(),s=on();return i.persistence.runTransaction("Execute query","readonly",o=>function(c,h,p){const b=ct(c),x=b.Ji.get(p);return void 0!==x?de.resolve(b.Hi.get(x)):b.Fs.getTargetData(h,p)}(i,o,Ts(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(o,c.targetId).next(h=>{s=h})}).next(()=>i.Wi.getDocumentsMatchingQuery(o,e,t?r:kt.min(),t?s:on())).next(c=>(HP(i,tA(e),c),{documents:c,sr:s})))}function BP(n,e){const t=ct(n),i=ct(t.Fs),r=t.Hi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.he(s,e).next(o=>o?o.target:null))}function UP(n,e){const t=ct(n),i=t.Yi.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Xi.getAllFromCollectionGroup(r,e,_p(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(HP(t,e,r),r))}function HP(n,e,t){let i=n.Yi.get(e)||kt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Yi.set(e,i)}function FA(){return FA=(0,Ce.Z)(function*(n,e,t,i){const r=ct(n);let s=on(),o=qs();for(const p of t){const b=e.ir(p.metadata.name);p.document&&(s=s.add(b));const x=e.rr(p);x.setReadTime(e.ur(p.metadata.readTime)),o=o.insert(b,x)}const c=r.Xi.newChangeBuffer({trackRemovals:!0}),h=yield Ub(r,(p=i,Ts(bh(In.fromString(`__bundle__/docs/${p}`)))));var p;return r.persistence.runTransaction("Apply bundle documents","readwrite",p=>VP(p,c,o).next(b=>(c.apply(p),b)).next(b=>r.Fs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>r.Fs.addMatchingKeys(p,s,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,b.er,b.nr)).next(()=>b.er)))}),FA.apply(this,arguments)}function Aj(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Ce.Z)(function*(n,e,t=on()){const i=yield Ub(n,Ts(Db(e.bundledQuery))),r=ct(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=Yi(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Ls.saveNamedQuery(s,e);const c=i.withResumeToken(sr.EMPTY_BYTE_STRING,o);return r.Hi=r.Hi.insert(c.targetId,c),r.Fs.updateTargetData(s,c).next(()=>r.Fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Fs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ls.saveNamedQuery(s,e))})}),NA.apply(this,arguments)}function jP(n,e){return`firestore_clients_${n}_${e}`}function zP(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function LA(n,e){return`firestore_targets_${n}_${e}`}class pI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static cr(e,t,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new Oe(r.error.code,r.error.message))),o?new pI(e,t,r.state,s):(Ki("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cx{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static cr(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Oe(i.error.code,i.error.message))),s?new cx(e,i.state,r):(Ki("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Ng();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=dD(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new mI(e,s):(Ki("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class VA{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new VA(t.clientId,t.onlineState):(Ki("SharedClientState",`Failed to parse online state: ${e}`),null)}}class BA{constructor(){this.activeTargetIds=Ng()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UA{constructor(e,t,i,r,s){this.window=e,this.si=t,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new ci(Xt),this.started=!1,this.gr=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.yr=jP(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new BA),this.Ir=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.Mi();for(const r of t){if(r===e.dr)continue;const s=e.getItem(jP(e.persistenceKey,r));if(s){const o=mI.cr(r,s);o&&(e.mr=e.mr.insert(o.clientId,o))}}e.vr();const i=e.storage.getItem(e.Ar);if(i){const r=e.Pr(i);r&&e.br(r)}for(const r of e.gr)e.wr(r);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,i){this.Sr(e,t,i),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(LA(this.persistenceKey,e));if(i){const r=cx.cr(e,i);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(LA(this.persistenceKey,e))}updateQueryState(e,t,i){this.Nr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Dr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ge("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void Ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ir.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.$r(r,null)}{const r=t.Fr(i.key,i.newValue);if(r)return t.$r(r.clientId,r)}}else if(t.Tr.test(i.key)){if(null!==i.newValue){const r=t.Br(i.key,i.newValue);if(r)return t.Lr(r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.qr(i.key,i.newValue);if(r)return t.Ur(r)}}else if(i.key===t.Ar){if(null!==i.newValue){const r=t.Pr(i.newValue);if(r)return t.br(r)}}else if(i.key===t.pr){const r=function(s){let o=Gs.ct;if(null!=s)try{const c=JSON.parse(s);Rt("number"==typeof c),o=c}catch(c){Ki("SharedClientState","Failed to read sequence number from WebStorage",c)}return o}(i.newValue);r!==Gs.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Kr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Gr(s)))}}else t.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,i){const r=new pI(this.currentUser,e,t,i),s=zP(this.persistenceKey,this.currentUser,e);this.setItem(s,r.ar())}Dr(e){const t=zP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,i){const r=LA(this.persistenceKey,e),s=new cx(e,t,i);this.setItem(r,s.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const i=this.Or(e);return mI.cr(i,t)}Br(e,t){const i=this.Tr.exec(e),r=Number(i[1]);return pI.cr(new Wi(void 0!==i[2]?i[2]:null),r,t)}qr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return cx.cr(r,t)}Pr(e){return VA.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const i=t?this.mr.insert(e,t):this.mr.remove(e),r=this.Vr(this.mr),s=this.Vr(i),o=[],c=[];return s.forEach(h=>{r.has(h)||o.push(h)}),r.forEach(h=>{s.has(h)||c.push(h)}),this.syncEngine.zr(o,c).then(()=>{this.mr=i})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=Ng();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class $P{constructor(){this.Wr=new BA,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,i){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new BA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rj{Jr(e){}shutdown(){}}class GP{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gI=null;function HA(){return null===gI?gI=268435456+Math.round(2147483648*Math.random()):gI++,"0x"+gI.toString(16)}const kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oj{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Ws="WebChannelConnection";class Pj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,i,r,s){const o=HA(),c=this.Io(e,t);Ge("RestConnection",`Sending RPC '${e}' ${o}:`,c,i);const h={};return this.To(h,r,s),this.Eo(e,c,h,i).then(p=>(Ge("RestConnection",`Received RPC '${e}' ${o}: `,p),p),p=>{throw vo("RestConnection",`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",i),p})}Ao(e,t,i,r,s,o){return this.po(e,t,i,r,s)}To(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Io(e,t){return`${this.wo}/v1/${t}:${kj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,i,r){const s=HA();return new Promise((o,c)=>{const h=new kM;h.setWithCredentials(!0),h.listenOnce(YC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ZC.NO_ERROR:const b=h.getResponseJson();Ge(Ws,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),o(b);break;case ZC.TIMEOUT:Ge(Ws,`RPC '${e}' ${s} timed out`),c(new Oe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case ZC.HTTP_ERROR:const x=h.getStatus();if(Ge(Ws,`RPC '${e}' ${s} failed with status:`,x,"response text:",h.getResponseText()),x>0){let I=h.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I?.error;if(M&&M.status&&M.message){const P=function(F){const L=F.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(L)>=0?L:_e.UNKNOWN}(M.status);c(new Oe(P,M.message))}else c(new Oe(_e.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Oe(_e.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Ge(Ws,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(r);Ge(Ws,`RPC '${e}' ${s} sending request:`,r),h.send(t,"POST",p,i,15)})}Ro(e,t,i){const r=HA(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EP(),c=iw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Ut({})),this.To(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const p=s.join("");Ge(Ws,`Creating RPC '${e}' stream ${r}: ${p}`,h);const b=o.createWebChannel(p,h);let x=!1,I=!1;const M=new Oj({io:F=>{I?Ge(Ws,`Not sending because RPC '${e}' stream ${r} is closed:`,F):(x||(Ge(Ws,`Opening RPC '${e}' stream ${r} transport.`),b.open(),x=!0),Ge(Ws,`RPC '${e}' stream ${r} sending:`,F),b.send(F))},ro:()=>b.close()}),P=(F,L,$)=>{F.listen(L,W=>{try{$(W)}catch(ee){setTimeout(()=>{throw ee},0)}})};return P(b,$y.EventType.OPEN,()=>{I||Ge(Ws,`RPC '${e}' stream ${r} transport opened.`)}),P(b,$y.EventType.CLOSE,()=>{I||(I=!0,Ge(Ws,`RPC '${e}' stream ${r} transport closed`),M.fo())}),P(b,$y.EventType.ERROR,F=>{I||(I=!0,vo(Ws,`RPC '${e}' stream ${r} transport errored:`,F),M.fo(new Oe(_e.UNAVAILABLE,"The operation could not be completed")))}),P(b,$y.EventType.MESSAGE,F=>{var L;if(!I){const $=F.data[0];Rt(!!$);const ee=$.error||(null===(L=$[0])||void 0===L?void 0:L.error);if(ee){Ge(Ws,`RPC '${e}' stream ${r} received error:`,ee);const re=ee.status;let ce=function(Be){const Ve=xr[Be];if(void 0!==Ve)return Uw(Ve)}(re),ge=ee.message;void 0===ce&&(ce=_e.INTERNAL,ge="Unknown error status: "+re+" with message "+ee.message),I=!0,M.fo(new Oe(ce,ge)),b.close()}else Ge(Ws,`RPC '${e}' stream ${r} received:`,$),M._o($)}}),P(c,QC.STAT_EVENT,F=>{F.stat===RM.PROXY?Ge(Ws,`RPC '${e}' stream ${r} detected buffering proxy`):F.stat===RM.NOPROXY&&Ge(Ws,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{M.lo()},0),M}}function qP(){return typeof window<"u"?window:null}function _I(){return typeof document<"u"?document:null}function ux(n){return new fA(n,!0)}class jA{constructor(e,t,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=t,this.vo=i,this.Po=r,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-i);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class WP{constructor(e,t,i,r,s,o,c,h){this.si=e,this.Mo=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new jA(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,Ce.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,Ce.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var i=this;return(0,Ce.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==e?i.Lo.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Ki(t.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):t&&t.code===_e.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===t&&this.Xo(i,r)},i=>{e(()=>{const r=new Oe(_e.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(e,t){const i=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,Ce.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fj extends WP{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function mA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(h=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:bt(),r=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(Rt(void 0===p||"string"==typeof p),sr.fromBase64String(p||"")):(Rt(void 0===p||p instanceof Uint8Array),sr.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const p=void 0===h.code?_e.UNKNOWN:Uw(h.code);return new Oe(p,h.message||"")}(o);t=new YD(i,r,s,c||null)}else if("documentChange"in e){const i=e.documentChange,r=Qi(n,i.document.name),s=Yi(i.document.updateTime),o=i.document.createTime?Yi(i.document.createTime):kt.min(),c=new qr({mapValue:{fields:i.document.fields}}),h=Jn.newFoundDocument(r,s,o,c);t=new _b(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=Qi(n,i.document),s=i.readTime?Yi(i.readTime):kt.min(),o=Jn.newNoDocument(r,s);t=new _b([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=Qi(n,i.document);t=new _b([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return bt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new IP(r,s);t=new jg(i.targetId,o)}}var h;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return kt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?kt.min():s.readTime?Yi(s.readTime):kt.min()}(e);return this.listener.eu(t,i)}nu(e){const t={};t.database=$g(this.serializer),t.addTarget=function(r,s){let o;const c=s.target;if(o=sb(c)?{documents:qw(r,c)}:{query:Ww(r,c)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=pA(r,s.resumeToken);const h=yb(r,s.expectedCount);null!==h&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(kt.min())>0){o.readTime=xh(r,s.snapshotVersion.toTimestamp());const h=yb(r,s.expectedCount);null!==h&&(o.expectedCount=h)}return o}(this.serializer,e);const i=function Rc(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.zo(t)}su(e){const t={};t.database=$g(this.serializer),t.removeTarget=e,this.zo(t)}}class Nj extends WP{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function gA(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(i,r){let s=Yi(i.updateTime?i.updateTime:r);return s.isEqual(kt.min())&&(s=Yi(r)),new zD(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Yi(e.commitTime);return this.listener.uu(i,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=$g(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Op(this.serializer,i))};this.zo(t)}}class Lj extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.po(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(_e.UNKNOWN,r.toString())})}Ao(e,t,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ao(e,t,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(_e.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class Bj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Ki(t),this.wu=!1):Ge("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Uj{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(c=>{i.enqueueAndForget((0,Ce.Z)(function*(){var h;jp(o)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,Ce.Z)(function*(p){const b=ct(p);b.Au.add(4),yield jb(b),b.Pu.set("Unknown"),b.Au.delete(4),yield dx(b)}),function(p){return h.apply(this,arguments)})(o))}))}),this.Pu=new Bj(i,r)}}function dx(n){return $A.apply(this,arguments)}function $A(){return $A=(0,Ce.Z)(function*(n){if(jp(n))for(const e of n.Ru)yield e(!0)}),$A.apply(this,arguments)}function jb(n){return GA.apply(this,arguments)}function GA(){return GA=(0,Ce.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),GA.apply(this,arguments)}function yI(n,e){const t=ct(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),KA(t)?WA(t):$b(t).Uo()&&qA(t,e))}function hx(n,e){const t=ct(n),i=$b(t);t.Eu.delete(e),i.Uo()&&KP(t,e),0===t.Eu.size&&(i.Uo()?i.Qo():jp(t)&&t.Pu.set("Unknown"))}function qA(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$b(n).nu(e)}function KP(n,e){n.bu.Lt(e),$b(n).su(e)}function WA(n){n.bu=new TP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),$b(n).start(),n.Pu.mu()}function KA(n){return jp(n)&&!$b(n).qo()&&n.Eu.size>0}function jp(n){return 0===ct(n).Au.size}function ZP(n){n.bu=void 0}function Hj(n){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Ce.Z)(function*(n){n.Eu.forEach((e,t)=>{qA(n,e)})}),ZA.apply(this,arguments)}function jj(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,Ce.Z)(function*(n,e){ZP(n),KA(n)?(n.Pu.pu(e),WA(n)):n.Pu.set("Unknown")}),YA.apply(this,arguments)}function zj(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,Ce.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof YD&&2===e.state&&e.cause)try{yield(i=(0,Ce.Z)(function*(r,s){const o=s.cause;for(const c of s.targetIds)r.Eu.has(c)&&(yield r.remoteSyncer.rejectListen(c,o),r.Eu.delete(c),r.bu.removeTarget(c))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield bI(n,i)}else if(e instanceof _b?n.bu.Wt(e):e instanceof jg?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(kt.min()))try{const i=yield LP(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const o=r.bu.ue(s);return o.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=r.Eu.get(h);p&&r.Eu.set(h,p.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,h)=>{const p=r.Eu.get(c);if(!p)return;r.Eu.set(c,p.withResumeToken(sr.EMPTY_BYTE_STRING,p.snapshotVersion)),KP(r,c);const b=new Oc(p.target,c,h,p.sequenceNumber);qA(r,b)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(i){Ge("RemoteStore","Failed to raise snapshot:",i),yield bI(n,i)}var i}),QA.apply(this,arguments)}function bI(n,e,t){return XA.apply(this,arguments)}function XA(){return XA=(0,Ce.Z)(function*(n,e,t){if(!$u(e))throw e;n.Au.add(1),yield jb(n),n.Pu.set("Offline"),t||(t=()=>LP(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield dx(n)}))}),XA.apply(this,arguments)}function YP(n,e){return e().catch(t=>bI(n,t,e))}function zb(n){return JA.apply(this,arguments)}function JA(){return JA=(0,Ce.Z)(function*(n){const e=ct(n),t=zp(e);let i=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;$j(e);)try{const r=yield Tj(e.localStore,i);if(null===r){0===e.Tu.length&&t.Qo();break}i=r.batchId,Gj(e,r)}catch(r){yield bI(e,r)}QP(e)&&XP(e)}),JA.apply(this,arguments)}function $j(n){return jp(n)&&n.Tu.length<10}function Gj(n,e){n.Tu.push(e);const t=zp(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function QP(n){return jp(n)&&!zp(n).qo()&&n.Tu.length>0}function XP(n){zp(n).start()}function qj(n){return eR.apply(this,arguments)}function eR(){return eR=(0,Ce.Z)(function*(n){zp(n).au()}),eR.apply(this,arguments)}function Wj(n){return tR.apply(this,arguments)}function tR(){return tR=(0,Ce.Z)(function*(n){const e=zp(n);for(const t of n.Tu)e.ou(t.mutations)}),tR.apply(this,arguments)}function Kj(n,e,t){return nR.apply(this,arguments)}function nR(){return nR=(0,Ce.Z)(function*(n,e,t){const i=n.Tu.shift(),r=KD.from(i,e,t);yield YP(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield zb(n)}),nR.apply(this,arguments)}function Zj(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,Ce.Z)(function*(n,e){var t;e&&zp(n).ru&&(yield(t=(0,Ce.Z)(function*(i,r){if(lA(s=r.code)&&s!==_e.ABORTED){const o=i.Tu.shift();zp(i).Go(),yield YP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield zb(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),QP(n)&&XP(n)}),iR.apply(this,arguments)}function JP(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,Ce.Z)(function*(n,e){const t=ct(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const i=jp(t);t.Au.add(3),yield jb(t),i&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield dx(t)}),rR.apply(this,arguments)}function sR(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,Ce.Z)(function*(n,e){const t=ct(n);e?(t.Au.delete(2),yield dx(t)):e||(t.Au.add(2),yield jb(t),t.Pu.set("Unknown"))}),oR.apply(this,arguments)}function $b(n){return n.Vu||(n.Vu=function(e,t,i){const r=ct(e);return r.lu(),new Fj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:Hj.bind(null,n),co:jj.bind(null,n),eu:zj.bind(null,n)}),n.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Vu.Go(),KA(n)?WA(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),ZP(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function zp(n){return n.Su||(n.Su=function(e,t,i){const r=ct(e);return r.lu(),new Nj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:qj.bind(null,n),co:Zj.bind(null,n),cu:Wj.bind(null,n),uu:Kj.bind(null,n)}),n.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Su.Go(),yield zb(n)):(yield n.Su.stop(),n.Tu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class aR{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,c=new aR(e,t,o,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gb(n,e){if(Ki("AsyncQueue",`${e}: ${n}`),$u(n))return new Oe(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class qb{constructor(e){this.comparator=e?(t,i)=>e(t,i)||at.comparator(t.key,i.key):(t,i)=>at.comparator(t.key,i.key),this.keyedMap=Pg(),this.sortedSet=new ci(this.comparator)}static emptySet(e){return new qb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qb)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new qb;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class eF{constructor(){this.Du=new ci(at.comparator)}track(e){const t=e.doc.key,i=this.Du.get(t);i?0!==e.type&&3===i.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==i.type?this.Du=this.Du.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Du=this.Du.remove(t):1===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):bt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,i)=>{e.push(i)}),e}}class Wb{constructor(e,t,i,r,s,o,c,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new Wb(e,t,qb.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Yj{constructor(){this.xu=void 0,this.listeners=[]}}class Qj{constructor(){this.queries=new ja(e=>vh(e),wr),this.onlineState="Unknown",this.Nu=new Set}}function lR(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,Ce.Z)(function*(n,e){const t=ct(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Yj),r)try{s.xu=yield t.onListen(i)}catch(o){const c=Gb(o,`Initialization of query '${Rw(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.listeners.push(e),e.ku(t.onlineState),s.xu&&e.Mu(s.xu)&&hR(t)}),cR.apply(this,arguments)}function uR(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,Ce.Z)(function*(n,e){const t=ct(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),dR.apply(this,arguments)}function Xj(n,e){const t=ct(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const c of o.listeners)c.Mu(r)&&(i=!0);o.xu=r}}i&&hR(t)}function Jj(n,e,t){const i=ct(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function hR(n){n.Nu.forEach(e=>{e.next()})}class fR{constructor(e,t,i){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Wb(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Wb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class ez{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class tF{constructor(e){this.serializer=e}ir(e){return Qi(this.serializer,e)}rr(e){return e.metadata.exists?Gw(this.serializer,e.document,!1):Jn.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Yi(e)}}class tz{constructor(e,t,i){this.Qu=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nF(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const i=In.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,i=new tF(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.ir(r.metadata.name);for(const o of r.metadata.queries){const c=(t.get(o)||on()).add(s);t.set(o,c)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function Mj(n,e,t,i){return FA.apply(this,arguments)}(e.localStore,new tF(e.serializer),e.documents,e.Qu.id),i=e.zu(e.documents);for(const r of e.queries)yield Aj(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function nF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iF{constructor(e){this.key=e}}class rF{constructor(e){this.key=e}}class sF{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=on(),this.mutatedKeys=on(),this.Zu=nA(e),this.tc=new qb(this.Zu)}get ec(){return this.Ju}nc(e,t){const i=t?t.sc:new eF,r=t?t.tc:this.tc;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,x)=>{const I=r.get(b),M=kg(this.query,x)?x:null,P=!!I&&this.mutatedKeys.has(I.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let L=!1;I&&M?I.data.isEqual(M.data)?P!==F&&(i.track({type:3,doc:M}),L=!0):this.ic(I,M)||(i.track({type:2,doc:M}),L=!0,(h&&this.Zu(M,h)>0||p&&this.Zu(M,p)<0)&&(c=!0)):!I&&M?(i.track({type:0,doc:M}),L=!0):I&&!M&&(i.track({type:1,doc:I}),L=!0,(h||p)&&(c=!0)),L&&(M?(o=o.add(M),s=F?s.add(b):s.delete(b)):(o=o.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const b="F"===this.query.limitType?o.last():o.first();o=o.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{tc:o,sc:i,ji:c,mutatedKeys:s}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const s=e.sc.Cu();s.sort((p,b)=>function(x,I){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return M(x)-M(I)}(p.type,b.type)||this.Zu(p.doc,b.doc)),this.rc(i);const o=t?this.oc():[],c=0===this.Xu.size&&this.current?1:0,h=c!==this.Yu;return this.Yu=c,0!==s.length||h?{snapshot:new Wb(this.query,e.tc,r,s,e.mutatedKeys,0===c,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new eF,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=on(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const t=[];return e.forEach(i=>{this.Xu.has(i)||t.push(new rF(i))}),this.Xu.forEach(i=>{e.has(i)||t.push(new iF(i))}),t}ac(e){this.Ju=e.sr,this.Xu=on();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Wb.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class nz{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iz{constructor(e){this.key=e,this.lc=!1}}class rz{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new ja(c=>vh(c),wr),this._c=new Map,this.wc=new Set,this.mc=new ci(at.comparator),this.gc=new Map,this.yc=new u,this.Ic={},this.Tc=new Map,this.Ec=Ju.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function sz(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,Ce.Z)(function*(n,e){const t=LR(n);let i,r;const s=t.dc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.hc();else{const o=yield Ub(t.localStore,Ts(e)),c=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield mR(t,e,i,"current"===c,o.resumeToken),t.isPrimaryClient&&yI(t.remoteStore,o)}return r}),pR.apply(this,arguments)}function mR(n,e,t,i,r){return gR.apply(this,arguments)}function gR(){return gR=(0,Ce.Z)(function*(n,e,t,i,r){n.Rc=(x,I,M)=>{return(P=(0,Ce.Z)(function*(F,L,$,W){let ee=L.view.nc($);ee.ji&&(ee=yield fI(F.localStore,L.query,!1).then(({documents:ge})=>L.view.nc(ge,ee)));const re=W&&W.targetChanges.get(L.targetId),ce=L.view.applyChanges(ee,F.isPrimaryClient,re);return IR(F,L.targetId,ce.uc),ce.snapshot}),function(F,L,$,W){return P.apply(this,arguments)})(n,x,I,M);var P};const s=yield fI(n.localStore,e,!0),o=new sF(e,s.sr),c=o.nc(s.documents),h=Hg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),p=o.applyChanges(c,n.isPrimaryClient,h);IR(n,t,p.uc);const b=new nz(e,t,o);return n.dc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),p.snapshot}),gR.apply(this,arguments)}function oz(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,Ce.Z)(function*(n,e){const t=ct(n),i=t.dc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!wr(s,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hb(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),hx(t.remoteStore,i.targetId),Kb(t,i.targetId)}).catch(zu))):(Kb(t,i.targetId),yield Hb(t.localStore,i.targetId,!0))}),_R.apply(this,arguments)}function yR(){return yR=(0,Ce.Z)(function*(n,e,t){const i=VR(n);try{const r=yield function(s,o){const c=ct(s),h=li.now(),p=o.reduce((I,M)=>I.add(M.key),on());let b,x;return c.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=qs(),P=on();return c.Xi.getEntries(I,p).next(F=>{M=F,M.forEach((L,$)=>{$.isValidDocument()||(P=P.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(I,M)).next(F=>{b=F;const L=[];for(const $ of o){const W=$D($,b.get($.key).overlayedDocument);null!=W&&L.push(new Ac($.key,W,XM(W.value.mapValue),di.exists(!0)))}return c.mutationQueue.addMutationBatch(I,h,L,o)}).next(F=>{x=F;const L=F.applyToLocalDocumentSet(b,P);return c.documentOverlayCache.saveOverlays(I,F.batchId,L)})}).then(()=>({batchId:x.batchId,changes:kw(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,c){let h=s.Ic[s.currentUser.toKey()];h||(h=new ci(Xt)),h=h.insert(o,c),s.Ic[s.currentUser.toKey()]=h}(i,r.batchId,t),yield Ch(i,r.changes),yield zb(i.remoteStore)}catch(r){const s=Gb(r,"Failed to persist write");t.reject(s)}}),yR.apply(this,arguments)}function oF(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,Ce.Z)(function*(n,e){const t=ct(n);try{const i=yield function Sj(n,e){const t=ct(n),i=e.snapshotVersion;let r=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Xi.newChangeBuffer({trackRemovals:!0});r=t.Hi;const c=[];e.targetChanges.forEach((b,x)=>{const I=r.get(x);if(!I)return;c.push(t.Fs.removeMatchingKeys(s,b.removedDocuments,x).next(()=>t.Fs.addMatchingKeys(s,b.addedDocuments,x)));let M=I.withSequenceNumber(s.currentSequenceNumber);var P,F,L;null!==e.targetMismatches.get(x)?M=M.withResumeToken(sr.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):b.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(b.resumeToken,i)),r=r.insert(x,M),F=M,L=b,(0===(P=I).resumeToken.approximateByteSize()||F.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&c.push(t.Fs.updateTargetData(s,M))});let h=qs(),p=on();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),c.push(VP(s,o,e.documentUpdates).next(b=>{h=b.er,p=b.nr})),!i.isEqual(kt.min())){const b=t.Fs.getLastRemoteSnapshotVersion(s).next(x=>t.Fs.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(b)}return de.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(t.Hi=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.gc.get(s);o&&(Rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.lc=!0:r.modifiedDocuments.size>0?Rt(o.lc):r.removedDocuments.size>0&&(Rt(o.lc),o.lc=!1))}),yield Ch(t,i,e)}catch(i){yield zu(i)}}),bR.apply(this,arguments)}function aF(n,e,t){const i=ct(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.dc.forEach((s,o)=>{const c=o.view.ku(e);c.snapshot&&r.push(c.snapshot)}),function(s,o){const c=ct(s);c.onlineState=o;let h=!1;c.queries.forEach((p,b)=>{for(const x of b.listeners)x.ku(o)&&(h=!0)}),h&&hR(c)}(i.eventManager,e),r.length&&i.fc.eu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function lz(n,e,t){return vR.apply(this,arguments)}function vR(){return vR=(0,Ce.Z)(function*(n,e,t){const i=ct(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.gc.get(e),s=r&&r.key;if(s){let o=new ci(at.comparator);o=o.insert(s,Jn.newNoDocument(s,kt.min()));const c=on().add(s),h=new Ug(kt.min(),new Map,new ci(Xt),o,c);yield oF(i,h),i.mc=i.mc.remove(s),i.gc.delete(e),SR(i)}else yield Hb(i.localStore,e,!1).then(()=>Kb(i,e,t)).catch(zu)}),vR.apply(this,arguments)}function cz(n,e){return wR.apply(this,arguments)}function wR(){return wR=(0,Ce.Z)(function*(n,e){const t=ct(n),i=e.batch.batchId;try{const r=yield function Ij(n,e){const t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Xi.newChangeBuffer({trackRemovals:!0});return function(o,c,h,p){const b=h.batch,x=b.keys();let I=de.resolve();return x.forEach(M=>{I=I.next(()=>p.getEntry(c,M)).next(P=>{const F=h.docVersions.get(M);Rt(null!==F),P.version.compareTo(F)<0&&(b.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),p.addEntry(P)))})}),I.next(()=>o.mutationQueue.removeMutationBatch(c,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let c=on();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(c=c.add(o.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);DR(t,i,null),CR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ch(t,r)}catch(r){yield zu(r)}}),wR.apply(this,arguments)}function uz(n,e,t){return xR.apply(this,arguments)}function xR(){return xR=(0,Ce.Z)(function*(n,e,t){const i=ct(n);try{const r=yield function(s,o){const c=ct(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,o).next(b=>(Rt(null!==b),p=b.keys(),c.mutationQueue.removeMutationBatch(h,b))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(i.localStore,e);DR(i,e,t),CR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ch(i,r)}catch(r){yield zu(r)}}),xR.apply(this,arguments)}function ER(){return ER=(0,Ce.Z)(function*(n,e){const t=ct(n);jp(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const o=ct(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>o.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Tc.get(i)||[];r.push(e),t.Tc.set(i,r)}catch(i){const r=Gb(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),ER.apply(this,arguments)}function CR(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function DR(n,e,t){const i=ct(n);let r=i.Ic[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ic[i.currentUser.toKey()]=r}}function Kb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.dc.delete(i),t&&n.fc.vc(i,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(i=>{n.yc.containsKey(i)||lF(n,i)})}function lF(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(hx(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),SR(n))}function IR(n,e,t){for(const i of t)i instanceof iF?(n.yc.addReference(i.key,e),hz(n,i)):i instanceof rF?(Ge("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,e),n.yc.containsKey(i.key)||lF(n,i.key)):bt()}function hz(n,e){const t=e.key,i=t.path.canonicalString();n.mc.get(t)||n.wc.has(i)||(Ge("SyncEngine","New document in limbo: "+t),n.wc.add(i),SR(n))}function SR(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new at(In.fromString(e)),i=n.Ec.next();n.gc.set(i,new iz(t)),n.mc=n.mc.insert(t,i),yI(n.remoteStore,new Oc(Ts(bh(t.path)),i,"TargetPurposeLimboResolution",Gs.ct))}}function Ch(n,e,t){return TR.apply(this,arguments)}function TR(){return TR=(0,Ce.Z)(function*(n,e,t){const i=ct(n),r=[],s=[],o=[];var c;i.dc.isEmpty()||(i.dc.forEach((c,h)=>{o.push(i.Rc(h,e,t).then(p=>{if((p||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,p?.fromCache?"not-current":"current"),p){r.push(p);const b=Le.Bi(h.targetId,p);s.push(b)}}))}),yield Promise.all(o),i.fc.eu(r),yield(c=(0,Ce.Z)(function*(h,p){const b=ct(h);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>de.forEach(p,I=>de.forEach(I.$i,M=>b.persistence.referenceDelegate.addReference(x,I.targetId,M)).next(()=>de.forEach(I.Fi,M=>b.persistence.referenceDelegate.removeReference(x,I.targetId,M)))))}catch(x){if(!$u(x))throw x;Ge("LocalStore","Failed to update sequence numbers: "+x)}for(const x of p){const I=x.targetId;if(!x.fromCache){const M=b.Hi.get(I),F=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);b.Hi=b.Hi.insert(I,F)}}}),function(h,p){return c.apply(this,arguments)})(i.localStore,s))}),TR.apply(this,arguments)}function fz(n,e){return MR.apply(this,arguments)}function MR(){return MR=(0,Ce.Z)(function*(n,e){const t=ct(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const i=yield kA(t.localStore,e);t.currentUser=e,(r=t).Tc.forEach(o=>{o.forEach(c=>{c.reject(new Oe(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ch(t,i.tr)}var r}),MR.apply(this,arguments)}function pz(n,e){const t=ct(n),i=t.gc.get(e);if(i&&i.lc)return on().add(i.key);{let r=on();const s=t._c.get(e);if(!s)return r;for(const o of s){const c=t.dc.get(o);r=r.unionWith(c.view.ec)}return r}}function mz(n,e){return AR.apply(this,arguments)}function AR(){return AR=(0,Ce.Z)(function*(n,e){const t=ct(n),i=yield fI(t.localStore,e.query,!0),r=e.view.ac(i);return t.isPrimaryClient&&IR(t,e.targetId,r.uc),r}),AR.apply(this,arguments)}function gz(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,Ce.Z)(function*(n,e){const t=ct(n);return UP(t.localStore,e).then(i=>Ch(t,i))}),RR.apply(this,arguments)}function _z(n,e,t,i){return kR.apply(this,arguments)}function kR(){return kR=(0,Ce.Z)(function*(n,e,t,i){const r=ct(n),s=yield function(o,c){const h=ct(o),p=ct(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",b=>p.Vn(b,c).next(x=>x?h.localDocuments.getDocuments(b,x):de.resolve(null)))}(r.localStore,e);var c;null!==s?("pending"===t?yield zb(r.remoteStore):"acknowledged"===t||"rejected"===t?(DR(r,e,i||null),CR(r,e),c=e,ct(ct(r.localStore).mutationQueue).Dn(c)):bt(),yield Ch(r,s)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),kR.apply(this,arguments)}function OR(){return OR=(0,Ce.Z)(function*(n,e){const t=ct(n);if(LR(t),VR(t),!0===e&&!0!==t.Ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield cF(t,i.toArray());t.Ac=!0,yield sR(t.remoteStore,!0);for(const s of r)yI(t.remoteStore,s)}else if(!1===e&&!1!==t.Ac){const i=[];let r=Promise.resolve();t._c.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Kb(t,o),Hb(t.localStore,o,!0))),hx(t.remoteStore,o)}),yield r,yield cF(t,i),function(s){const o=ct(s);o.gc.forEach((c,h)=>{hx(o.remoteStore,h)}),o.yc.Is(),o.gc=new Map,o.mc=new ci(at.comparator)}(t),t.Ac=!1,yield sR(t.remoteStore,!1)}}),OR.apply(this,arguments)}function cF(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,Ce.Z)(function*(n,e,t){const i=ct(n),r=[],s=[];for(const o of e){let c;const h=i._c.get(o);if(h&&0!==h.length){c=yield Ub(i.localStore,Ts(h[0]));for(const p of h){const b=i.dc.get(p),x=yield mz(i,b);x.snapshot&&s.push(x.snapshot)}}else{const p=yield BP(i.localStore,o);c=yield Ub(i.localStore,p),yield mR(i,uF(p),o,!1,c.resumeToken)}r.push(c)}return i.fc.eu(s),r}),PR.apply(this,arguments)}function uF(n){return Mw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bz(n){const e=ct(n);return ct(ct(e.localStore).persistence).Mi()}function vz(n,e,t,i){return FR.apply(this,arguments)}function FR(){return FR=(0,Ce.Z)(function*(n,e,t,i){const r=ct(n);if(r.Ac)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield UP(r.localStore,tA(s[0])),c=Ug.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,sr.EMPTY_BYTE_STRING);yield Ch(r,o,c);break}case"rejected":yield Hb(r.localStore,e,!0),Kb(r,e,i);break;default:bt()}}),FR.apply(this,arguments)}function wz(n,e,t){return NR.apply(this,arguments)}function NR(){return NR=(0,Ce.Z)(function*(n,e,t){const i=LR(n);if(i.Ac){for(const r of e){if(i._c.has(r)){Ge("SyncEngine","Adding an already active target "+r);continue}const s=yield BP(i.localStore,r),o=yield Ub(i.localStore,s);yield mR(i,uF(s),o.targetId,!1,o.resumeToken),yI(i.remoteStore,o)}for(const r of t)i._c.has(r)&&(yield Hb(i.localStore,r,!1).then(()=>{hx(i.remoteStore,r),Kb(i,r)}).catch(zu))}}),NR.apply(this,arguments)}function LR(n){const e=ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lz.bind(null,e),e.fc.eu=Xj.bind(null,e.eventManager),e.fc.vc=Jj.bind(null,e.eventManager),e}function VR(n){const e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uz.bind(null,e),e}class fx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.serializer=ux(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Li(this.persistence,new Jt,e.initialUser,this.serializer)}createPersistence(e){return new T(V.js,this.serializer)}createSharedClientState(e){return new $P}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class BR extends fx{constructor(e,t,i){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield t().call(i,e),yield i.bc.initialize(i,e),yield VR(i.bc.syncEngine),yield zb(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Li(this.persistence,new Jt,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new DA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new HM(t,this.persistence);return new cw(e.asyncQueue,i)}createPersistence(e){const t=Bt(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new We(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,qP(),_I(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $P}}class dF extends BR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield t().call(i,e);const r=i.bc.syncEngine;i.sharedClientState instanceof UA&&(i.sharedClientState.syncEngine={Qr:_z.bind(null,r),jr:vz.bind(null,r),zr:wz.bind(null,r),Mi:bz.bind(null,r),Gr:gz.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var s=(0,Ce.Z)(function*(o){yield function yz(n,e){return OR.apply(this,arguments)}(i.bc.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=qP();if(!UA.D(t))throw new Oe(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Bt(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Zb{initialize(e,t){var i=this;return(0,Ce.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>aF(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=fz.bind(null,i.syncEngine),yield sR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qj}createDatastore(e){const t=ux(e.databaseInfo.databaseId),i=new Pj(e.databaseInfo);return new Lj(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=c=>aF(this.syncEngine,c,0),o=GP.D()?new GP:new Rj,new Uj(t,i,r,s,o);var t,i,r,s,o}createSyncEngine(e,t){return function(i,r,s,o,c,h,p){const b=new rz(i,r,s,o,c,h);return p&&(b.Ac=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const i=ct(t);Ge("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield jb(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function hF(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Cz{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new yr,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const i=e.Cc.decode(t),r=Number(i);isNaN(r)&&e.kc(`length string (${i}) is not valid number`);const s=yield e.Mc(r);return new ez(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,Ce.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Mc(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const i=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Dz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ce.Z)(function*(s,o){const c=ct(s),h=$g(c.serializer)+"/documents",p={documents:o.map(M=>bb(c.serializer,M))},b=yield c.Ao("BatchGetDocuments",h,p,o.length),x=new Map;b.forEach(M=>{const P=function eI(n,e){return"found"in e?function(t,i){Rt(!!i.found);const r=Qi(t,i.found.name),s=Yi(i.found.updateTime),o=i.found.createTime?Yi(i.found.createTime):kt.min(),c=new qr({mapValue:{fields:i.found.fields}});return Jn.newFoundDocument(r,s,o,c)}(n,e):"missing"in e?function(t,i){Rt(!!i.missing),Rt(!!i.readTime);const r=Qi(t,i.missing),s=Yi(i.readTime);return Jn.newNoDocument(r,s)}(n,e):bt()}(c.serializer,M);x.set(P.key.toString(),P)});const I=[];return o.forEach(M=>{const P=x.get(M.toString());Rt(!!P),I.push(P)}),I}),function(s,o){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=at.fromPath(r);e.mutations.push(new qD(s,e.precondition(s)))}),yield(i=(0,Ce.Z)(function*(r,s){const o=ct(r),c=$g(o.serializer)+"/documents",h={writes:s.map(p=>Op(o.serializer,p))};yield o.po("Commit",c,h)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bt();t=kt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Oe(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kt.min())?di.exists(!1):di.updateTime(t):di.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Oe(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return di.updateTime(t)}return di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Iz{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Fc=i.maxAttempts,this.Lo=new jA(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,Ce.Z)(function*(){const t=new Dz(e.datastore),i=e.Lc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.qc(s)}))}).catch(r=>{e.qc(r)})}))}Lc(e){try{const t=this.updateFunction(e);return!bp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!lA(t)}return!1}}class Sz{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Wi.UNAUTHENTICATED,this.clientId=oD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,Ce.Z)(function*(c){Ge("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(Ge("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Gb(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function wI(n,e){return UR.apply(this,arguments)}function UR(){return UR=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ce.Z)(function*(s){i.isEqual(s)||(yield kA(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),UR.apply(this,arguments)}function HR(n,e){return jR.apply(this,arguments)}function jR(){return jR=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zR(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>JP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>JP(e.remoteStore,s)),n._onlineComponents=e}),jR.apply(this,arguments)}function fF(n){return"FirebaseError"===n.name?n.code===_e.FAILED_PRECONDITION||n.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function zR(n){return $R.apply(this,arguments)}function $R(){return $R=(0,Ce.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!fF(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),yield wI(n,new fx)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),yield wI(n,new fx);return n._offlineComponents}),$R.apply(this,arguments)}function xI(n){return GR.apply(this,arguments)}function GR(){return GR=(0,Ce.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield HR(n,n._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield HR(n,new Zb))),n._onlineComponents}),GR.apply(this,arguments)}function pF(n){return zR(n).then(e=>e.persistence)}function EI(n){return zR(n).then(e=>e.localStore)}function mF(n){return xI(n).then(e=>e.remoteStore)}function qR(n){return xI(n).then(e=>e.syncEngine)}function Yb(n){return WR.apply(this,arguments)}function WR(){return WR=(0,Ce.Z)(function*(n){const e=yield xI(n),t=e.eventManager;return t.onListen=sz.bind(null,e.syncEngine),t.onUnlisten=oz.bind(null,e.syncEngine),t}),WR.apply(this,arguments)}function _F(n,e,t={}){const i=new yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,s,o,c,h){const p=new vI({next:x=>{s.enqueueAndForget(()=>uR(r,b));const I=x.docs.has(o);!I&&x.fromCache?h.reject(new Oe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&x.fromCache&&c&&"server"===c.source?h.reject(new Oe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),b=new fR(bh(o.path),p,{includeMetadataChanges:!0,Uu:!0});return lR(r,b)}(yield Yb(n),n.asyncQueue,e,t,i)})),i.promise}function yF(n,e,t={}){const i=new yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,s,o,c,h){const p=new vI({next:x=>{s.enqueueAndForget(()=>uR(r,b)),x.fromCache&&"server"===c.source?h.reject(new Oe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),b=new fR(o,p,{includeMetadataChanges:!0,Uu:!0});return lR(r,b)}(yield Yb(n),n.asyncQueue,e,t,i)})),i.promise}const bF=new Map;function KR(n,e,t){if(!t)throw new Oe(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vF(n,e,t,i){if(!0===e&&!0===i)throw new Oe(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wF(n){if(!at.isDocumentKey(n))throw new Oe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xF(n){if(at.isDocumentKey(n))throw new Oe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":bt()}function Sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CI(n);throw new Oe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function EF(n,e){if(e<=0)throw new Oe(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class CF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class px{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new FM;switch(t.type){case"firstParty":return new rD(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bF.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),bF.delete(e),t.terminate())}(this),Promise.resolve()}}class Ci{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ci(this.firestore,e,this._key)}}class Ms{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class ed extends Ms{constructor(e,t,i){super(e,t,bh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ci(this.firestore,null,new at(e))}withConverter(e){return new ed(this.firestore,e,this._path)}}function IF(n,e,...t){if(n=(0,rn.m9)(n),KR("collection","path",e),n instanceof px){const i=In.fromString(e,...t);return xF(i),new ed(n,null,i)}{if(!(n instanceof Ci||n instanceof ed))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(e,...t));return xF(i),new ed(n.firestore,null,i)}}function DI(n,e,...t){if(n=(0,rn.m9)(n),1===arguments.length&&(e=oD.A()),KR("doc","path",e),n instanceof px){const i=In.fromString(e,...t);return wF(i),new Ci(n,null,new at(i))}{if(!(n instanceof Ci||n instanceof ed))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(e,...t));return wF(i),new Ci(n.firestore,n instanceof ed?n.converter:null,new at(i))}}function SF(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),(n instanceof Ci||n instanceof ed)&&(e instanceof Ci||e instanceof ed)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ZR(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),n instanceof Ms&&e instanceof Ms&&n.firestore===e.firestore&&wr(n._query,e._query)&&n.converter===e.converter}class Lz{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new jA(this,"async_queue_retry"),this.Yc=()=>{const t=_I();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=_I();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=_I();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new yr;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!$u(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(i=>{throw this.zc=i,this.Wc=!1,Ki("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=t,t}enqueueAfterDelay(e,t,i){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const r=aR.createAndSchedule(this,e,t,i,s=>this.ea(s));return this.jc.push(r),r}Xc(){this.zc&&bt()}verifyOperationInProgress(){}na(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function YR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Vz{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Di extends px{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Lz,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||TF(this),this._firestoreClient.terminate()}}function Er(n){return n._firestoreClient||TF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function TF(n){var e,t,i;const r=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new CP(n._databaseId,c,n._persistenceKey,(p=r).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var c,p;n._firestoreClient=new Sz(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function MF(n,e,t){const i=new yr;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield wI(n,t),yield HR(n,e),i.resolve()}catch(r){const s=r;if(!fF(s))throw s;vo("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function AF(n){if(n._initialized||n._terminated)throw new Oe(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class td{constructor(e){this._byteString=e}static fromBase64String(e){try{return new td(sr.fromBase64String(e))}catch(t){throw new Oe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new td(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._methodName=e}}class II{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const Zz=/^__.*__$/;class Yz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new wh(e,this.data,t,this.fieldTransforms)}}class RF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class SI{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new SI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.la(e),r}fa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.oa(),r}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return AI(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(kF(this.ua)&&Zz.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Qz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ux(e)}ga(e,t,i,r=!1){return new SI({ua:e,methodName:t,ma:i,path:Zi.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(n){const e=n._freezeSettings(),t=ux(n._databaseId);return new Qz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TI(n,e,t,i,r,s={}){const o=n.ga(s.merge||s.mergeFields?2:0,e,t,r);ek("Data must be an object, but it was:",o,i);const c=FF(i,o);let h,p;if(s.merge)h=new Ss(o.fieldMask),p=o.fieldTransforms;else if(s.mergeFields){const b=[];for(const x of s.mergeFields){const I=_x(e,x,t);if(!o.contains(I))throw new Oe(_e.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);LF(b,I)||b.push(I)}h=new Ss(b),p=o.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,p=o.fieldTransforms;return new Yz(new qr(c),h,p)}class gx extends Yg{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gx}}function OF(n,e,t){return new SI({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class QR extends Yg{_toFieldTransform(e){return new Ap(e.path,new Yu)}isEqual(e){return e instanceof QR}}class Xz extends Yg{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=OF(this,e,!0),i=this.ya.map(s=>Xg(s,t)),r=new Sp(i);return new Ap(e.path,r)}isEqual(e){return this===e}}class Jz extends Yg{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=OF(this,e,!0),i=this.ya.map(s=>Xg(s,t)),r=new Tp(i);return new Ap(e.path,r)}isEqual(e){return this===e}}class e$ extends Yg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Mp(e.serializer,BD(e.serializer,this.pa));return new Ap(e.path,t)}isEqual(e){return this===e}}function XR(n,e,t,i){const r=n.ga(1,e,t);ek("Data must be an object, but it was:",r,i);const s=[],o=qr.empty();Dc(i,(h,p)=>{const b=MI(e,h,t);p=(0,rn.m9)(p);const x=r.fa(b);if(p instanceof gx)s.push(b);else{const I=Xg(p,x);null!=I&&(s.push(b),o.set(b,I))}});const c=new Ss(s);return new RF(o,c,r.fieldTransforms)}function JR(n,e,t,i,r,s){const o=n.ga(1,e,t),c=[_x(e,i,t)],h=[r];if(s.length%2!=0)throw new Oe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)c.push(_x(e,s[I])),h.push(s[I+1]);const p=[],b=qr.empty();for(let I=c.length-1;I>=0;--I)if(!LF(p,c[I])){const M=c[I];let P=h[I];P=(0,rn.m9)(P);const F=o.fa(M);if(P instanceof gx)p.push(M);else{const L=Xg(P,F);null!=L&&(p.push(M),b.set(M,L))}}const x=new Ss(p);return new RF(b,x,o.fieldTransforms)}function PF(n,e,t,i=!1){return Xg(t,n.ga(i?4:3,e))}function Xg(n,e){if(NF(n=(0,rn.m9)(n)))return ek("Unsupported field value:",e,n),FF(n,e);if(n instanceof Yg)return function(t,i){if(!kF(i.ua))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const o of t){let c=Xg(o,i.da(s));null==c&&(c={nullValue:"NULL_VALUE"}),r.push(c),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,rn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BD(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=li.fromDate(t);return{timestampValue:xh(i.serializer,r)}}if(t instanceof li){const r=new li(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xh(i.serializer,r)}}if(t instanceof II)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof td)return{bytesValue:pA(i.serializer,t._byteString)};if(t instanceof Ci){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:zg(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${CI(t)}`)}(n,e)}function FF(n,e){const t={};return vD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dc(n,(i,r)=>{const s=Xg(r,e.aa(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function NF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof li||n instanceof II||n instanceof td||n instanceof Ci||n instanceof Yg)}function ek(n,e,t){if(!NF(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=CI(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function _x(n,e,t){if((e=(0,rn.m9)(e))instanceof Dh)return e._internalPath;if("string"==typeof e)return MI(n,e);throw AI("Field path arguments must be of type string or ",n,!1,void 0,t)}const t$=new RegExp("[~\\*/\\[\\]]");function MI(n,e,t){if(e.search(t$)>=0)throw AI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dh(...e.split("."))._internalPath}catch{throw AI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function AI(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${i}`),o&&(h+=` in document ${r}`),h+=")"),new Oe(_e.INVALID_ARGUMENT,c+n+h)}function LF(n,e){return n.some(t=>t.isEqual(e))}class yx{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ci(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new n$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class n$ extends yx{data(){return super.data()}}function RI(n,e){return"string"==typeof e?MI(n,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function VF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tk{}class bx extends tk{}function $p(n,e,...t){let i=[];e instanceof tk&&i.push(e),i=i.concat(t),function(r){const s=r.filter(c=>c instanceof Qb).length,o=r.filter(c=>c instanceof vx).length;if(s>1||s>0&&o>0)throw new Oe(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class vx extends bx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new vx(e,t,i)}_apply(e){const t=this._parse(e);return jF(e._query,t),new Ms(e.firestore,e.converter,ub(e._query,t))}_parse(e){const t=Qg(e.firestore);return function(r,s,o,c,h,p,b){let x;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){HF(b,p);const I=[];for(const M of b)I.push(UF(c,r,M));x={arrayValue:{values:I}}}else x=UF(c,r,b)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||HF(b,p),x=PF(o,"where",b,"in"===p||"not-in"===p);return _n.create(h,p,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Qb extends tk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qb(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const o=r.getFlattenedFilters();for(const c of o)jF(s,c),s=ub(s,c)}(e._query,t),new Ms(e.firestore,e.converter,ub(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nk extends bx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nk(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Cp(r,s);return function(c,h){if(null===ab(c)){const p=lb(c);null!==p&&zF(0,p,h.field)}}(i,o),o}(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Ha(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class kI extends bx{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new kI(e,t,i)}_apply(e){return new Ms(e.firestore,e.converter,Rg(e._query,this._limit,this._limitType))}}class OI extends bx{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new OI(e,t,i)}_apply(e){const t=BF(e,this.type,this._docOrFields,this._inclusive);return new Ms(e.firestore,e.converter,(r=t,new Ha((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class PI extends bx{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new PI(e,t,i)}_apply(e){const t=BF(e,this.type,this._docOrFields,this._inclusive);return new Ms(e.firestore,e.converter,(r=t,new Ha((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function BF(n,e,t,i){if(t[0]=(0,rn.m9)(t[0]),t[0]instanceof yx)return function(r,s,o,c,h){if(!c)throw new Oe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const p=[];for(const b of Zu(r))if(b.field.isKeyField())p.push(_h(s,c.key));else{const x=c.data.field(b.field);if(tb(x))throw new Oe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const I=b.field.canonicalString();throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}p.push(x)}return new Ku(p,h)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Qg(n.firestore);return function(s,o,c,h,p,b){const x=s.explicitOrderBy;if(p.length>x.length)throw new Oe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let M=0;M<p.length;M++){const P=p[M];if(x[M].field.isKeyField()){if("string"!=typeof P)throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof P}`);if(!cb(s)&&-1!==P.indexOf("/"))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${P}' contains a slash.`);const F=s.path.child(In.fromString(P));if(!at.isDocumentKey(F))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`);const L=new at(F);I.push(_h(o,L))}else{const F=PF(c,h,P);I.push(F)}}return new Ku(I,b)}(n._query,n.firestore._databaseId,r,e,t,i)}}function UF(n,e,t){if("string"==typeof(t=(0,rn.m9)(t))){if(""===t)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&-1!==t.indexOf("/"))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(In.fromString(t));if(!at.isDocumentKey(i))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _h(n,new at(i))}if(t instanceof Ci)return _h(n,t._key);throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CI(t)}.`)}function HF(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jF(n,e){if(e.isInequality()){const i=lb(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=ab(n);null!==s&&zF(0,r,s)}const t=function(i,r){for(const s of i)for(const o of s.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Oe(_e.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function zF(n,e,t){if(!t.isEqual(e))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ik{convertValue(e,t="none"){switch(gh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Dc(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new II(Ni(e.latitude),Ni(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wp(e));default:return null}}convertTimestamp(e){const t=Ic(e);return new li(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=In.fromString(e);Rt(rI(i));const r=new Tc(i.get(1),i.get(3)),s=new at(i.popFirst(5));return r.isEqual(t)||Ki(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function FI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class d$ extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new td(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,t)}}class Jg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ih extends yx{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(RI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class wx extends Ih{data(e={}){return super.data(e)}}class Gp{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new wx(this._firestore,this._userDataWriter,i.key,i,new Jg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new wx(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||3!==o.type).map(o=>{const c=new wx(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return 0!==o.type&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),p=s.indexOf(o.doc.key)),{type:f$(o.type),doc:c,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function GF(n,e){return n instanceof Ih&&e instanceof Ih?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gp&&e instanceof Gp&&n._firestore===e._firestore&&ZR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class qp extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new td(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,t)}}function qF(n,e,t){n=Sn(n,Ci);const i=Sn(n.firestore,Di),r=FI(n.converter,e,t);return Xb(i,[TI(Qg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,di.none())])}function WF(n,e,t,...i){n=Sn(n,Ci);const r=Sn(n.firestore,Di),s=Qg(r);let o;return o="string"==typeof(e=(0,rn.m9)(e))||e instanceof Dh?JR(s,"updateDoc",n._key,e,t,i):XR(s,"updateDoc",n._key,e),Xb(r,[o.toMutation(n._key,di.exists(!0))])}function KF(n,...e){var t,i,r;n=(0,rn.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||YR(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(YR(e[o])){const x=e[o];e[o]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[o+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[o+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let h,p,b;if(n instanceof Ci)p=Sn(n.firestore,Di),b=bh(n._key.path),h={next:x=>{e[o]&&e[o](rk(p,n,x))},error:e[o+1],complete:e[o+2]};else{const x=Sn(n,Ms);p=Sn(x.firestore,Di),b=x._query;const I=new qp(p);h={next:M=>{e[o]&&e[o](new Gp(p,I,x,M))},error:e[o+1],complete:e[o+2]},VF(n._query)}return function(x,I,M,P){const F=new vI(P),L=new fR(I,F,M);return x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return lR(yield Yb(x),L)})),()=>{F.Sc(),x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return uR(yield Yb(x),L)}))}}(Er(p),b,c,h)}function Xb(n,e){return function(t,i){const r=new yr;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function az(n,e,t){return yR.apply(this,arguments)}(yield qR(t),i,r)})),r.promise}(Er(n),e)}function rk(n,e,t){const i=t.docs.get(e._key),r=new qp(n);return new Ih(n,r,e._key,i,new Jg(t.hasPendingWrites,t.fromCache),e.converter)}const R$={maxAttempts:5};class ZF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qg(e)}set(e,t,i){this._verifyNotCommitted();const r=Wp(e,this._firestore),s=FI(r.converter,t,i),o=TI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,di.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Wp(e,this._firestore);let o;return o="string"==typeof(t=(0,rn.m9)(t))||t instanceof Dh?JR(this._dataReader,"WriteBatch.update",s._key,t,i,r):XR(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,di.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wp(e,this._firestore);return this._mutations=this._mutations.concat(new Vg(t._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wp(n,e){if((n=(0,rn.m9)(n)).firestore!==e)throw new Oe(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class k$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Qg(e)}get(e){const t=Wp(e,this._firestore),i=new d$(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return bt();const s=r[0];if(s.isFoundDocument())return new yx(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new yx(this._firestore,i,t._key,null,t.converter);throw bt()})}set(e,t,i){const r=Wp(e,this._firestore),s=FI(r.converter,t,i),o=TI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,o),this}update(e,t,i,...r){const s=Wp(e,this._firestore);let o;return o="string"==typeof(t=(0,rn.m9)(t))||t instanceof Dh?JR(this._dataReader,"Transaction.update",s._key,t,i,r):XR(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=Wp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wp(e,this._firestore),i=new qp(this._firestore);return super.get(e).then(r=>new Ih(this._firestore,i,t._key,r._document,new Jg(!1,!1),t.converter))}}!function(n,e=!0){Cc=Aa.SDK_VERSION,(0,Aa._registerComponent)(new Jd.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),o=new Di(new nD(t.getProvider("auth-internal")),new vg(t.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Oe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(c.options.projectId,h)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),(0,Aa.registerVersion)(XC,"3.11.0",n),(0,Aa.registerVersion)(XC,"3.11.0","esm2017")}();function sk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function QF(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function XF(){if(!function wD(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class xx{constructor(e){this._delegate=e}static fromBase64String(e){return XF(),new xx(td.fromBase64String(e))}static fromUint8Array(e){return QF(),new xx(td.fromUint8Array(e))}toBase64(){return XF(),this._delegate.toBase64()}toUint8Array(){return QF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ok(n){return function H$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class j${enableIndexedDbPersistence(e,t){return function Uz(n,e){AF(n=Sn(n,Di));const t=Er(n);if(t._uninitializedComponentsProvider)throw new Oe(_e.FAILED_PRECONDITION,"SDK cache is already specified.");vo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Zb;return MF(t,r,new BR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Hz(n){AF(n=Sn(n,Di));const e=Er(n);if(e._uninitializedComponentsProvider)throw new Oe(_e.FAILED_PRECONDITION,"SDK cache is already specified.");vo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Zb;return MF(e,i,new dF(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jz(n){if(n._initialized&&!n._terminated)throw new Oe(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(i){if(!Is.D())return Promise.resolve();const r=i+"main";yield Is.delete(r)}),function(i){return t.apply(this,arguments)})(Bt(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class JF{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&vo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function DF(n,e,t,i={}){var r;const s=(n=Sn(n,px))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&vo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let o,c;if("string"==typeof i.mockUserToken)o=i.mockUserToken,c=Wi.MOCK_USER;else{o=(0,rn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Oe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Wi(h)}n._authCredentials=new qy(new tD(o,c))}}(this._delegate,e,t,i)}enableNetwork(){return function $z(n){return function Tz(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield pF(n),t=yield mF(n);return e.setNetworkEnabled(!0),function(i){const r=ct(i);return r.Au.delete(0),dx(r)}(t)}))}(Er(n=Sn(n,Di)))}(this._delegate)}disableNetwork(){return function Gz(n){return function Mz(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield pF(n),t=yield mF(n);return e.setNetworkEnabled(!1),(i=(0,Ce.Z)(function*(r){const s=ct(r);s.Au.add(0),yield jb(s),s.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Er(n=Sn(n,Di)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,vF("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zz(n){return function(e){const t=new yr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function dz(n,e){return ER.apply(this,arguments)}(yield qR(e),t)})),t.promise}(Er(n=Sn(n,Di)))}(this._delegate)}onSnapshotsInSync(e){return function x$(n,e){return function kz(n,e){const t=new vI(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Yb(n),r=t,ct(i).Nu.add(r),void r.next();var i,r})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Yb(n),r=t,void ct(i).Nu.delete(r);var i,r}))}}(Er(n=Sn(n,Di)),YR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jb(this,IF(this._delegate,e))}catch(t){throw xo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Sl(this,DI(this._delegate,e))}catch(t){throw xo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Eo(this,function Nz(n,e){if(n=Sn(n,px),KR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ms(n,null,(t=e,new Ha(In.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw xo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function O$(n,e,t){n=Sn(n,Di);const i=Object.assign(Object.assign({},R$),t);return function(r){if(r.maxAttempts<1)throw new Oe(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,o){const c=new yr;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const h=yield function gF(n){return xI(n).then(e=>e.datastore)}(r);new Iz(r.asyncQueue,h,o,s,c).run()})),c.promise}(Er(n),r=>e(new k$(n,r)),i)}(this._delegate,t=>e(new eN(this,t)))}batch(){return Er(this._delegate),new tN(new ZF(this._delegate,e=>Xb(this._delegate,e)))}loadBundle(e){return function qz(n,e){const t=Er(n=Sn(n,Di)),i=new Vz;return function Oz(n,e,t,i){const r=function(s,o){let c;return c="string"==typeof s?Hw().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return hF(h,p);if(h instanceof ArrayBuffer)return hF(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Cz(h,o);var h}(t,ux(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function xz(n,e,t){const i=ct(n);var r;(r=(0,Ce.Z)(function*(s,o,c){try{const h=yield o.getMetadata();if(yield function(I,M){const P=ct(I),F=Yi(M.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",L=>P.Ls.getBundleMetadata(L,M.id)).then(L=>!!L&&L.createTime.compareTo(F)>=0)}(s.localStore,h))return yield o.close(),c._completeWith({taskState:"Success",documentsLoaded:(I=h).totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}),Promise.resolve(new Set);c._updateProgress(nF(h));const p=new tz(h,s.localStore,o.serializer);let b=yield o.Pc();for(;b;){const I=yield p.ju(b);I&&c._updateProgress(I),b=yield o.Pc()}const x=yield p.complete();return yield Ch(s,x.Hu,void 0),yield function(I,M){const P=ct(I);return P.persistence.runTransaction("Save bundle","readwrite",F=>P.Ls.saveBundleMetadata(F,M))}(s.localStore,h),c._completeWith(x.progress),Promise.resolve(x.Wu)}catch(h){return vo("SyncEngine",`Loading bundle failed with ${h}`),c._failWith(h),Promise.resolve(new Set)}var I}),function(s,o,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield qR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Wz(n,e){return function Pz(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,i){const r=ct(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ls.getNamedQuery(s,i))}(yield EI(n),e)}))}(Er(n=Sn(n,Di)),e).then(t=>t?new Ms(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Eo(this,t):null)}}class NI extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new xx(new td(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Sl.forKey(t,this.firestore,null)}}class eN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new NI(e)}get(e){const t=t_(e);return this._delegate.get(t).then(i=>new Ex(this._firestore,new Ih(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=t_(e);return i?(sk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=t_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=t_(e);return this._delegate.delete(t),this}}class tN{constructor(e){this._delegate=e}set(e,t,i){const r=t_(e);return i?(sk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=t_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=t_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class e_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new wx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cx(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=e_.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new e_(e,new NI(e),t),r.set(t,s)),s}}e_.INSTANCES=new WeakMap;class Sl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new NI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sl(t,new Ci(t._delegate,i,new at(e)))}static forKey(e,t,i){return new Sl(t,new Ci(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Jb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jb(this.firestore,IF(this._delegate,e))}catch(t){throw xo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rn.m9)(e))instanceof Ci&&SF(this._delegate,e)}set(e,t){t=sk("DocumentReference.set",t);try{return t?qF(this._delegate,e,t):qF(this._delegate,e)}catch(i){throw xo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?WF(this._delegate,e):WF(this._delegate,e,t,...i)}catch(r){throw xo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function v$(n){return Xb(Sn(n.firestore,Di),[new Vg(n._key,di.none())])}(this._delegate)}onSnapshot(...e){const t=nN(e),i=iN(e,r=>new Ex(this.firestore,new Ih(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return KF(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function m$(n){n=Sn(n,Ci);const e=Sn(n.firestore,Di),t=Er(e),i=new qp(e);return function Az(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,s,o){try{const c=yield function(h,p){const b=ct(h);return b.persistence.runTransaction("read document","readonly",x=>b.localDocuments.getDocument(x,p))}(r,s);c.isFoundDocument()?o.resolve(c):c.isNoDocument()?o.resolve(null):o.reject(new Oe(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const h=Gb(c,`Failed to get document '${s} from cache`);o.reject(h)}}),function(r,s,o){return i.apply(this,arguments)})(yield EI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ih(e,i,n._key,r,new Jg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function g$(n){n=Sn(n,Ci);const e=Sn(n.firestore,Di);return _F(Er(e),n._key,{source:"server"}).then(t=>rk(e,n,t))}(this._delegate):function p$(n){n=Sn(n,Ci);const e=Sn(n.firestore,Di);return _F(Er(e),n._key).then(t=>rk(e,n,t))}(this._delegate),t.then(i=>new Ex(this.firestore,new Ih(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Sl(this.firestore,this._delegate.withConverter(e?e_.getInstance(this.firestore,e):null))}}function xo(n,e,t){return n.message=n.message.replace(e,t),n}function nN(n){for(const e of n)if("object"==typeof e&&!ok(e))return e;return{}}function iN(n,e){var t,i;let r;return r=ok(n[0])?n[0]:ok(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ex{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Sl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return GF(this._delegate,e._delegate)}}class Cx extends Ex{data(e){const t=this._delegate.data(e);return function PM(n,e){n||bt()}(void 0!==t),t}}class Eo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new NI(e)}where(e,t,i){try{return new Eo(this.firestore,$p(this._delegate,function i$(n,e,t){const i=e,r=RI("where",n);return vx._create(r,i,t)}(e,t,i)))}catch(r){throw xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Eo(this.firestore,$p(this._delegate,function r$(n,e="asc"){const t=e,i=RI("orderBy",n);return nk._create(i,t)}(e,t)))}catch(i){throw xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Eo(this.firestore,$p(this._delegate,function s$(n){return EF("limit",n),kI._create("limit",n,"F")}(e)))}catch(t){throw xo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Eo(this.firestore,$p(this._delegate,function o$(n){return EF("limitToLast",n),kI._create("limitToLast",n,"L")}(e)))}catch(t){throw xo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Eo(this.firestore,$p(this._delegate,function a$(...n){return OI._create("startAt",n,!0)}(...e)))}catch(t){throw xo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Eo(this.firestore,$p(this._delegate,function l$(...n){return OI._create("startAfter",n,!1)}(...e)))}catch(t){throw xo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Eo(this.firestore,$p(this._delegate,function c$(...n){return PI._create("endBefore",n,!1)}(...e)))}catch(t){throw xo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Eo(this.firestore,$p(this._delegate,function u$(...n){return PI._create("endAt",n,!0)}(...e)))}catch(t){throw xo(t,"endAt()","Query.endAt()")}}isEqual(e){return ZR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function y$(n){n=Sn(n,Ms);const e=Sn(n.firestore,Di),t=Er(e),i=new qp(e);return function Rz(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,s,o){try{const c=yield fI(r,s,!0),h=new sF(s,c.sr),p=h.nc(c.documents),b=h.applyChanges(p,!1);o.resolve(b.snapshot)}catch(c){const h=Gb(c,`Failed to execute query '${s} against cache`);o.reject(h)}}),function(r,s,o){return i.apply(this,arguments)})(yield EI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Gp(e,i,n,r))}(this._delegate):"server"===e?.source?function b$(n){n=Sn(n,Ms);const e=Sn(n.firestore,Di),t=Er(e),i=new qp(e);return yF(t,n._query,{source:"server"}).then(r=>new Gp(e,i,n,r))}(this._delegate):function _$(n){n=Sn(n,Ms);const e=Sn(n.firestore,Di),t=Er(e),i=new qp(e);return VF(n._query),yF(t,n._query).then(r=>new Gp(e,i,n,r))}(this._delegate),t.then(i=>new ak(this.firestore,new Gp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=nN(e),i=iN(e,r=>new ak(this.firestore,new Gp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return KF(this._delegate,t,i)}withConverter(e){return new Eo(this.firestore,this._delegate.withConverter(e?e_.getInstance(this.firestore,e):null))}}class $${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Cx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ak{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Cx(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $$(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Cx(this._firestore,i))})}isEqual(e){return GF(this._delegate,e._delegate)}}class Jb extends Eo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sl(this.firestore,e):null}doc(e){try{return new Sl(this.firestore,void 0===e?DI(this._delegate):DI(this._delegate,e))}catch(t){throw xo(t,"doc()","CollectionReference.doc()")}}add(e){return function w$(n,e){const t=Sn(n.firestore,Di),i=DI(n),r=FI(n.converter,e);return Xb(t,[TI(Qg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,di.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Sl(this.firestore,t))}isEqual(e){return SF(this._delegate,e._delegate)}withConverter(e){return new Jb(this.firestore,this._delegate.withConverter(e?e_.getInstance(this.firestore,e):null))}}function t_(n){return Sn(n,Ci)}class lk{constructor(...e){this._delegate=new Dh(...e)}static documentId(){return new lk(Zi.keyField().canonicalString())}isEqual(e){return(e=(0,rn.m9)(e))instanceof Dh&&this._delegate._internalPath.isEqual(e._internalPath)}}class n_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function F$(){return new QR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new n_(e)}static delete(){const e=function P$(){return new gx("deleteField")}();return e._methodName="FieldValue.delete",new n_(e)}static arrayUnion(...e){const t=function N$(...n){return new Xz("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new n_(t)}static arrayRemove(...e){const t=function L$(...n){return new Jz("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new n_(t)}static increment(e){const t=function V$(n){return new e$("increment",n)}(e);return t._methodName="FieldValue.increment",new n_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const G$={Firestore:JF,GeoPoint:II,Timestamp:li,Blob:xx,Transaction:eN,WriteBatch:tN,DocumentReference:Sl,DocumentSnapshot:Ex,Query:Eo,QueryDocumentSnapshot:Cx,QuerySnapshot:ak,CollectionReference:Jb,FieldPath:lk,FieldValue:n_,setLogLevel:function z$(n){!function eD(n){Bn.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function W$(n){(function q$(n,e){n.INTERNAL.registerComponent(new Jd.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},G$)))})(n,(e,t)=>new JF(e,t,new j$)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(sy.Z);var rN=H(6451),LI=H(5363),K$=H(6063);class Z$ extends Dn.x{constructor(e=1/0,t=1/0,i=K$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=t.now();let c=0;for(let h=1;h<i.length&&i[h]<=o;h+=2)c=h;c&&i.splice(0,c+1)}}}var sN=H(3099);function oN(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,sN.B)({connector:()=>new Z$(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function aN(n,e){return(0,Rr.m)(e)?ii(()=>n,e):ii(()=>n)}var ck=H(9468);H(259);const dk=new Map,cN={activated:!1,tokenObservers:[]},e4={initialized:!1,enabled:!1};function or(n){return dk.get(n)||Object.assign({},cN)}function BI(){return e4}const hk="https://content-firebaseappcheck.googleapis.com/v1",r4="exchangeDebugToken",uN={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class o4{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new rn.BH,yield function a4(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new rn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const As=new rn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mk(){return mk=(0,Ce.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(e),headers:i};let o,c;try{o=yield fetch(n,s)}catch(x){throw As.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==o.status)throw As.create("fetch-status-error",{httpStatus:o.status});try{c=yield o.json()}catch(x){throw As.create("fetch-parse-error",{originalErrorMessage:x?.message})}const h=c.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw As.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const p=1e3*Number(h[1]),b=Date.now();return{token:c.token,expireTimeMillis:b+p,issuedAtTimeMillis:b}}),mk.apply(this,arguments)}const d4="firebase-app-check-database",h4=1,Dx="firebase-app-check-store";let zI=null;function gk(){return gk=(0,Ce.Z)(function*(n,e){const i=(yield function fN(){return zI||(zI=new Promise((n,e)=>{try{const t=indexedDB.open(d4,h4);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(As.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Dx,{keyPath:"compositeKey"})}}catch(t){e(As.create("storage-open",{originalErrorMessage:t?.message}))}}),zI)}()).transaction(Dx,"readwrite"),s=i.objectStore(Dx).put({compositeKey:n,value:e});return new Promise((o,c)=>{s.onsuccess=h=>{o()},i.onerror=h=>{var p;c(As.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})}),gk.apply(this,arguments)}const Ix=new Nu.Yd("@firebase/app-check");function bk(n,e){return(0,rn.hl)()?function p4(n,e){return function pN(n,e){return gk.apply(this,arguments)}(function gN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ix.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ek(){return Ek=(0,Ce.Z)(function*(){const n=BI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ek.apply(this,arguments)}const v4={error:"UNKNOWN_ERROR"};function w4(n){return rn.US.encodeString(JSON.stringify(n),!1)}function $I(n){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Ce.Z)(function*(n,e=!1){const t=n.app;!function fk(n){if(!or(n).activated)throw As.create("use-before-activation",{appName:n.name})}(t);const i=or(t);let s,r=i.token;if(r&&!ev(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(ev(h)?r=h:yield bk(t,void 0))}if(!e&&r&&ev(r))return{token:r.token};let c,o=!1;if(function wk(){return BI().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function jI(n,e){return mk.apply(this,arguments)}(function dN(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${hk}/projects/${t}/apps/${i}:${r4}?key=${r}`,body:{debug_token:e}}}(t,yield function xk(){return Ek.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);const h=yield i.exchangeTokenPromise;return yield bk(t,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield or(t).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?Ix.warn(h.message):Ix.error(h),s=h}return r?s?c=ev(r)?{token:r.token,internalError:s}:bN(s):(c={token:r.token},i.token=r,yield bk(t,r)):c=bN(s),o&&function yN(n,e){const t=or(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,c),c}),Ck.apply(this,arguments)}function Sk(n,e){const t=or(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function _N(n){const{app:e}=n,t=or(e);let i=t.tokenRefresher;i||(i=function E4(n){const{app:e}=n;return new o4((0,Ce.Z)(function*(){let i;if(i=or(e).token?yield $I(n,!0):yield $I(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=or(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},uN.RETRIAL_MIN_WAIT,uN.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ev(n){return n.expireTimeMillis-Date.now()>0}function bN(n){return{token:w4(v4),error:n}}class C4{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=or(this.app);for(const t of e)Sk(this.app,t.next);return Promise.resolve()}}const SN="app-check-internal";!function V4(){(0,Aa._registerComponent)(new Jd.wA("app-check",n=>function D4(n,e){return new C4(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SN).initialize()})),(0,Aa._registerComponent)(new Jd.wA(SN,n=>function I4(n){return{getToken:e=>$I(n,e),addTokenListener:e=>function Ik(n,e,t,i){const{app:r}=n,s=or(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&ev(s.token)){const c=s.token;Promise.resolve().then(()=>{t({token:c.token}),_N(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>_N(n))}(n,"INTERNAL",e),removeTokenListener:e=>Sk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Aa.registerVersion)("@firebase/app-check","0.7.0")}();class qI{constructor(){return(0,Xn.vb)("app-check")}}typeof window<"u"&&window;var MN=H(9260);const AN=new d.OlP("angularfire2.auth.use-emulator"),RN=new d.OlP("angularfire2.auth.settings"),kN=new d.OlP("angularfire2.auth.tenant-id"),ON=new d.OlP("angularfire2.auth.langugage-code"),PN=new d.OlP("angularfire2.auth.use-device-language"),FN=new d.OlP("angularfire.auth.persistence"),NN=(n,e,t,i,r,s,o,c)=>(0,Gr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=e.runOutsideAngular(()=>n.auth());if(t&&h.useEmulator(...t),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),o)for(const[p,b]of Object.entries(o))h.settings[p]=b;return c&&h.setPersistence(c),h},[t,i,r,s,o,c]);let LN=(()=>{class n{constructor(t,i,r,s,o,c,h,p,b,x,I,M){const P=new Dn.x,F=ot(void 0).pipe((0,LI.Q)(o.outsideAngular),ii(()=>s.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,3042)))),(0,wt.U)(()=>(0,Gr.on)(t,s,i)),(0,wt.U)(L=>NN(L,s,c,p,b,x,h,I)),oN({bufferSize:1,refCount:!1}));if(no(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{F.pipe(vs()).subscribe();const $=F.pipe(ii(re=>re.getRedirectResult().then(ce=>ce,()=>null)),Xn.iC,oN({bufferSize:1,refCount:!1})),W=F.pipe(ii(re=>new ni.y(ce=>({unsubscribe:s.runOutsideAngular(()=>re.onAuthStateChanged(ge=>ce.next(ge),ge=>ce.error(ge),()=>ce.complete()))})))),ee=F.pipe(ii(re=>new ni.y(ce=>({unsubscribe:s.runOutsideAngular(()=>re.onIdTokenChanged(ge=>ce.next(ge),ge=>ce.error(ge),()=>ce.complete()))}))));this.authState=$.pipe(aN(W),(0,ck.R)(o.outsideAngular),(0,LI.Q)(o.insideAngular)),this.user=$.pipe(aN(ee),(0,ck.R)(o.outsideAngular),(0,LI.Q)(o.insideAngular)),this.idToken=this.user.pipe(ii(re=>re?(0,gn.D)(re.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(ii(re=>re?(0,gn.D)(re.getIdTokenResult()):ot(null))),this.credential=(0,rN.T)($,P,this.authState.pipe(nr(re=>!re))).pipe((0,wt.U)(re=>re?.user?re:null),(0,ck.R)(o.outsideAngular),(0,LI.Q)(o.insideAngular))}return(0,Gr.pX)(this,F,s,{spy:{apply:(L,$,W)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&W.then(ee=>P.next(ee))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gr.Dh),d.LFG(Gr.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Xn.HU),d.LFG(AN,8),d.LFG(RN,8),d.LFG(kN,8),d.LFG(ON,8),d.LFG(PN,8),d.LFG(FN,8),d.LFG(qI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function VN(n,e){return function $4(n,e=Wf.z){return new ni.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function kk(n,e){return VN(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function WI(n,e){return kk(n,e).pipe(fo(void 0),iy(),(0,wt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(o=>({type:o.type,payload:o}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((o,c)=>{const h=r.find(b=>b.doc.ref.isEqual(o.ref)),p=t?.payload.docs.find(b=>b.ref.isEqual(o.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(o.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(o.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:o}})}),s}))}function BN(n,e,t){return WI(n,t).pipe(Cu((i,r)=>function q4(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function W4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ok(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ok(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ok(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),ry(),(0,wt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Ok(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function UN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class HN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=WI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(fo(void 0),iy(),nr(([i,r])=>r.length>0||!i),(0,wt.U)(([i,r])=>r),Xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=UN(e);return BN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return kk(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Xn.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(Xn.iC)}add(e){return this.ref.add(e)}doc(e){return new jN(this.ref.doc(e),this.afs)}}class jN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=GN(i,t);return new HN(r,s,this.afs)}snapshotChanges(){return function G4(n,e){return VN(n,e).pipe(fo(void 0),iy(),(0,wt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gn.D)(this.ref.get(e)).pipe(Xn.iC)}}class K4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?WI(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),nr(t=>t.length>0),Xn.iC):WI(this.query,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=UN(e);return BN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return kk(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Xn.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(Xn.iC)}}const zN=new d.OlP("angularfire2.enableFirestorePersistence"),$N=new d.OlP("angularfire2.firestore.persistenceSettings"),Z4=new d.OlP("angularfire2.firestore.settings"),Y4=new d.OlP("angularfire2.firestore.use-emulator");function GN(n,e=(t=>t)){return{query:e(n),ref:n}}let qN=(()=>{class n{constructor(t,i,r,s,o,c,h,p,b,x,I,M,P,F,L,$,W){this.schedulers=h;const ee=(0,Gr.on)(t,c,i),re=b;x&&NN(ee,c,I,P,F,L,M,$),[this.firestore,this.persistenceEnabled$]=(0,Gr.cc)(`${ee.name}.firestore`,"AngularFirestore",ee.name,()=>{const ce=c.runOutsideAngular(()=>ee.firestore());if(s&&ce.settings(s),re&&ce.useEmulator(...re),r&&!no(o)){const ge=()=>{try{return(0,gn.D)(ce.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(Be){return typeof console<"u"&&console.warn(Be),ot(!1)}};return[ce,c.runOutsideAngular(ge)]}return[ce,ot(!1)]},[s,re,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=GN(r,i),c=this.schedulers.ngZone.run(()=>s);return new HN(c,o,this)}collectionGroup(t,i){const r=i||(o=>o),s=this.firestore.collectionGroup(t);return new K4(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new jN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gr.Dh),d.LFG(Gr.xv,8),d.LFG(zN,8),d.LFG(Z4,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Xn.HU),d.LFG($N,8),d.LFG(Y4,8),d.LFG(LN,8),d.LFG(AN,8),d.LFG(RN,8),d.LFG(kN,8),d.LFG(ON,8),d.LFG(PN,8),d.LFG(FN,8),d.LFG(qI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Q4=(()=>{class n{constructor(){MN.Z.registerVersion("angularfire",Xn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:zN,useValue:!0},{provide:$N,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[qN]}),n})(),WN=(()=>{class n{constructor(t){this.afs=t}getAllBills(){return this.afs.collection("list-of-expense",i=>i.where("type","==",2)).valueChanges()}addNewBill(t,i,r){this.afs.collection("list-of-expense").doc(t).set({title:t,amount:i,type:r})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const X4=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function J4(){return(0,d.f3M)(oe)}}),e3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Sx=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function t3(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?e3.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(X4,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function Fr(n){return null!=n&&"false"!=`${n}`}function Pk(n,e=0){return function n3(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function KN(n){return Array.isArray(n)?n:[n]}function Sh(n){return n instanceof d.SBq?n.nativeElement:n}function Fk(n){return n&&"function"==typeof n.connect&&!(n instanceof Eu)}class ZN{applyChanges(e,t,i,r,s){e.forEachOperation((o,c,h)=>{let p,b;if(null==o.previousIndex){const x=i(o,c,h);p=t.createEmbeddedView(x.templateRef,x.context,x.index),b=1}else null==h?(t.remove(c),b=3):(p=t.get(c),t.move(p,h),b=2);s&&s({context:p?.context,operation:b,record:o})})}detach(){}}let r3=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tx=new d.OlP("_ViewRepeater");let Nk;try{Nk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Nk=!1}let tv,Co=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Kh(n){return n===dm}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Nk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function XN(){if(tv)return tv;if("object"!=typeof document||!document)return tv=new Set(QN),tv;let n=document.createElement("input");return tv=new Set(QN.filter(e=>(n.setAttribute("type",e),n.type===e))),tv}let Mx,ZI,i_,Lk;function Ax(n){return function s3(){if(null==Mx&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Mx=!0}))}finally{Mx=Mx||!1}return Mx}()?n:!!n.capture}function Rx(){if("object"!=typeof document||!document)return 0;if(null==ZI){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),ZI=0,0===n.scrollLeft&&(n.scrollLeft=1,ZI=0===n.scrollLeft?1:2),n.remove()}return ZI}function nv(n){return n.composedPath?n.composedPath()[0]:n.target}var u3=H(1144);const d3=["addListener","removeListener"],h3=["addEventListener","removeEventListener"],f3=["on","off"];function YI(n,e,t,i){if((0,Rr.m)(t)&&(i=t,t=void 0),i)return YI(n,e,t).pipe(uo(i));const[r,s]=function g3(n){return(0,Rr.m)(n.addEventListener)&&(0,Rr.m)(n.removeEventListener)}(n)?h3.map(o=>c=>n[o](e,c,t)):function p3(n){return(0,Rr.m)(n.addListener)&&(0,Rr.m)(n.removeListener)}(n)?d3.map(JN(n,e)):function m3(n){return(0,Rr.m)(n.on)&&(0,Rr.m)(n.off)}(n)?f3.map(JN(n,e)):[];if(!r&&(0,u3.z)(n))return(0,ri.z)(o=>YI(o,e,t))((0,ho.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ni.y(o=>{const c=(...h)=>o.next(1<h.length?h:h[0]);return r(c),()=>s(c)})}function JN(n,e){return t=>i=>n[t](e,i)}var eL=H(4408);const kx={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=kx;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new jo.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=kx;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=kx;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var tL=H(7565);const b3=new class y3 extends tL.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class _3 extends eL.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=kx.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(kx.cancelAnimationFrame(t),e._scheduled=void 0)}});let Vk,v3=1;const QI={};function nL(n){return n in QI&&(delete QI[n],!0)}const w3={setImmediate(n){const e=v3++;return QI[e]=!0,Vk||(Vk=Promise.resolve()),Vk.then(()=>nL(e)&&n()),e},clearImmediate(n){nL(n)}},{setImmediate:x3,clearImmediate:E3}=w3,XI={setImmediate(...n){const{delegate:e}=XI;return(e?.setImmediate||x3)(...n)},clearImmediate(n){const{delegate:e}=XI;return(e?.clearImmediate||E3)(n)},delegate:void 0},I3=new class D3 extends tL.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class C3 extends eL.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=XI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(XI.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var T3=H(3532);function Bk(n,e=Wf.z){return function S3(n){return(0,Fi.e)((e,t)=>{let i=!1,r=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const p=r;r=null,t.next(p)}o&&t.complete()},h=()=>{s=null,o&&t.complete()};e.subscribe((0,mi.x)(t,p=>{i=!0,r=p,s||(0,ho.Xf)(n(p)).subscribe(s=(0,mi.x)(t,c,h))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function A3(n=0,e,t=Wf.P){let i=-1;return null!=e&&((0,T3.K)(e)?t=e:i=e),new ni.y(r=>{let s=function M3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}var R3=H(5032);function Tl(n){return(0,Fi.e)((e,t)=>{(0,ho.Xf)(n).subscribe((0,mi.x)(t,()=>t.complete(),R3.Z)),!t.closed&&e.subscribe(t)})}const k3=["contentWrapper"],O3=["*"],P3=new d.OlP("VIRTUAL_SCROLL_STRATEGY");let Uk=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Dn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ni.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Bk(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(nr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Sh(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>YI(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Co),d.LFG(oe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iL=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Dn.x,this._elementScrolled=new ni.y(o=>this.ngZone.runOutsideAngular(()=>YI(this.elementRef.nativeElement,"scroll").pipe(Tl(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Rx()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Rx()?t.left=t.right:1==Rx()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function o3(){if(null==i_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return i_=!1,i_;if("scrollBehavior"in document.documentElement.style)i_=!0;else{const n=Element.prototype.scrollTo;i_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return i_}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==Rx()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Rx()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Uk),d.Y36(d.R0b),d.Y36(Sx,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),rL=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Dn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Bk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Co),d.LFG(d.R0b),d.LFG(oe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sL=new d.OlP("VIRTUAL_SCROLLABLE");let L3=(()=>{class n extends iL{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Uk),d.Y36(d.R0b),d.Y36(Sx,8))},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const B3=typeof requestAnimationFrame<"u"?b3:I3;let U3=(()=>{class n extends L3{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Fr(t)}constructor(t,i,r,s,o,c,h,p){super(t,c,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=p,this._platform=(0,d.f3M)(Co),this._detachedSubject=new Dn.x,this._renderedRangeSubject=new Dn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ni.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(x=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(x))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=jo.w0.EMPTY,this._viewportChanges=h.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(fo(null),Bk(0,B3)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Tl(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function V3(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let h=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(h+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",o="rtl"==this.dir?.value;i="start"==t?o?s:r:"end"==t?o?r:s:t||("horizontal"===this.orientation?"left":"top");const c=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-c}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(P3,8),d.Y36(Sx,8),d.Y36(Uk),d.Y36(rL),d.Y36(sL,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&d.Gf(k3,7),2&t){let r;d.iGM(r=d.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[d._Bn([{provide:iL,useFactory:(e,t)=>e||t,deps:[[new d.FiY,new d.tBr(sL)],n]}]),d.qOj,d.jDz],ngContentSelectors:O3,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA(),d._UZ(3,"div",2)),2&t&&(d.xp6(3),d.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),oL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[KI,oL,U3,KI,oL]}),n})();const z3=[[["caption"]],[["colgroup"],["col"]]],$3=["caption","colgroup, col"];function Hk(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Fr(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const iv=new d.OlP("CDK_TABLE");let rv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),sv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),JI=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class K3{}const Z3=Hk(K3);let Th=(()=>{class n extends Z3{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=Fr(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(iv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,rv,5),d.Suo(r,sv,5),d.Suo(r,JI,5)),2&t){let s;d.iGM(s=d.CRH())&&(i.cell=s.first),d.iGM(s=d.CRH())&&(i.headerCell=s.first),d.iGM(s=d.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[d._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),d.qOj]}),n})();class jk{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let zk=(()=>{class n extends jk{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Th),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[d.qOj]}),n})(),aL=(()=>{class n extends jk{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Th),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[d.qOj]}),n})(),$k=(()=>{class n extends jk{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Th),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[d.qOj]}),n})();class lL{constructor(){this.tasks=[],this.endTasks=[]}}const Gk=new d.OlP("_COALESCED_STYLE_SCHEDULER");let cL=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Dn.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new lL,this._getScheduleObservable().pipe(Tl(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new lL;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,gn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(ss(1))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),qk=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Ox?t.headerCell.template:this instanceof Px?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();class Y3 extends qk{}const Q3=Hk(Y3);let Ox=(()=>{class n extends Q3{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(iv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[d.qOj,d.TTD]}),n})();class X3 extends qk{}const J3=Hk(X3);let Px=(()=>{class n extends J3{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(iv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[d.qOj,d.TTD]}),n})(),eS=(()=>{class n extends qk{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(iv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[d.qOj]}),n})(),Mh=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&d.GkF(0,0)},dependencies:[Mh],encapsulation:2}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&d.GkF(0,0)},dependencies:[Mh],encapsulation:2}),n})(),Zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&d.GkF(0,0)},dependencies:[Mh],encapsulation:2}),n})(),tS=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const uL=["top","bottom","left","right"];class e5{constructor(e,t,i,r,s=!0,o=!0,c){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(I=>I)&&!i.some(I=>I))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],o=s.children.length,c=this._getCellWidths(s,r),h=this._getStickyStartColumnPositions(c,t),p=this._getStickyEndColumnPositions(c,i),b=t.lastIndexOf(!0),x=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const I="rtl"===this.direction,M=I?"right":"left",P=I?"left":"right";for(const F of e)for(let L=0;L<o;L++){const $=F.children[L];t[L]&&this._addStickyStyle($,M,h[L],L===b),i[L]&&this._addStickyStyle($,P,p[L],L===x)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:c.slice(0,b+1).map((F,L)=>t[L]?F:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===x?[]:c.slice(x).map((F,L)=>i[L+x]?F:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,o=[],c=[],h=[];for(let b=0,x=0;b<r.length;b++){if(!s[b])continue;o[b]=x;const I=r[b];h[b]=this._isNativeHtmlTable?Array.from(I.children):[I];const M=I.getBoundingClientRect().height;x+=M,c[b]=M}const p=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<r.length;b++){if(!s[b])continue;const x=o[b],I=b===p;for(const M of h[b])this._addStickyStyle(M,i,x,I)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:o,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:o,elements:h})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);uL.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of uL)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const Yk=new d.OlP("CDK_SPL");let nS=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),iS=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),rS=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),sS=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),oS=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Fr(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Fr(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,s,o,c,h,p,b,x,I,M){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=h,this._viewRepeater=p,this._coalescedStyleScheduler=b,this._viewportRuler=x,this._stickyPositioningListener=I,this._ngZone=M,this._onDestroy=new Dn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new d.vpe,this.viewChange=new zn({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=c,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Tl(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Fk(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&d.R0b.isInAngularZone()?this._ngZone.onStable.pipe(ss(1),Tl(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let c=0;c<i.length;c++)this._renderRows[c].rowDef===s&&o.push(i[c]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let c=0;c<o.length;c++){let h=o[c];const p=this._cachedRenderRowsMap.get(h.data);p.has(h.rowDef)?p.get(h.rowDef).push(h):p.set(h.rowDef,[h]),t.push(h)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(o=>{const c=r&&r.has(o)?r.get(o):[];if(c.length){const h=c.shift();return h.dataIndex=i,h}return{data:t,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),aS(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=aS(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=aS(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=aS(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,c)=>o||!!c.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],Fk(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Fk(this.dataSource)?t=this.dataSource.connect(this):function j3(n){return!!n&&(n instanceof ni.y||(0,Rr.m)(n.lift)&&(0,Rr.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=ot(this.dataSource)),this._renderChangeSubscription=t.pipe(Tl(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(c=>this._columnDefsByName.get(c)),s=r.map(c=>c.sticky),o=r.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const o=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))Mh.mostRecentCellOutlet&&Mh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const o=t.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const o of r.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new e5(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ot()).pipe(Tl(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.sBO),d.Y36(d.SBq),d.$8M("role"),d.Y36(Sx,8),d.Y36(oe),d.Y36(Co),d.Y36(Tx),d.Y36(Gk),d.Y36(rL),d.Y36(Yk,12),d.Y36(d.R0b,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,tS,5),d.Suo(r,Th,5),d.Suo(r,eS,5),d.Suo(r,Ox,5),d.Suo(r,Px,5)),2&t){let s;d.iGM(s=d.CRH())&&(i._noDataRow=s.first),d.iGM(s=d.CRH())&&(i._contentColumnDefs=s),d.iGM(s=d.CRH())&&(i._contentRowDefs=s),d.iGM(s=d.CRH())&&(i._contentHeaderRowDefs=s),d.iGM(s=d.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(d.Gf(nS,7),d.Gf(iS,7),d.Gf(rS,7),d.Gf(sS,7)),2&t){let r;d.iGM(r=d.CRH())&&(i._rowOutlet=r.first),d.iGM(r=d.CRH())&&(i._headerRowOutlet=r.first),d.iGM(r=d.CRH())&&(i._footerRowOutlet=r.first),d.iGM(r=d.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[d._Bn([{provide:iv,useExisting:n},{provide:Tx,useClass:ZN},{provide:Gk,useClass:cL},{provide:Yk,useValue:null}])],ngContentSelectors:$3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(d.F$t(z3),d.Hsn(0),d.Hsn(1,1),d.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[nS,iS,rS,sS],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function aS(n,e){return n.concat(Array.from(e))}let n5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[H3]}),n})();function hL(n){return nr((e,t)=>n<=t)}function Qk(n,e=Wf.z){return(0,Fi.e)((t,i)=>{let r=null,s=null,o=null;const c=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,i.next(p)}};function h(){const p=o+n,b=e.now();if(b<p)return r=this.schedule(void 0,p-b),void i.add(r);c()}t.subscribe((0,mi.x)(i,p=>{s=p,o=e.now(),r||(r=e.schedule(h,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}const fL=new Set;let ov,l5=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):u5}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function c5(n){if(!fL.has(n))try{ov||(ov=document.createElement("style"),ov.setAttribute("type","text/css"),document.head.appendChild(ov)),ov.sheet&&(ov.sheet.insertRule(`@media ${n} {body{ }}`,0),fL.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Co))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u5(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let d5=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Dn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return pL(KN(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=wu(pL(KN(t)).map(o=>this._registerQuery(o).observable));return s=lc(s.pipe(ss(1)),s.pipe(hL(1),Qk(0))),s.pipe((0,wt.U)(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:h,query:p})=>{c.matches=c.matches||h,c.breakpoints[p]=h}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new ni.y(o=>{const c=h=>this._zone.run(()=>o.next(h));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(fo(i),(0,wt.U)(({matches:o})=>({query:t,matches:o})),Tl(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(l5),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function yL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const b5=new d.OlP("cdk-input-modality-detector-options"),v5={ignoreKeys:[18,17,224,91,16]},av=Ax({passive:!0,capture:!0});let w5=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new zn(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=nv(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yL(o)?"keyboard":"mouse"),this._mostRecentTarget=nv(o))},this._onTouchstart=o=>{bL(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=nv(o))},this._options={...v5,...s},this.modalityDetected=this._modality.pipe(hL(1)),this.modalityChanged=this.modalityDetected.pipe(ry()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,av),r.addEventListener("mousedown",this._onMousedown,av),r.addEventListener("touchstart",this._onTouchstart,av)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,av),document.removeEventListener("mousedown",this._onMousedown,av),document.removeEventListener("touchstart",this._onTouchstart,av))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Co),d.LFG(d.R0b),d.LFG(oe),d.LFG(b5,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E5=new d.OlP("cdk-focus-monitor-default-options"),lS=Ax({passive:!0,capture:!0});let Xk=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Dn.x,this._rootNodeFocusAndBlurListener=c=>{for(let p=nv(c);p;p=p.parentElement)"focus"===c.type?this._onFocus(c,p):this._onBlur(c,p)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=Sh(t);if(!this._platform.isBrowser||1!==r.nodeType)return ot(null);const s=function l3(n){if(function a3(){if(null==Lk){const n=typeof document<"u"?document.head:null;Lk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Lk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const c={checkChildren:i,subject:new Dn.x,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){const i=Sh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Sh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,h])=>this._originChanged(c,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=nv(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,lS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,lS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tl(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Co),d.LFG(w5),d.LFG(oe,8),d.LFG(E5,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wL="cdk-high-contrast-black-on-white",xL="cdk-high-contrast-white-on-black",Jk="cdk-high-contrast-active";let C5=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(d5).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Jk,wL,xL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Jk,wL):2===i&&t.add(Jk,xL)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Co),d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I5=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function D5(){return!0}});let Vi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function c3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(C5),d.LFG(I5,8),d.LFG(oe))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[KI,KI]}),n})();function DL(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Fr(e)}constructor(...e){super(...e),this._disabled=!1}}}function cS(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function e1(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Fr(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function IL(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Pk(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function S5(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let M5=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,Vi]}),n})();class A5{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const TL=Ax({passive:!0,capture:!0});class R5{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=nv(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,TL)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,TL)))}}const ML={enterDuration:225,exitDuration:150},AL=Ax({passive:!0,capture:!0}),RL=["mousedown","touchstart"],kL=["mouseup","mouseleave","touchend","touchcancel"];class Nx{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Sh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...ML,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function O5(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),c=e-r.left,h=t-r.top,p=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=c-o+"px",b.style.top=h-o+"px",b.style.height=2*o+"px",b.style.width=2*o+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(b);const x=window.getComputedStyle(b),M=x.transitionDuration,P="none"===x.transitionProperty||"0s"===M||"0s, 0s"===M||0===r.width&&0===r.height,F=new A5(this,b,i,P);b.style.transform="scale3d(1, 1, 1)",F.state=0,i.persistent||(this._mostRecentTransientRipple=F);let L=null;return!P&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const $=()=>this._finishRippleTransition(F),W=()=>this._destroyRipple(F);b.addEventListener("transitionend",$),b.addEventListener("transitioncancel",W),L={onTransitionEnd:$,onTransitionCancel:W}}),this._activeRipples.set(F,L),(P||!p)&&this._finishRippleTransition(F),F}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...ML,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Sh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,RL.forEach(i=>{Nx._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{kL.forEach(t=>{this._triggerElement.addEventListener(t,this,AL)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=yL(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bL(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(RL.forEach(t=>Nx._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&kL.forEach(t=>e.removeEventListener(t,this,AL)))}}Nx._eventManager=new R5;const P5=new d.OlP("mat-ripple-global-options");let Lx=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Nx(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Co),d.Y36(P5,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),t1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,Vi]}),n})();const F5=[[["caption"]],[["colgroup"],["col"]]],N5=["caption","colgroup, col"];let OL=(()=>{class n extends oS{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[d._Bn([{provide:oS,useExisting:n},{provide:iv,useExisting:n},{provide:Gk,useClass:cL},{provide:Tx,useClass:ZN},{provide:Yk,useValue:null}]),d.qOj],ngContentSelectors:N5,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(d.F$t(F5),d.Hsn(0),d.Hsn(1,1),d.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[nS,iS,rS,sS],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),n1=(()=>{class n extends rv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matCellDef",""]],features:[d._Bn([{provide:rv,useExisting:n}]),d.qOj]}),n})(),r1=(()=>{class n extends sv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[d._Bn([{provide:sv,useExisting:n}]),d.qOj]}),n})(),PL=(()=>{class n extends JI{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matFooterCellDef",""]],features:[d._Bn([{provide:JI,useExisting:n}]),d.qOj]}),n})(),s1=(()=>{class n extends Th{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[d._Bn([{provide:Th,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),d.qOj]}),n})(),o1=(()=>{class n extends zk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[d.qOj]}),n})(),FL=(()=>{class n extends aL{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:[1,"mat-mdc-footer-cell","mdc-data-table__cell"],features:[d.qOj]}),n})(),a1=(()=>{class n extends $k{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[d.qOj]}),n})(),NL=(()=>{class n extends Ox{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[d._Bn([{provide:Ox,useExisting:n}]),d.qOj]}),n})(),LL=(()=>{class n extends Px{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[d._Bn([{provide:Px,useExisting:n}]),d.qOj]}),n})(),VL=(()=>{class n extends eS{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[d._Bn([{provide:eS,useExisting:n}]),d.qOj]}),n})(),BL=(()=>{class n extends Wk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[d._Bn([{provide:Wk,useExisting:n}]),d.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&d.GkF(0,0)},dependencies:[Mh],encapsulation:2}),n})(),UL=(()=>{class n extends Kk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-mdc-footer-row","mdc-data-table__row"],exportAs:["matFooterRow"],features:[d._Bn([{provide:Kk,useExisting:n}]),d.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&d.GkF(0,0)},dependencies:[Mh],encapsulation:2}),n})(),HL=(()=>{class n extends Zk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[d._Bn([{provide:Zk,useExisting:n}]),d.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&d.GkF(0,0)},dependencies:[Mh],encapsulation:2}),n})(),j5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,n5,Vi]}),n})();function $5(n,e){1&n&&(d.TgZ(0,"th",10),d._uU(1," Title "),d.qZA())}function G5(n,e){if(1&n&&(d.TgZ(0,"td",11),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.hij(" ",t.title," ")}}function q5(n,e){1&n&&(d.TgZ(0,"td",12),d._uU(1," Total "),d.qZA())}function W5(n,e){1&n&&(d.TgZ(0,"th",10),d._uU(1," Amount "),d.qZA())}function K5(n,e){if(1&n&&(d.TgZ(0,"td",11),d._uU(1),d.ALo(2,"currency"),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.hij(" ",d.lcZ(2,1,t.amount)," ")}}function Z5(n,e){if(1&n&&(d.TgZ(0,"td",12),d._uU(1),d.ALo(2,"currency"),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.hij(" ",d.lcZ(2,1,t.getTotalCost())," ")}}function Y5(n,e){1&n&&d._UZ(0,"tr",13)}function Q5(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr",14),d.NdJ("click",function(){const s=d.CHM(t).$implicit,o=d.oxw();return d.KtG(o.someTest(s))}),d.qZA()}}function X5(n,e){1&n&&d._UZ(0,"tr",15)}let J5=(()=>{class n{constructor(){this.displayedColumns=["title","amount"]}ngOnInit(){}getTotalCost(){return this.billList.map(t=>t.amount).reduce((t,i)=>t+i,0)}someTest(t){console.log(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-expense-table"]],inputs:{billList:"billList"},decls:13,vars:5,consts:[["tabindex","0",1,"example-container","mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","amount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row","",3,"click"],["mat-footer-row",""]],template:function(t,i){1&t&&(d.TgZ(0,"section",0)(1,"table",1),d.ynx(2,2),d.YNc(3,$5,2,0,"th",3),d.YNc(4,G5,2,1,"td",4),d.YNc(5,q5,2,0,"td",5),d.BQk(),d.ynx(6,6),d.YNc(7,W5,2,0,"th",3),d.YNc(8,K5,3,3,"td",4),d.YNc(9,Z5,3,3,"td",5),d.BQk(),d.YNc(10,Y5,1,0,"tr",7),d.YNc(11,Q5,1,0,"tr",8),d.YNc(12,X5,1,0,"tr",9),d.qZA()()),2&t&&(d.xp6(1),d.Q6J("dataSource",i.billList),d.xp6(9),d.Q6J("matHeaderRowDef",i.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",i.displayedColumns),d.xp6(1),d.Q6J("matFooterRowDef",i.displayedColumns)("matFooterRowDefSticky",!0))},dependencies:[OL,r1,NL,s1,n1,VL,PL,LL,o1,a1,FL,BL,HL,UL,Gh],styles:[".example-container[_ngcontent-%COMP%]{height:600px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}tr.mat-mdc-footer-row[_ngcontent-%COMP%]{font-weight:700}.mat-mdc-table-sticky[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0}"]}),n})();function Vx(n){return(Vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lt(n,e,t){return(e=function t6(n){var e=function e6(n,e){if("object"!==Vx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==Vx(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Vx(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lv(n){return n+.5|0}const Ah=(n,e,t)=>Math.max(Math.min(n,t),e);function Bx(n){return Ah(lv(2.55*n),0,255)}function Kp(n){return Ah(lv(255*n),0,255)}function Rh(n){return Ah(lv(n/2.55)/100,0,1)}function jL(n){return Ah(lv(100*n),0,100)}const Ml={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},l1=[..."0123456789ABCDEF"],n6=n=>l1[15&n],i6=n=>l1[(240&n)>>4]+l1[15&n],uS=n=>(240&n)>>4==(15&n),l6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zL(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function c6(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function u6(n,e,t){const i=zL(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function c1(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),c=(s+o)/2;let h,p,b;return s!==o&&(b=s-o,p=c>.5?b/(2-s-o):b/(s+o),h=function d6(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}(t,i,r,b,s),h=60*h+.5),[0|h,p||0,c]}function u1(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Kp)}function d1(n,e,t){return u1(zL,n,e,t)}function $L(n){return(n%360+360)%360}const GL={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qL={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let dS;const b6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,h1=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,cv=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function hS(n,e,t){if(n){let i=c1(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,0===e?360:1)),i=d1(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function WL(n,e){return n&&Object.assign(e||{},n)}function KL(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Kp(n[3]))):(e=WL(n,{r:0,g:0,b:0,a:1})).a=Kp(e.a),e}function E6(n){return"r"===n.charAt(0)?function v6(n){const e=b6.exec(n);let i,r,s,t=255;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Bx(o):Ah(255*o,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Bx(i):Ah(i,0,255)),r=255&(e[4]?Bx(r):Ah(r,0,255)),s=255&(e[6]?Bx(s):Ah(s,0,255)),{r:i,g:r,b:s,a:t}}}(n):function p6(n){const e=l6.exec(n);let i,t=255;if(!e)return;e[5]!==i&&(t=e[6]?Bx(+e[5]):Kp(+e[5]));const r=$L(+e[2]),s=+e[3]/100,o=+e[4]/100;return i="hwb"===e[1]?function h6(n,e,t){return u1(u6,n,e,t)}(r,s,o):"hsv"===e[1]?function f6(n,e,t){return u1(c6,n,e,t)}(r,s,o):d1(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}(n)}class uv{constructor(e){if(e instanceof uv)return e;const t=typeof e;let i;"object"===t?i=KL(e):"string"===t&&(i=function s6(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*Ml[n[1]],g:255&17*Ml[n[2]],b:255&17*Ml[n[3]],a:5===e?17*Ml[n[4]]:255}:(7===e||9===e)&&(t={r:Ml[n[1]]<<4|Ml[n[2]],g:Ml[n[3]]<<4|Ml[n[4]],b:Ml[n[5]]<<4|Ml[n[6]],a:9===e?Ml[n[7]]<<4|Ml[n[8]]:255})),t}(e)||function y6(n){dS||(dS=function _6(){const n={},e=Object.keys(qL),t=Object.keys(GL);let i,r,s,o,c;for(i=0;i<e.length;i++){for(o=c=e[i],r=0;r<t.length;r++)s=t[r],c=c.replace(s,GL[s]);s=parseInt(qL[o],16),n[c]=[s>>16&255,s>>8&255,255&s]}return n}(),dS.transparent=[0,0,0,0]);const e=dS[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||E6(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=WL(this._rgb);return e&&(e.a=Rh(e.a)),e}set rgb(e){this._rgb=KL(e)}rgbString(){return this._valid?function w6(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Rh(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function a6(n){var e=(n=>uS(n.r)&&uS(n.g)&&uS(n.b)&&uS(n.a))(n)?n6:i6;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function g6(n){if(!n)return;const e=c1(n),t=e[0],i=jL(e[1]),r=jL(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Rh(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,c=2*o-1,h=i.a-r.a,p=((c*h==-1?c:(c+h)/(1+c*h))+1)/2;s=1-p,i.r=255&p*i.r+s*r.r+.5,i.g=255&p*i.g+s*r.g+.5,i.b=255&p*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function x6(n,e,t){const i=cv(Rh(n.r)),r=cv(Rh(n.g)),s=cv(Rh(n.b));return{r:Kp(h1(i+t*(cv(Rh(e.r))-i))),g:Kp(h1(r+t*(cv(Rh(e.g))-r))),b:Kp(h1(s+t*(cv(Rh(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new uv(this.rgb)}alpha(e){return this._rgb.a=Kp(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=lv(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hS(this._rgb,2,e),this}darken(e){return hS(this._rgb,2,-e),this}saturate(e){return hS(this._rgb,1,e),this}desaturate(e){return hS(this._rgb,1,-e),this}rotate(e){return function m6(n,e){var t=c1(n);t[0]=$L(t[0]+e),t=d1(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function kh(){}const C6=(()=>{let n=0;return()=>n++})();function Fn(n){return null===n||typeof n>"u"}function Ii(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Tn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function ar(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function $a(n,e){return ar(n)?n:e}function un(n,e){return typeof n>"u"?e:n}const ZL=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function _i(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function Zn(n,e,t,i){let r,s,o;if(Ii(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(Tn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function fS(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function pS(n){if(Ii(n))return n.map(pS);if(Tn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=pS(n[t[r]]);return e}return n}function YL(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function I6(n,e,t,i){if(!YL(n))return;const r=e[n],s=t[n];Tn(r)&&Tn(s)?Ux(r,s,i):e[n]=pS(s)}function Ux(n,e,t){const i=Ii(e)?e:[e],r=i.length;if(!Tn(n))return n;const s=(t=t||{}).merger||I6;let o;for(let c=0;c<r;++c){if(o=i[c],!Tn(o))continue;const h=Object.keys(o);for(let p=0,b=h.length;p<b;++p)s(h[p],n,o,t)}return n}function Hx(n,e){return Ux(n,e,{merger:S6})}function S6(n,e,t){if(!YL(n))return;const i=e[n],r=t[n];Tn(i)&&Tn(r)?Hx(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=pS(r))}const QL={"":n=>n,x:n=>n.x,y:n=>n.y};function Zp(n,e){return(QL[e]||(QL[e]=function M6(n){const e=function T6(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(n);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e)))(n)}function f1(n){return n.charAt(0).toUpperCase()+n.slice(1)}const jx=n=>typeof n<"u",Yp=n=>"function"==typeof n,XL=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},Bi=Math.PI,Si=2*Bi,R6=Si+Bi,mS=Number.POSITIVE_INFINITY,k6=Bi/180,lr=Bi/2,r_=Bi/4,JL=2*Bi/3,Qp=Math.log10,nd=Math.sign;function zx(n,e,t){return Math.abs(n-e)<t}function e2(n){const e=Math.round(n);n=zx(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Qp(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function dv(n){return!isNaN(parseFloat(n))&&isFinite(n)}function t2(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Lc(n){return n*(Bi/180)}function p1(n){return n*(180/Bi)}function n2(n){if(!ar(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function r2(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Bi&&(s+=Si),{angle:s,distance:r}}function m1(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function F6(n,e){return(n-e+R6)%Si-Bi}function Ga(n){return(n%Si+Si)%Si}function $x(n,e,t,i){const r=Ga(n),s=Ga(e),o=Ga(t),c=Ga(s-r),h=Ga(o-r),p=Ga(r-s),b=Ga(r-o);return r===s||r===o||i&&s===o||c>h&&p<b}function fs(n,e,t){return Math.max(e,Math.min(t,n))}function Oh(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function g1(n,e,t){t=t||(o=>n[o]<e);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const Ph=(n,e,t,i)=>g1(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),L6=(n,e,t)=>g1(n,t,i=>n[i][e]>=t),s2=["push","pop","shift","splice","unshift"];function o2(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),!(i.length>0)&&(s2.forEach(s=>{delete n[s]}),delete n._chartjs)}function a2(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const l2=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function c2(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,l2.call(window,()=>{i=!1,n.apply(e,t)}))}}const _1=n=>"start"===n?"left":"end"===n?"right":"center",Ks=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function u2(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,_parsed:c}=n,h=o.axis,{min:p,max:b,minDefined:x,maxDefined:I}=o.getUserBounds();x&&(r=fs(Math.min(Ph(c,o.axis,p).lo,t?i:Ph(e,h,o.getPixelForValue(p)).lo),0,i-1)),s=I?fs(Math.max(Ph(c,o.axis,b,!0).hi+1,t?0:Ph(e,h,o.getPixelForValue(b),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function d2(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const gS=n=>0===n||1===n,h2=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*Si/t),f2=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Si/t)+1,Gx={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*lr),easeOutSine:n=>Math.sin(n*lr),easeInOutSine:n=>-.5*(Math.cos(Bi*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>gS(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>gS(n)?n:h2(n,.075,.3),easeOutElastic:n=>gS(n)?n:f2(n,.075,.3),easeInOutElastic:n=>gS(n)?n:n<.5?.5*h2(2*n,.1125,.45):.5+.5*f2(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-Gx.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Gx.easeInBounce(2*n):.5*Gx.easeOutBounce(2*n-1)+.5};function y1(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function p2(n){return y1(n)?n:new uv(n)}function b1(n){return y1(n)?n:new uv(n).saturate(.5).darken(.1).hexString()}const j6=["x","y","borderWidth","radius","tension"],z6=["color","borderColor","backgroundColor"],m2=new Map;function qx(n,e,t){return function q6(n,e){e=e||{};const t=n+JSON.stringify(e);let i=m2.get(t);return i||(i=new Intl.NumberFormat(n,e),m2.set(t,i)),i}(e,t).format(n)}const g2={values:n=>Ii(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),s=function W6(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const o=Qp(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),qx(n,i,h)},logarithmic(n,e,t){if(0===n)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Qp(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?g2.numeric.call(this,n,e,t):""}};var _S={formatters:g2};const s_=Object.create(null),v1=Object.create(null);function Wx(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function w1(n,e,t){return"string"==typeof e?Ux(Wx(n,e),t):Ux(Wx(n,""),e)}class Z6{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>b1(r.backgroundColor),this.hoverBorderColor=(i,r)=>b1(r.borderColor),this.hoverColor=(i,r)=>b1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return w1(this,e,t)}get(e){return Wx(this,e)}describe(e,t){return w1(v1,e,t)}override(e,t){return w1(s_,e,t)}route(e,t,i,r){const s=Wx(this,e),o=Wx(this,i),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],p=o[r];return Tn(h)?Object.assign({},p,h):un(h,p)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var cr=new Z6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function $6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.set("animations",{colors:{type:"color",properties:z6},numbers:{type:"number",properties:j6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function G6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function K6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_S.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function yS(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function Q6(n,e,t,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const c=t.length;let h,p,b,x,I;for(h=0;h<c;h++)if(x=t[h],null==x||Ii(x)){if(Ii(x))for(p=0,b=x.length;p<b;p++)I=x[p],null!=I&&!Ii(I)&&(o=yS(n,r,s,o,I))}else o=yS(n,r,s,o,x);n.restore();const M=s.length/2;if(M>t.length){for(h=0;h<M;h++)delete r[s[h]];s.splice(0,M)}return o}function o_(n,e,t){const i=n.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function _2(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function x1(n,e,t,i){y2(n,e,t,i,null)}function y2(n,e,t,i,r){let s,o,c,h,p,b,x,I;const M=e.pointStyle,P=e.rotation,F=e.radius;let L=(P||0)*k6;if(M&&"object"==typeof M&&(s=M.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,i),n.rotate(L),n.drawImage(M,-M.width/2,-M.height/2,M.width,M.height),void n.restore();if(!(isNaN(F)||F<=0)){switch(n.beginPath(),M){default:r?n.ellipse(t,i,r/2,F,0,0,Si):n.arc(t,i,F,0,Si),n.closePath();break;case"triangle":b=r?r/2:F,n.moveTo(t+Math.sin(L)*b,i-Math.cos(L)*F),L+=JL,n.lineTo(t+Math.sin(L)*b,i-Math.cos(L)*F),L+=JL,n.lineTo(t+Math.sin(L)*b,i-Math.cos(L)*F),n.closePath();break;case"rectRounded":p=.516*F,h=F-p,o=Math.cos(L+r_)*h,x=Math.cos(L+r_)*(r?r/2-p:h),c=Math.sin(L+r_)*h,I=Math.sin(L+r_)*(r?r/2-p:h),n.arc(t-x,i-c,p,L-Bi,L-lr),n.arc(t+I,i-o,p,L-lr,L),n.arc(t+x,i+c,p,L,L+lr),n.arc(t-I,i+o,p,L+lr,L+Bi),n.closePath();break;case"rect":if(!P){h=Math.SQRT1_2*F,b=r?r/2:h,n.rect(t-b,i-h,2*b,2*h);break}L+=r_;case"rectRot":x=Math.cos(L)*(r?r/2:F),o=Math.cos(L)*F,c=Math.sin(L)*F,I=Math.sin(L)*(r?r/2:F),n.moveTo(t-x,i-c),n.lineTo(t+I,i-o),n.lineTo(t+x,i+c),n.lineTo(t-I,i+o),n.closePath();break;case"crossRot":L+=r_;case"cross":x=Math.cos(L)*(r?r/2:F),o=Math.cos(L)*F,c=Math.sin(L)*F,I=Math.sin(L)*(r?r/2:F),n.moveTo(t-x,i-c),n.lineTo(t+x,i+c),n.moveTo(t+I,i-o),n.lineTo(t-I,i+o);break;case"star":x=Math.cos(L)*(r?r/2:F),o=Math.cos(L)*F,c=Math.sin(L)*F,I=Math.sin(L)*(r?r/2:F),n.moveTo(t-x,i-c),n.lineTo(t+x,i+c),n.moveTo(t+I,i-o),n.lineTo(t-I,i+o),L+=r_,x=Math.cos(L)*(r?r/2:F),o=Math.cos(L)*F,c=Math.sin(L)*F,I=Math.sin(L)*(r?r/2:F),n.moveTo(t-x,i-c),n.lineTo(t+x,i+c),n.moveTo(t+I,i-o),n.lineTo(t-I,i+o);break;case"line":o=r?r/2:Math.cos(L)*F,c=Math.sin(L)*F,n.moveTo(t-o,i-c),n.lineTo(t+o,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(L)*(r?r/2:F),i+Math.sin(L)*F);break;case!1:n.closePath()}n.fill(),e.borderWidth>0&&n.stroke()}}function Fh(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function bS(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function vS(n){n.restore()}function X6(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if("middle"===r){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===r!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function J6(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function tG(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,p=t+s.actualBoundingBoxDescent,b=r.strikethrough?(t-s.actualBoundingBoxAscent+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,b),n.lineTo(c,b),n.stroke()}}function nG(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function a_(n,e,t,i,r,s={}){const o=Ii(e)?e:[e],c=s.strokeWidth>0&&""!==s.strokeColor;let h,p;for(n.save(),n.font=r.string,function eG(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Fn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),h=0;h<o.length;++h)p=o[h],s.backdrop&&nG(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Fn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(p,t,i,s.maxWidth)),n.fillText(p,t,i,s.maxWidth),tG(n,t,i,p,s),i+=Number(r.lineHeight);n.restore()}function Kx(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,-lr,Bi,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Bi,lr,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,lr,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-lr,!0),n.lineTo(t+o.topLeft,i)}const iG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sG(n,e){const t=(""+n).match(iG);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const oG=n=>+n||0;function E1(n,e){const t={},i=Tn(e),r=i?Object.keys(e):e,s=Tn(n)?i?o=>un(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=oG(s(o));return t}function b2(n){return E1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function l_(n){return E1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Zs(n){const e=b2(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wr(n,e){let t=un((n=n||{}).size,(e=e||cr.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=un(n.style,e.style);i&&!(""+i).match(rG)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:un(n.family,e.family),lineHeight:sG(un(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:un(n.weight,e.weight),string:""};return r.string=function Y6(n){return!n||Fn(n.size)||Fn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function Zx(n,e,t,i){let s,o,c,r=!0;for(s=0,o=n.length;s<o;++s)if(c=n[s],void 0!==c&&(void 0!==e&&"function"==typeof c&&(c=c(e),r=!1),void 0!==t&&Ii(c)&&(c=c[t%c.length],r=!1),void 0!==c))return i&&!r&&(i.cacheable=!1),c}function Xp(n,e){return Object.assign(Object.create(n),e)}function C1(n,e=[""],t,i,r=(()=>n[0])){const s=t||n;typeof i>"u"&&(i=C2("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>C1([c,...n],e,s,i)};return new Proxy(o,{deleteProperty:(c,h)=>(delete c[h],delete c._keys,delete n[0][h],!0),get:(c,h)=>w2(c,h,()=>function mG(n,e,t,i){let r;for(const s of e)if(r=C2(lG(s,n),t),typeof r<"u")return D1(n,r)?I1(t,i,n,r):r}(h,e,n,c)),getOwnPropertyDescriptor:(c,h)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],h),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,h)=>D2(c).includes(h),ownKeys:c=>D2(c),set(c,h,p){const b=c._storage||(c._storage=r());return c[h]=b[h]=p,delete c._keys,!0}})}function hv(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:v2(n,i),setContext:s=>hv(n,s,t,i),override:s=>hv(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete n[o],!0),get:(s,o,c)=>w2(s,o,()=>function cG(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let c=i[e];return Yp(c)&&o.isScriptable(e)&&(c=function uG(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(s,o||i);return c.delete(n),D1(n,h)&&(h=I1(r._scopes,r,n,h)),h}(e,c,n,t)),Ii(c)&&c.length&&(c=function dG(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Tn(e[0])){const h=e,p=r._scopes.filter(b=>b!==h);e=[];for(const b of h){const x=I1(p,r,n,b);e.push(hv(x,s,o&&o[n],c))}}return e}(e,c,n,o.isIndexable)),D1(e,c)&&(c=hv(c,r,s&&s[e],o)),c}(s,o,c)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(s,o,c)=>(n[o]=c,delete s[o],!0)})}function v2(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Yp(t)?t:()=>t,isIndexable:Yp(i)?i:()=>i}}const lG=(n,e)=>n?n+f1(e):e,D1=(n,e)=>Tn(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function w2(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const i=t();return n[e]=i,i}function x2(n,e,t){return Yp(n)?n(e,t):n}const hG=(n,e)=>!0===n?e:"string"==typeof n?Zp(e,n):void 0;function fG(n,e,t,i,r){for(const s of e){const o=hG(t,s);if(o){n.add(o);const c=x2(o._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(!1===o&&typeof i<"u"&&t!==i)return null}return!1}function I1(n,e,t,i){const r=e._rootScopes,s=x2(e._fallback,t,i),o=[...n,...r],c=new Set;c.add(i);let h=E2(c,o,t,s||t,i);return!(null===h||typeof s<"u"&&s!==t&&(h=E2(c,o,s,h,i),null===h))&&C1(Array.from(c),[""],r,s,()=>function pG(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Ii(r)&&Tn(t)?t:r||{}}(e,t,i))}function E2(n,e,t,i,r){for(;t;)t=fG(n,e,t,i,r);return t}function C2(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function D2(n){let e=n._keys;return e||(e=n._keys=function gG(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}(n._scopes)),e}function I2(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let c,h,p,b;for(c=0,h=i;c<h;++c)p=c+t,b=e[p],o[c]={r:r.parse(Zp(b,s),p)};return o}const _G=Number.EPSILON||1e-14,fv=(n,e)=>e<n.length&&!n[e].skip&&n[e],S2=n=>"x"===n?"y":"x";function yG(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,c=m1(s,r),h=m1(o,s);let p=c/(c+h),b=h/(c+h);p=isNaN(p)?0:p,b=isNaN(b)?0:b;const x=i*p,I=i*b;return{previous:{x:s.x-x*(o.x-r.x),y:s.y-x*(o.y-r.y)},next:{x:s.x+I*(o.x-r.x),y:s.y+I*(o.y-r.y)}}}function wS(n,e,t){return Math.max(Math.min(n,t),e)}function EG(n,e,t,i,r){let s,o,c,h;if(e.spanGaps&&(n=n.filter(p=>!p.skip)),"monotone"===e.cubicInterpolationMode)!function wG(n,e="x"){const t=S2(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,c,h,p=fv(n,0);for(o=0;o<i;++o)if(c=h,h=p,p=fv(n,o+1),h){if(p){const b=p[e]-h[e];r[o]=0!==b?(p[t]-h[t])/b:0}s[o]=c?p?nd(r[o-1])!==nd(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function bG(n,e,t){const i=n.length;let r,s,o,c,h,p=fv(n,0);for(let b=0;b<i-1;++b)if(h=p,p=fv(n,b+1),h&&p){if(zx(e[b],0,_G)){t[b]=t[b+1]=0;continue}r=t[b]/e[b],s=t[b+1]/e[b],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),t[b]=r*o*e[b],t[b+1]=s*o*e[b])}})(n,r,s),function vG(n,e,t="x"){const i=S2(t),r=n.length;let s,o,c,h=fv(n,0);for(let p=0;p<r;++p){if(o=c,c=h,h=fv(n,p+1),!c)continue;const b=c[t],x=c[i];o&&(s=(b-o[t])/3,c[`cp1${t}`]=b-s,c[`cp1${i}`]=x-s*e[p]),h&&(s=(h[t]-b)/3,c[`cp2${t}`]=b+s,c[`cp2${i}`]=x+s*e[p])}}(n,s,e)}(n,r);else{let p=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)c=n[s],h=yG(p,c,n[Math.min(s+1,o-(i?0:1))%o],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,p=c}e.capBezierPoints&&function xG(n,e){let t,i,r,s,o,c=Fh(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=c,c=t<i-1&&Fh(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=wS(r.cp1x,e.left,e.right),r.cp1y=wS(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=wS(r.cp2x,e.left,e.right),r.cp2y=wS(r.cp2y,e.top,e.bottom)))}(n,t)}function T2(){return typeof window<"u"&&typeof document<"u"}function S1(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function xS(n,e,t){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*e.parentNode[t])):i=n,i}const ES=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),DG=["top","right","bottom","left"];function c_(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=DG[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const IG=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function u_(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=ES(t),s="border-box"===r.boxSizing,o=c_(r,"padding"),c=c_(r,"border","width"),{x:h,y:p,box:b}=function SG(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let c,h,o=!1;if(IG(r,s,n.target))c=r,h=s;else{const p=e.getBoundingClientRect();c=i.clientX-p.left,h=i.clientY-p.top,o=!0}return{x:c,y:h,box:o}}(n,t),x=o.left+(b&&c.left),I=o.top+(b&&c.top);let{width:M,height:P}=e;return s&&(M-=o.width+c.width,P-=o.height+c.height),{x:Math.round((h-x)/M*t.width/i),y:Math.round((p-I)/P*t.height/i)}}const CS=n=>Math.round(10*n)/10;function M2(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const AG=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function A2(n,e){const t=function CG(n,e){return ES(n).getPropertyValue(e)}(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function d_(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function RG(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:"middle"===i?t<.5?n.y:e.y:"after"===i?t<1?n.y:e.y:t>0?e.y:n.y}}function kG(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=d_(n,r,t),c=d_(r,s,t),h=d_(s,e,t),p=d_(o,c,t),b=d_(c,h,t);return d_(p,b,t)}const OG=function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}},PG=function(){return{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}};function pv(n,e,t){return n?OG(e,t):PG()}function R2(n,e){let t,i;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function k2(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function O2(n){return"angle"===n?{between:$x,compare:F6,normalize:Ga}:{between:Oh,compare:(e,t)=>e-t,normalize:e=>e}}function P2({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t==0,style:r}}function F2(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:c,between:h,normalize:p}=O2(i),{start:b,end:x,loop:I,style:M}=function FG(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:c}=O2(i),h=e.length;let I,M,{start:p,end:b,loop:x}=n;if(x){for(p+=h,b+=h,I=0,M=h;I<M&&o(c(e[p%h][i]),r,s);++I)p--,b--;p%=h,b%=h}return b<p&&(b+=h),{start:p,end:b,loop:x,style:n.style}}(n,e,t),P=[];let $,W,ee,F=!1,L=null;for(let Ve=b,gt=b;Ve<=x;++Ve)W=e[Ve%o],!W.skip&&($=p(W[i]),$!==ee&&(F=h($,r,s),null===L&&(F||h(r,ee,$)&&0!==c(r,ee))&&(L=0===c($,r)?Ve:gt),null!==L&&(!F||0===c(s,$)||h(s,ee,$))&&(P.push(P2({start:L,end:Ve,loop:I,count:o,style:M})),L=null),gt=Ve,ee=$));return null!==L&&P.push(P2({start:L,end:x,loop:I,count:o,style:M})),P}function N2(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=F2(i[r],n.points,e);s.length&&t.push(...s)}return t}function V2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function UG(n,e){if(!e)return!1;const t=[],i=function(r,s){return y1(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}class HG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.duration;t.listeners[r].forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=l2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let h,o=s.length-1,c=!1;for(;o>=0;--o)h=s[o],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Nh=new HG;const B2="transparent",jG={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const i=p2(n||B2),r=i.valid&&p2(e||B2);return r&&r.valid?r.mix(i,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class zG{constructor(e,t,i,r){const s=t[i];r=Zx([e.to,r,s,e.from]);const o=Zx([e.from,s,r]);this._active=!0,this._fn=e.fn||jG[e.type||typeof o],this._easing=Gx[e.easing]||Gx.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Zx([e.to,t,r,e.from]),this._from=Zx([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let h;if(this._active=s!==c&&(o||t<i),!this._active)return this._target[r]=c,void this._notify(!0);t<0?this._target[r]=s:(h=t/i%2,h=o&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,c,h))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class U2{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Tn(e))return;const t=Object.keys(cr.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Tn(s))return;const o={};for(const c of t)o[c]=s[c];(Ii(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(e,t){const i=t.options,r=function GG(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function $G(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let h;for(h=o.length-1;h>=0;--h){const p=o[h];if("$"===p.charAt(0))continue;if("options"===p){r.push(...this._animateOptions(e,t));continue}const b=t[p];let x=s[p];const I=i.get(p);if(x){if(I&&x.active()){x.update(I,b,c);continue}x.cancel()}I&&I.duration?(s[p]=x=new zG(I,e,p,b),r.push(x)):e[p]=b}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(Nh.add(this._chart,i),!0):void 0}}function H2(n,e){const t=n&&n.options||{},i=t.reverse,r=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:i?s:r,end:i?r:s}}function j2(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function z2(n,e,t,i={}){const r=n.keys,s="single"===i.mode;let o,c,h,p;if(null!==e){for(o=0,c=r.length;o<c;++o){if(h=+r[o],h===t){if(i.all)continue;break}p=n.values[h],ar(p)&&(s||0===e||nd(e)===nd(p))&&(e+=p)}return e}}function $2(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function QG(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function G2(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function q2(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:c}=i,h=s.axis,p=o.axis,b=function ZG(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,o,i),x=e.length;let I;for(let M=0;M<x;++M){const P=e[M],{[h]:F,[p]:L}=P;I=(P._stacks||(P._stacks={}))[p]=QG(r,b,F),I[c]=L,I._top=G2(I,o,!0,i.type),I._bottom=G2(I,o,!1,i.type),(I._visualValues||(I._visualValues={}))[c]=L}}function T1(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Yx(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][t])return;delete s[i][t],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[t]&&delete s[i]._visualValues[t]}}}const M1=n=>"reset"===n||"none"===n,W2=(n,e)=>e?n:Object.assign({},n);let Jp=(()=>{class n{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=$2(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yx(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(I,M,P,F)=>"x"===I?M:"r"===I?F:P,o=i.xAxisID=un(r.xAxisID,T1(t,"x")),c=i.yAxisID=un(r.yAxisID,T1(t,"y")),h=i.rAxisID=un(r.rAxisID,T1(t,"r")),p=i.indexAxis,b=i.iAxisID=s(p,o,c,h),x=i.vAxisID=s(p,c,o,h);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(c),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(b),i.vScale=this.getScaleForId(x)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&o2(this._data,this),t._stacked&&Yx(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Tn(i))this._data=function KG(n){const e=Object.keys(n),t=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],t[i]={x:s,y:n[s]};return t}(i);else if(r!==i){if(r){o2(r,this);const s=this._cachedMeta;Yx(s),s._parsed=[]}i&&Object.isExtensible(i)&&function B6(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),s2.forEach(t=>{const i="_onData"+f1(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[i]&&c[i](...s)}),o}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=i._stacked;i._stacked=$2(i.vScale,i),i.stack!==r.stack&&(s=!0,Yx(i),i.stack=r.stack),this._resyncElements(t),(s||o!==i._stacked)&&q2(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:c}=r,h=o.axis;let x,I,M,p=0===t&&i===s.length||r._sorted,b=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,M=s;else{M=Ii(s[t])?this.parseArrayData(r,s,t,i):Tn(s[t])?this.parseObjectData(r,s,t,i):this.parsePrimitiveData(r,s,t,i);const P=()=>null===I[h]||b&&I[h]<b[h];for(x=0;x<i;++x)r._parsed[x+t]=I=M[x],p&&(P()&&(p=!1),b=I);r._sorted=p}c&&q2(this,M)}parsePrimitiveData(t,i,r,s){const{iScale:o,vScale:c}=t,h=o.axis,p=c.axis,b=o.getLabels(),x=o===c,I=new Array(s);let M,P,F;for(M=0,P=s;M<P;++M)F=M+r,I[M]={[h]:x||o.parse(b[F],F),[p]:c.parse(i[F],F)};return I}parseArrayData(t,i,r,s){const{xScale:o,yScale:c}=t,h=new Array(s);let p,b,x,I;for(p=0,b=s;p<b;++p)x=p+r,I=i[x],h[p]={x:o.parse(I[0],x),y:c.parse(I[1],x)};return h}parseObjectData(t,i,r,s){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,b=new Array(s);let x,I,M,P;for(x=0,I=s;x<I;++x)M=x+r,P=i[M],b[x]={x:o.parse(Zp(P,h),M),y:c.parse(Zp(P,p),M)};return b}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){const o=this._cachedMeta,c=i[t.axis];return z2({keys:j2(this.chart,!0),values:i._stacks[t.axis]._visualValues},c,o.index,{mode:r})}updateRangeFromParsed(t,i,r,s){const o=r[i.axis];let c=null===o?NaN:o;const h=s&&r._stacks[i.axis];s&&h&&(s.values=h,c=z2(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,i){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,c=s.length,h=this._getOtherScale(t),p=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:j2(this.chart,!0),values:null})(i,r),b={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:x,max:I}=function YG(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(h);let M,P;function F(){P=s[M];const L=P[h.axis];return!ar(P[t.axis])||x>L||I<L}for(M=0;M<c&&(F()||(this.updateRangeFromParsed(b,t,P,p),!o));++M);if(o)for(M=c-1;M>=0;--M)if(!F()){this.updateRangeFromParsed(b,t,P,p);break}return b}getAllParsedValues(t){const i=this._cachedMeta._parsed,r=[];let s,o,c;for(s=0,o=i.length;s<o;++s)c=i[s][t.axis],ar(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function WG(n){let e,t,i,r;return Tn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:!1===n}}(un(this.options.clip,function qG(n,e,t){if(!1===t)return!1;const i=H2(n,t),r=H2(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,c=[],h=this._drawStart||0,p=this._drawCount||s.length-h,b=this.options.drawActiveElementsOnTop;let x;for(r.dataset&&r.dataset.draw(t,o,h,p),x=h;x<h+p;++x){const I=s[x];I.hidden||(I.active&&b?c.push(I):I.draw(t,o))}for(x=0;x<c.length;++x)c[x].draw(t,o)}getStyle(t,i){const r=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=function JG(n,e,t){return Xp(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function XG(n,e){return Xp(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){const s="active"===i,o=this._cachedDataOpts,c=t+"-"+i,h=o[c],p=this.enableOptionSharing&&jx(r);if(h)return W2(h,p);const b=this.chart.config,x=b.datasetElementScopeKeys(this._type,t),I=s?[`${t}Hover`,"hover",t,""]:[t,""],M=b.getOptionScopes(this.getDataset(),x),P=Object.keys(cr.elements[t]),L=b.resolveNamedOptions(M,P,()=>this.getContext(r,s,i),I);return L.$shared&&(L.$shared=p,o[c]=Object.freeze(W2(L,p))),L}_resolveAnimations(t,i,r){const s=this.chart,o=this._cachedDataOpts,c=`animation-${i}`,h=o[c];if(h)return h;let p;if(!1!==s.options.animation){const x=this.chart.config,I=x.datasetAnimationScopeKeys(this._type,i),M=x.getOptionScopes(this.getDataset(),I);p=x.createResolver(M,this.getContext(t,r,i))}const b=new U2(s,p&&p.animations);return p&&p._cacheable&&(o[c]=Object.freeze(b)),b}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||M1(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const r=this.resolveDataElementOptions(t,i),s=this._sharedOptions,o=this.getSharedOptions(r),c=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:c}}updateElement(t,i,r,s){M1(s)?Object.assign(t,r):this._resolveAnimations(i,s).update(t,r)}updateSharedOptions(t,i,r){t&&!M1(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,s){t.active=s;const o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,r=this._cachedMeta.data;for(const[h,p,b]of this._syncList)this[h](p,b);this._syncList=[];const s=r.length,o=i.length,c=Math.min(o,s);c&&this.parse(0,c),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,i,r=!0){const s=this._cachedMeta,o=s.data,c=t+i;let h;const p=b=>{for(b.length+=i,h=b.length-1;h>=c;h--)b[h]=b[h-i]};for(p(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&p(s._parsed),this.parse(t,i),r&&this.updateElements(o,t,i,"reset")}updateElements(t,i,r,s){}_removeElements(t,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,i);r._stacked&&Yx(r,s)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,r,s]=t;this[i](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return lt(n,"defaults",{}),lt(n,"datasetElementType",null),lt(n,"dataElementType",null),n})();function nq(n){const e=n.iScale,t=function tq(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=a2(i.sort((r,s)=>r-s))}return n._cache.$bar}(e,n.type);let r,s,o,c,i=e._length;const h=()=>{32767===o||-32768===o||(jx(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),h();for(c=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),h();return i}function K2(n,e,t,i){return Ii(n)?function sq(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),c=Math.max(r,s);let h=o,p=c;Math.abs(o)>Math.abs(c)&&(h=c,p=o),e[t.axis]=p,e._custom={barStart:h,barEnd:p,start:r,end:s,min:o,max:c}}(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Z2(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),c=r===s,h=[];let p,b,x,I;for(p=t,b=t+i;p<b;++p)I=e[p],x={},x[r.axis]=c||r.parse(o[p],p),h.push(K2(I,x,s,p));return h}function A1(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function lq(n,e,t,i){let r=e.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:c,reverse:h,top:p,bottom:b}=function aq(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}(n);"middle"===r&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=p:(t._bottom||0)===i?r=b:(s[Y2(b,o,c,h)]=!0,r=p)),s[Y2(r,o,c,h)]=!0,n.borderSkipped=s}function Y2(n,e,t,i){return i?(n=function cq(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=Q2(n,t,e)):n=Q2(n,e,t),n}function Q2(n,e,t){return"start"===n?e:"end"===n?t:n}function uq(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}let dq=(()=>{class n extends Jp{parsePrimitiveData(t,i,r,s){return Z2(t,i,r,s)}parseArrayData(t,i,r,s){return Z2(t,i,r,s)}parseObjectData(t,i,r,s){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,b="x"===o.axis?h:p,x="x"===c.axis?h:p,I=[];let M,P,F,L;for(M=r,P=r+s;M<P;++M)L=i[M],F={},F[o.axis]=o.parse(Zp(L,b),M),I.push(K2(Zp(L,x),F,c,M));return I}updateRangeFromParsed(t,i,r,s){super.updateRangeFromParsed(t,i,r,s);const o=r._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(t),c=o._custom,h=A1(c)?"["+c.start+", "+c.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,s){const o="reset"===s,{index:c,_cachedMeta:{vScale:h}}=this,p=h.getBasePixel(),b=h.isHorizontal(),x=this._getRuler(),{sharedOptions:I,includeOptions:M}=this._getSharedOptions(i,s);for(let P=i;P<i+r;P++){const F=this.getParsed(P),L=o||Fn(F[h.axis])?{base:p,head:p}:this._calculateBarValuePixels(P),$=this._calculateBarIndexPixels(P,x),W=(F._stacks||{})[h.axis],ee={horizontal:b,base:L.base,enableBorderRadius:!W||A1(F._custom)||c===W._top||c===W._bottom,x:b?L.head:$.center,y:b?$.center:L.head,height:b?$.size:Math.abs(L.size),width:b?Math.abs(L.size):$.size};M&&(ee.options=I||this.resolveDataElementOptions(P,t[P].active?"active":s));const re=ee.options||t[P].options;lq(ee,re,W,c),uq(ee,re,x.ratio),this.updateElement(t[P],P,ee,s)}}_getStacks(t,i){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=r.options.stacked,c=[],h=p=>{const b=p.controller.getParsed(i),x=b&&b[p.vScale.axis];if(Fn(x)||isNaN(x))return!0};for(const p of s)if((void 0===i||!h(p))&&((!1===o||-1===c.indexOf(p.stack)||void 0===o&&void 0===p.stack)&&c.push(p.stack),p.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){const s=this._getStacks(t,r),o=void 0!==i?s.indexOf(i):-1;return-1===o?s.length-1:o}_getRuler(){const t=this.options,i=this._cachedMeta,r=i.iScale,s=[];let o,c;for(o=0,c=i.data.length;o<c;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const h=t.barThickness;return{min:h||nq(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:c}}=this,h=o||0,p=this.getParsed(t),b=p._custom,x=A1(b);let F,L,I=p[i.axis],M=0,P=r?this.applyStack(i,p,r):I;P!==I&&(M=P-I,P=I),x&&(I=b.barStart,P=b.barEnd-b.barStart,0!==I&&nd(I)!==nd(b.barEnd)&&(M=0),M+=I);const $=Fn(o)||x?M:o;let W=i.getPixelForValue($);if(F=this.chart.getDataVisibility(t)?i.getPixelForValue(M+P):W,L=F-W,Math.abs(L)<c){L=function oq(n,e,t){return 0!==n?nd(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(L,i,h)*c,I===h&&(W-=L/2);const ee=i.getPixelForDecimal(0),re=i.getPixelForDecimal(1),ce=Math.min(ee,re),ge=Math.max(ee,re);W=Math.max(Math.min(W,ge),ce),F=W+L,r&&!x&&(p._stacks[i.axis]._visualValues[s]=i.getValueForPixel(F)-i.getValueForPixel(W))}if(W===i.getPixelForValue(h)){const ee=nd(L)*i.getLineWidthForValue(h)/2;W+=ee,L-=ee}return{size:L,base:W,head:F,center:F+L/2}}_calculateBarIndexPixels(t,i){const r=i.scale,s=this.options,o=s.skipNull,c=un(s.maxBarThickness,1/0);let h,p;if(i.grouped){const b=o?this._getStackCount(t):i.stackCount,x="flex"===s.barThickness?function rq(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const h=t.categoryPercentage;null===o&&(o=s-(null===c?e.end-e.start:c-s)),null===c&&(c=s+s-o);const p=s-(s-Math.min(o,c))/2*h;return{chunk:Math.abs(c-o)/2*h/i,ratio:t.barPercentage,start:p}}(t,i,s,b):function iq(n,e,t,i){const r=t.barThickness;let s,o;return Fn(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}(t,i,s,b),I=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);h=x.start+x.chunk*I+x.chunk/2,p=Math.min(c,x.chunk*x.ratio)}else h=r.getPixelForValue(this.getParsed(t)[r.axis],t),p=Math.min(c,i.min*i.ratio);return{base:h-p/2,head:h+p/2,center:h,size:p}}draw(){const t=this._cachedMeta,i=t.vScale,r=t.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[i.axis]&&r[o].draw(this._ctx)}}return lt(n,"id","bar"),lt(n,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),lt(n,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),n})(),hq=(()=>{class n extends Jp{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,s){const o=super.parsePrimitiveData(t,i,r,s);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+r).radius;return o}parseArrayData(t,i,r,s){const o=super.parseArrayData(t,i,r,s);for(let c=0;c<o.length;c++)o[c]._custom=un(i[r+c][2],this.resolveDataElementOptions(c+r).radius);return o}parseObjectData(t,i,r,s){const o=super.parseObjectData(t,i,r,s);for(let c=0;c<o.length;c++){const h=i[r+c];o[c]._custom=un(h&&h.r&&+h.r,this.resolveDataElementOptions(c+r).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,c=this.getParsed(t),h=s.getLabelForValue(c.x),p=o.getLabelForValue(c.y),b=c._custom;return{label:r[t]||"",value:"("+h+", "+p+(b?", "+b:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,s){const o="reset"===s,{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(i,s),x=c.axis,I=h.axis;for(let M=i;M<i+r;M++){const P=t[M],F=!o&&this.getParsed(M),L={},$=L[x]=o?c.getPixelForDecimal(.5):c.getPixelForValue(F[x]),W=L[I]=o?h.getBasePixel():h.getPixelForValue(F[I]);L.skip=isNaN($)||isNaN(W),b&&(L.options=p||this.resolveDataElementOptions(M,P.active?"active":s),o&&(L.options.radius=0)),this.updateElement(P,M,L,s)}}resolveDataElementOptions(t,i){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==i&&(s.radius=0),s.radius+=un(r&&r._custom,o),s}}return lt(n,"id","bubble"),lt(n,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),lt(n,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),n})(),R1=(()=>{class n extends Jp{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let c,h,o=p=>+r[p];if(Tn(r[t])){const{key:p="value"}=this._parsing;o=b=>+Zp(r[b],p)}for(c=t,h=t+i;c<h;++c)s._parsed[c]=o(c)}}_getRotation(){return Lc(this.options.rotation-90)}_getCircumference(){return Lc(this.options.circumference)}_getRotationExtents(){let t=Si,i=-Si;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),c=s._getCircumference();t=Math.min(t,o),i=Math.max(i,o+c)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-c)/2,0),p=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/e)(this.options.cutout,h),1),b=this._getRingWeight(this.index),{circumference:x,rotation:I}=this._getRotationExtents(),{ratioX:M,ratioY:P,offsetX:F,offsetY:L}=function fq(n,e,t){let i=1,r=1,s=0,o=0;if(e<Si){const c=n,h=c+e,p=Math.cos(c),b=Math.sin(c),x=Math.cos(h),I=Math.sin(h),M=(ee,re,ce)=>$x(ee,c,h,!0)?1:Math.max(re,re*t,ce,ce*t),P=(ee,re,ce)=>$x(ee,c,h,!0)?-1:Math.min(re,re*t,ce,ce*t),F=M(0,p,x),L=M(lr,b,I),$=P(Bi,p,x),W=P(Bi+lr,b,I);i=(F-$)/2,r=(L-W)/2,s=-(F+$)/2,o=-(L+W)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(I,x,p),ee=Math.max(Math.min((r.width-c)/M,(r.height-c)/P)/2,0),re=ZL(this.options.radius,ee),ge=(re-Math.max(re*p,0))/this._getVisibleDatasetWeightTotal();this.offsetX=F*re,this.offsetY=L*re,s.total=this.calculateTotal(),this.outerRadius=re-ge*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ge*b,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Si)}updateElements(t,i,r,s){const o="reset"===s,c=this.chart,h=c.chartArea,x=(h.left+h.right)/2,I=(h.top+h.bottom)/2,M=o&&c.options.animation.animateScale,P=M?0:this.innerRadius,F=M?0:this.outerRadius,{sharedOptions:L,includeOptions:$}=this._getSharedOptions(i,s);let ee,W=this._getRotation();for(ee=0;ee<i;++ee)W+=this._circumference(ee,o);for(ee=i;ee<i+r;++ee){const re=this._circumference(ee,o),ce=t[ee],ge={x:x+this.offsetX,y:I+this.offsetY,startAngle:W,endAngle:W+re,circumference:re,outerRadius:F,innerRadius:P};$&&(ge.options=L||this.resolveDataElementOptions(ee,ce.active?"active":s)),W+=re,this.updateElement(ce,ee,ge,s)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let s,r=0;for(s=0;s<i.length;s++){const o=t._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?Si*(Math.abs(t)/i):0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=qx(this._cachedMeta._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let i=0;const r=this.chart;let s,o,c,h,p;if(!t)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){c=r.getDatasetMeta(s),t=c.data,h=c.controller;break}if(!t)return 0;for(s=0,o=t.length;s<o;++s)p=h.resolveDataElementOptions(s),"inner"!==p.borderAlign&&(i=Math.max(i,p.borderWidth||0,p.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,s=t.length;r<s;++r){const o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(un(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return lt(n,"id","doughnut"),lt(n,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),lt(n,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),lt(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}}),n})(),pq=(()=>{class n extends Jp{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,c=this.chart._animationsDisabled;let{start:h,count:p}=u2(i,s,c);this._drawStart=h,this._drawCount=p,d2(i)&&(h=0,p=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const b=this.resolveDatasetElementOptions(t);this.options.showLine||(b.borderWidth=0),b.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:b},t),this.updateElements(s,h,p,t)}updateElements(t,i,r,s){const o="reset"===s,{iScale:c,vScale:h,_stacked:p,_dataset:b}=this._cachedMeta,{sharedOptions:x,includeOptions:I}=this._getSharedOptions(i,s),M=c.axis,P=h.axis,{spanGaps:F,segment:L}=this.options,$=dv(F)?F:Number.POSITIVE_INFINITY,W=this.chart._animationsDisabled||o||"none"===s,ee=i+r,re=t.length;let ce=i>0&&this.getParsed(i-1);for(let ge=0;ge<re;++ge){const Be=t[ge],Ve=W?Be:{};if(ge<i||ge>=ee){Ve.skip=!0;continue}const gt=this.getParsed(ge),Wt=Fn(gt[P]),ln=Ve[M]=c.getPixelForValue(gt[M],ge),dn=Ve[P]=o||Wt?h.getBasePixel():h.getPixelForValue(p?this.applyStack(h,gt,p):gt[P],ge);Ve.skip=isNaN(ln)||isNaN(dn)||Wt,Ve.stop=ge>0&&Math.abs(gt[M]-ce[M])>$,L&&(Ve.parsed=gt,Ve.raw=b.data[ge]),I&&(Ve.options=x||this.resolveDataElementOptions(ge,Be.active?"active":s)),W||this.updateElement(Be,ge,Ve,s),ce=gt}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return lt(n,"id","line"),lt(n,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),lt(n,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),n})(),X2=(()=>{class n extends Jp{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=qx(this._cachedMeta._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,i,r,s){return I2.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,r=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),h=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,i,r,s){const o="reset"===s,c=this.chart,p=c.options.animation,b=this._cachedMeta.rScale,x=b.xCenter,I=b.yCenter,M=b.getIndexAngle(0)-.5*Bi;let F,P=M;const L=360/this.countVisibleElements();for(F=0;F<i;++F)P+=this._computeAngle(F,s,L);for(F=i;F<i+r;F++){const $=t[F];let W=P,ee=P+this._computeAngle(F,s,L),re=c.getDataVisibility(F)?b.getDistanceFromCenterForValue(this.getParsed(F).r):0;P=ee,o&&(p.animateScale&&(re=0),p.animateRotate&&(W=ee=M));const ce={x,y:I,innerRadius:0,outerRadius:re,startAngle:W,endAngle:ee,options:this.resolveDataElementOptions(F,$.active?"active":s)};this.updateElement($,F,ce,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?Lc(this.resolveDataElementOptions(t,i).angle||r):0}}return lt(n,"id","polarArea"),lt(n,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),lt(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),n})();var mq=Object.freeze({__proto__:null,BarController:dq,BubbleController:hq,DoughnutController:R1,LineController:pq,PieController:(()=>{class n extends R1{}return lt(n,"id","pie"),lt(n,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),n})(),PolarAreaController:X2,RadarController:(()=>{class n extends Jp{getLabelAndValue(t){const i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,s){return I2.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,"resize"!==t){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:c},t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,r,s){const o=this._cachedMeta.rScale,c="reset"===s;for(let h=i;h<i+r;h++){const p=t[h],b=this.resolveDataElementOptions(h,p.active?"active":s),x=o.getPointPositionForValue(h,this.getParsed(h).r),I=c?o.xCenter:x.x,M=c?o.yCenter:x.y,P={x:I,y:M,angle:x.angle,skip:isNaN(I)||isNaN(M),options:b};this.updateElement(p,h,P,s)}}}return lt(n,"id","radar"),lt(n,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),lt(n,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),n})(),ScatterController:(()=>{class n extends Jp{getLabelAndValue(t){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,c=this.getParsed(t),h=s.getLabelForValue(c.x),p=o.getLabelForValue(c.y);return{label:r[t]||"",value:"("+h+", "+p+")"}}update(t){const i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled;let{start:o,count:c}=u2(i,r,s);if(this._drawStart=o,this._drawCount=c,d2(i)&&(o=0,c=r.length),this.options.showLine){const{dataset:h,_dataset:p}=i;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!p._decimated,h.points=r;const b=this.resolveDatasetElementOptions(t);b.segment=this.options.segment,this.updateElement(h,void 0,{animated:!s,options:b},t)}this.updateElements(r,o,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,s){const o="reset"===s,{iScale:c,vScale:h,_stacked:p,_dataset:b}=this._cachedMeta,x=this.resolveDataElementOptions(i,s),I=this.getSharedOptions(x),M=this.includeOptions(s,I),P=c.axis,F=h.axis,{spanGaps:L,segment:$}=this.options,W=dv(L)?L:Number.POSITIVE_INFINITY,ee=this.chart._animationsDisabled||o||"none"===s;let re=i>0&&this.getParsed(i-1);for(let ce=i;ce<i+r;++ce){const ge=t[ce],Be=this.getParsed(ce),Ve=ee?ge:{},gt=Fn(Be[F]),Wt=Ve[P]=c.getPixelForValue(Be[P],ce),ln=Ve[F]=o||gt?h.getBasePixel():h.getPixelForValue(p?this.applyStack(h,Be,p):Be[F],ce);Ve.skip=isNaN(Wt)||isNaN(ln)||gt,Ve.stop=ce>0&&Math.abs(Be[P]-re[P])>W,$&&(Ve.parsed=Be,Ve.raw=b.data[ce]),M&&(Ve.options=I||this.resolveDataElementOptions(ce,ge.active?"active":s)),ee||this.updateElement(ge,ce,Ve,s),re=Be}this.updateSharedOptions(I,s,x)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let h=0;for(let p=i.length-1;p>=0;--p)h=Math.max(h,i[p].size(this.resolveDataElementOptions(p))/2);return h>0&&h}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,c)/2}}return lt(n,"id","scatter"),lt(n,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),lt(n,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),n})()});function h_(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class k1{static override(e){Object.assign(k1.prototype,e)}constructor(e){lt(this,"options",void 0),this.options=e||{}}init(){}formats(){return h_()}parse(){return h_()}format(){return h_()}add(){return h_()}diff(){return h_()}startOf(){return h_()}endOf(){return h_()}}var gq__date=k1;function _q(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,c=r._cachedMeta.iScale;if(c&&e===c.axis&&"r"!==e&&o&&s.length){const h=c._reversePixels?L6:Ph;if(!i)return h(s,e,t);if(r._sharedOptions){const p=s[0],b="function"==typeof p.getRange&&p.getRange(e);if(b){const x=h(s,e,t-b),I=h(s,e,t+b);return{lo:x.lo,hi:I.hi}}}}return{lo:0,hi:s.length-1}}function Qx(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,h=s.length;c<h;++c){const{index:p,data:b}=s[c],{lo:x,hi:I}=_q(s[c],e,o,r);for(let M=x;M<=I;++M){const P=b[M];P.skip||i(P,p,M)}}}function O1(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||Qx(n,t,e,function(c,h,p){!r&&!Fh(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&s.push({element:c,datasetIndex:h,index:p})},!0),s}function P1(n,e,t,i,r,s){return s||n.isPointInArea(e)?"r"!==t||i?function vq(n,e,t,i,r,s){let o=[];const c=function yq(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let h=Number.POSITIVE_INFINITY;return Qx(n,t,e,function p(b,x,I){const M=b.inRange(e.x,e.y,r);if(i&&!M)return;const P=b.getCenterPoint(r);if(!s&&!n.isPointInArea(P)&&!M)return;const L=c(e,P);L<h?(o=[{element:b,datasetIndex:x,index:I}],h=L):L===h&&o.push({element:b,datasetIndex:x,index:I})}),o}(n,e,t,i,r,s):function bq(n,e,t,i){let r=[];return Qx(n,t,e,function s(o,c,h){const{startAngle:p,endAngle:b}=o.getProps(["startAngle","endAngle"],i),{angle:x}=r2(o,{x:e.x,y:e.y});$x(x,p,b)&&r.push({element:o,datasetIndex:c,index:h})}),r}(n,e,t,r):[]}function J2(n,e,t,i,r){const s=[],o="x"===t?"inXRange":"inYRange";let c=!1;return Qx(n,t,e,(h,p,b)=>{h[o](e[t],r)&&(s.push({element:h,datasetIndex:p,index:b}),c=c||h.inRange(e.x,e.y,r))}),i&&!c?[]:s}var wq={evaluateInteractionItems:Qx,modes:{index(n,e,t,i){const r=u_(e,n),s=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?O1(n,r,s,i,o):P1(n,r,s,!1,i,o),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const b=c[0].index,x=p.data[b];x&&!x.skip&&h.push({element:x,datasetIndex:p.index,index:b})}),h):[]},dataset(n,e,t,i){const r=u_(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?O1(n,r,s,i,o):P1(n,r,s,!1,i,o);if(c.length>0){const h=c[0].datasetIndex,p=n.getDatasetMeta(h).data;c=[];for(let b=0;b<p.length;++b)c.push({element:p[b],datasetIndex:h,index:b})}return c},point:(n,e,t,i)=>O1(n,u_(e,n),t.axis||"xy",i,t.includeInvisible||!1),nearest:(n,e,t,i)=>P1(n,u_(e,n),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(n,e,t,i)=>J2(n,u_(e,n),"x",t.intersect,i),y:(n,e,t,i)=>J2(n,u_(e,n),"y",t.intersect,i)}};const eV=["left","top","right","bottom"];function Xx(n,e){return n.filter(t=>t.pos===e)}function tV(n,e){return n.filter(t=>-1===eV.indexOf(t.pos)&&t.box.axis===e)}function Jx(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function nV(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function iV(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Iq(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!Tn(r)){t.size&&(n[r]-=t.size);const x=i[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?s.height:s.width),t.size=x.size/x.count,n[r]+=t.size}s.getPadding&&iV(o,s.getPadding());const c=Math.max(0,e.outerWidth-nV(o,n,"left","right")),h=Math.max(0,e.outerHeight-nV(o,n,"top","bottom")),p=c!==n.w,b=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:p,other:b}:{same:b,other:p}}function Tq(n,e){const t=e.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}(n?["left","right"]:["top","bottom"])}function eE(n,e,t,i){const r=[];let s,o,c,h,p,b;for(s=0,o=n.length,p=0;s<o;++s){c=n[s],h=c.box,h.update(c.width||e.w,c.height||e.h,Tq(c.horizontal,e));const{same:x,other:I}=Iq(e,t,c,i);p|=x&&r.length,b=b||I,h.fullSize||r.push(c)}return p&&eE(r,e,t,i)||b}function DS(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function rV(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const c of n){const h=c.box,p=i[c.stack]||{count:1,placed:0,weight:1},b=c.stackWeight/p.weight||1;if(c.horizontal){const x=e.w*b,I=p.size||h.height;jx(p.start)&&(o=p.start),h.fullSize?DS(h,r.left,o,t.outerWidth-r.right-r.left,I):DS(h,e.left+p.placed,o,x,I),p.start=o,p.placed+=x,o=h.bottom}else{const x=e.h*b,I=p.size||h.width;jx(p.start)&&(s=p.start),h.fullSize?DS(h,s,r.top,I,t.outerHeight-r.bottom-r.top):DS(h,s,e.top+p.placed,I,x),p.start=s,p.placed+=x,s=h.right}}e.x=s,e.y=o}var Ys={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Zs(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),c=function Dq(n){const e=function xq(n){const e=[];let t,i,r,s,o,c;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],({position:s,options:{stack:o,stackWeight:c=1}}=r),e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return e}(n),t=Jx(e.filter(p=>p.box.fullSize),!0),i=Jx(Xx(e,"left"),!0),r=Jx(Xx(e,"right")),s=Jx(Xx(e,"top"),!0),o=Jx(Xx(e,"bottom")),c=tV(e,"x"),h=tV(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(o).concat(c),chartArea:Xx(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(o).concat(c)}}(n.boxes),h=c.vertical,p=c.horizontal;Zn(n.boxes,F=>{"function"==typeof F.beforeLayout&&F.beforeLayout()});const b=h.reduce((F,L)=>L.box.options&&!1===L.box.options.display?F:F+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/b,hBoxMaxHeight:o/2}),I=Object.assign({},r);iV(I,Zs(i));const M=Object.assign({maxPadding:I,w:s,h:o,x:r.left,y:r.top},r),P=function Cq(n,e){const t=function Eq(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!eV.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,c;for(s=0,o=n.length;s<o;++s){c=n[s];const{fullSize:h}=c.box,p=t[c.stack],b=p&&c.stackWeight/p.weight;c.horizontal?(c.width=b?b*i:h&&e.availableWidth,c.height=r):(c.width=i,c.height=b?b*r:h&&e.availableHeight)}return t}(h.concat(p),x);eE(c.fullSize,M,x,P),eE(h,M,x,P),eE(p,M,x,P)&&eE(h,M,x,P),function Sq(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(M),rV(c.leftAndTop,M,x,P),M.x+=M.w,M.y+=M.h,rV(c.rightAndBottom,M,x,P),n.chartArea={left:M.left,top:M.top,right:M.left+M.w,bottom:M.top+M.h,height:M.h,width:M.w},Zn(c.chartArea,F=>{const L=F.box;Object.assign(L,n.chartArea),L.update(M.w,M.h,{left:0,top:0,right:0,bottom:0})})}};class sV{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Mq extends sV{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const IS="$chartjs",Aq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},oV=n=>null===n||""===n,aV=!!AG&&{passive:!0};function Oq(n,e,t){n.canvas.removeEventListener(e,t,aV)}function SS(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Fq(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||SS(c.addedNodes,i),o=o&&!SS(c.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Nq(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||SS(c.removedNodes,i),o=o&&!SS(c.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const tE=new Map;let lV=0;function cV(){const n=window.devicePixelRatio;n!==lV&&(lV=n,tE.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Bq(n,e,t){const i=n.canvas,r=i&&S1(i);if(!r)return;const s=c2((c,h)=>{const p=r.clientWidth;t(c,h),p<r.clientWidth&&t()},window),o=new ResizeObserver(c=>{const h=c[0],p=h.contentRect.width,b=h.contentRect.height;0===p&&0===b||s(p,b)});return o.observe(r),function Lq(n,e){tE.size||window.addEventListener("resize",cV),tE.set(n,e)}(n,s),o}function F1(n,e,t){t&&t.disconnect(),"resize"===e&&function Vq(n){tE.delete(n),tE.size||window.removeEventListener("resize",cV)}(n)}function Uq(n,e,t){const i=n.canvas,r=c2(s=>{null!==n.ctx&&t(function Pq(n,e){const t=Aq[n.type]||n.type,{x:i,y:r}=u_(n,e);return{type:t,chart:e,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function kq(n,e,t){n.addEventListener(e,t,aV)}(i,e,r),r}class Hq extends sV{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function Rq(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[IS]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",oV(r)){const s=A2(n,"width");void 0!==s&&(n.width=s)}if(oV(i))if(""===n.style.height)n.height=n.width/(e||2);else{const s=A2(n,"height");void 0!==s&&(n.height=s)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[IS])return!1;const i=t[IS].initial;["height","width"].forEach(s=>{const o=i[s];Fn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[IS],!0}addEventListener(e,t,i){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:Fq,detach:Nq,resize:Bq}[t]||Uq)(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];r&&(({attach:F1,detach:F1,resize:F1}[t]||Oq)(e,t,r),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return function MG(n,e,t,i){const r=ES(n),s=c_(r,"margin"),o=xS(r.maxWidth,n,"clientWidth")||mS,c=xS(r.maxHeight,n,"clientHeight")||mS,h=function TG(n,e,t){let i,r;if(void 0===e||void 0===t){const s=S1(n);if(s){const o=s.getBoundingClientRect(),c=ES(s),h=c_(c,"border","width"),p=c_(c,"padding");e=o.width-p.width-h.width,t=o.height-p.height-h.height,i=xS(c.maxWidth,s,"clientWidth"),r=xS(c.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:i||mS,maxHeight:r||mS}}(n,e,t);let{width:p,height:b}=h;if("content-box"===r.boxSizing){const I=c_(r,"border","width"),M=c_(r,"padding");p-=M.width+I.width,b-=M.height+I.height}return p=Math.max(0,p-s.width),b=Math.max(0,i?p/i:b-s.height),p=CS(Math.min(p,o,h.maxWidth)),b=CS(Math.min(b,c,h.maxHeight)),p&&!b&&(b=CS(p/2)),(void 0!==e||void 0!==t)&&i&&h.height&&b>h.height&&(b=h.height,p=CS(Math.floor(b*i))),{width:p,height:b}}(e,t,i,r)}isAttached(e){const t=S1(e);return!(!t||!t.isConnected)}}class Vc{constructor(){lt(this,"x",void 0),lt(this,"y",void 0),lt(this,"active",!1),lt(this,"options",void 0),lt(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return dv(this.x)&&dv(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function TS(n,e,t,i,r){const s=un(i,0),o=Math.min(un(r,n.length),n.length);let h,p,b,c=0;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),b=s;b<0;)c++,b=Math.round(s+c*t);for(p=Math.max(s,0);p<o;p++)p===b&&(e.push(n[p]),c++,b=Math.round(s+c*t))}lt(Vc,"defaults",{}),lt(Vc,"defaultRoutes",void 0);const Zq=n=>"left"===n?"right":"right"===n?"left":n,uV=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t,dV=(n,e)=>Math.min(e||n,n);function hV(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function Yq(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,c=1e-6;let p,h=n.getPixelForTick(r);if(!(t&&(p=1===i?Math.max(h-s,o-h):0===e?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<e?p:-p,h<s-c||h>o+c)))return h}function nE(n){return n.drawTicks?n.tickLength:0}function fV(n,e){if(!n.display)return 0;const t=Wr(n.font,e),i=Zs(n.padding);return(Ii(n.text)?n.text.length:1)*t.lineHeight+i.height}function e8(n,e,t){let i=_1(n);return(t&&"right"!==e||!t&&"right"===e)&&(i=Zq(i)),i}class f_ extends Vc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=$a(e,Number.POSITIVE_INFINITY),t=$a(t,Number.NEGATIVE_INFINITY),i=$a(i,Number.POSITIVE_INFINITY),r=$a(r,Number.NEGATIVE_INFINITY),{min:$a(e,i),max:$a(t,r),minDefined:ar(e),maxDefined:ar(t)}}getMinMax(e){let o,{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,p=c.length;h<p;++h)o=c[h].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:$a(t,$a(i,t)),max:$a(i,$a(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_i(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function aG(n,e,t){const{min:i,max:r}=n,s=ZL(e,(r-i)/2),o=(c,h)=>t&&0===c?0:c+h;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?hV(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function zq(n,e){const t=n.options.ticks,i=function $q(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?function qq(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}(e):[],o=s.length,c=s[0],h=s[o-1],p=[];if(o>r)return function Wq(n,e,t,i){let o,r=0,s=t[0];for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}(e,p,s,o/r),p;const b=function Gq(n,e,t){const i=function Kq(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),r=e.length/t;if(!i)return Math.max(r,1);const s=function O6(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i==0&&(e.push(i),e.push(n/i));return t===(0|t)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}(i);for(let o=0,c=s.length-1;o<c;o++){const h=s[o];if(h>r)return h}return Math.max(r,1)}(s,e,r);if(o>0){let x,I;const M=o>1?Math.round((h-c)/(o-1)):null;for(TS(e,p,b,Fn(M)?0:c-M,c),x=0,I=o-1;x<I;x++)TS(e,p,b,s[x],s[x+1]);return TS(e,p,b,h,Fn(M)?e.length:h+M),p}return TS(e,p,b),p}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,e=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_i(this.options.afterUpdate,[this])}beforeSetDimensions(){_i(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_i(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),_i(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_i(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=_i(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){_i(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_i(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=dV(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let c,h,p,o=r;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const b=this._getLabelSizes(),x=b.widest.width,I=b.highest.height,M=fs(this.chart.width-x,0,this.maxWidth);c=e.offset?this.maxWidth/i:M/(i-1),x+6>c&&(c=M/(i-(e.offset?.5:1)),h=this.maxHeight-nE(e.grid)-t.padding-fV(e.title,this.chart.options.font),p=Math.sqrt(x*x+I*I),o=p1(Math.min(Math.asin(fs((b.highest.height+6)/c,-1,1)),Math.asin(fs(h/p,-1,1))-Math.asin(fs(I/p,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){_i(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_i(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const h=fV(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=nE(s)+h):(e.height=this.maxHeight,e.width=nE(s)+h),i.display&&this.ticks.length){const{first:p,last:b,widest:x,highest:I}=this._getLabelSizes(),M=2*i.padding,P=Lc(this.labelRotation),F=Math.cos(P),L=Math.sin(P);c?e.height=Math.min(this.maxHeight,e.height+(i.mirror?0:L*x.width+F*I.height)+M):e.width=Math.min(this.maxWidth,e.width+(i.mirror?0:F*x.width+L*I.height)+M),this._calculatePadding(p,b,L,F)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:c}=this.options,h=0!==this.labelRotation,p="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let I=0,M=0;h?p?(I=r*e.width,M=i*t.height):(I=i*e.height,M=r*t.width):"start"===s?M=t.width:"end"===s?I=e.width:"inner"!==s&&(I=e.width/2,M=t.width/2),this.paddingLeft=Math.max((I-b+o)*this.width/(this.width-b),0),this.paddingRight=Math.max((M-x+o)*this.width/(this.width-x),0)}else{let b=t.height/2,x=e.height/2;"start"===s?(b=0,x=e.height):"end"===s&&(b=t.height,x=0),this.paddingTop=b+o,this.paddingBottom=x+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_i(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)Fn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=hV(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],h=Math.floor(t/dV(t,i));let x,I,M,P,F,L,$,W,ee,re,ce,p=0,b=0;for(x=0;x<t;x+=h){if(P=e[x].label,F=this._resolveTickFontOptions(x),r.font=L=F.string,$=s[L]=s[L]||{data:{},gc:[]},W=F.lineHeight,ee=re=0,Fn(P)||Ii(P)){if(Ii(P))for(I=0,M=P.length;I<M;++I)ce=P[I],!Fn(ce)&&!Ii(ce)&&(ee=yS(r,$.data,$.gc,ee,ce),re+=W)}else ee=yS(r,$.data,$.gc,ee,P),re=W;o.push(ee),c.push(re),p=Math.max(ee,p),b=Math.max(re,b)}!function Qq(n,e){Zn(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}(s,t);const ge=o.indexOf(p),Be=c.indexOf(b),Ve=gt=>({width:o[gt]||0,height:c[gt]||0});return{first:Ve(0),last:Ve(t-1),widest:Ve(ge),highest:Ve(Be),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function N6(n){return fs(n,-32768,32767)}(this._alignToPixels?o_(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function Jq(n,e,t){return Xp(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=function Xq(n,e){return Xp(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Lc(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,h=s?s.highest.height+o:0;return this.isHorizontal()?h*i>c*r?c/i:h/r:h*r<c*i?h/i:c/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:c}=r,h=s.offset,p=this.isHorizontal(),x=this.ticks.length+(h?1:0),I=nE(s),M=[],P=c.setContext(this.getContext()),F=P.display?P.width:0,L=F/2,$=function(nt){return o_(i,nt,F)};let W,ee,re,ce,ge,Be,Ve,gt,Wt,ln,dn,Ti;if("top"===o)W=$(this.bottom),Be=this.bottom-I,gt=W-L,ln=$(e.top)+L,Ti=e.bottom;else if("bottom"===o)W=$(this.top),ln=e.top,Ti=$(e.bottom)-L,Be=W+L,gt=this.top+I;else if("left"===o)W=$(this.right),ge=this.right-I,Ve=W-L,Wt=$(e.left)+L,dn=e.right;else if("right"===o)W=$(this.left),Wt=e.left,dn=$(e.right)-L,ge=W+L,Ve=this.left+I;else if("x"===t){if("center"===o)W=$((e.top+e.bottom)/2+.5);else if(Tn(o)){const nt=Object.keys(o)[0];W=$(this.chart.scales[nt].getPixelForValue(o[nt]))}ln=e.top,Ti=e.bottom,Be=W+L,gt=Be+I}else if("y"===t){if("center"===o)W=$((e.left+e.right)/2);else if(Tn(o)){const nt=Object.keys(o)[0];W=$(this.chart.scales[nt].getPixelForValue(o[nt]))}ge=W-L,Ve=ge-I,Wt=e.left,dn=e.right}const Xs=un(r.ticks.maxTicksLimit,x),Un=Math.max(1,Math.ceil(x/Xs));for(ee=0;ee<x;ee+=Un){const nt=this.getContext(ee),ft=s.setContext(nt),Ot=c.setContext(nt),Kt=ft.lineWidth,Mi=ft.color,To=Ot.dash||[],Nr=Ot.dashOffset,ea=ft.tickWidth,Yn=ft.tickColor,lm=ft.tickBorderDash||[],E_=ft.tickBorderDashOffset;re=Yq(this,ee,h),void 0!==re&&(ce=o_(i,re,Kt),p?ge=Ve=Wt=dn=ce:Be=gt=ln=Ti=ce,M.push({tx1:ge,ty1:Be,tx2:Ve,ty2:gt,x1:Wt,y1:ln,x2:dn,y2:Ti,width:Kt,color:Mi,borderDash:To,borderDashOffset:Nr,tickWidth:ea,tickColor:Yn,tickBorderDash:lm,tickBorderDashOffset:E_}))}return this._ticksLength=x,this._borderValue=W,M}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:p,padding:b,mirror:x}=s,I=nE(i.grid),M=I+b,P=x?-b:M,F=-Lc(this.labelRotation),L=[];let $,W,ee,re,ce,ge,Be,Ve,gt,Wt,ln,dn,Ti="middle";if("top"===r)ge=this.bottom-P,Be=this._getXAxisLabelAlignment();else if("bottom"===r)ge=this.top+P,Be=this._getXAxisLabelAlignment();else if("left"===r){const Un=this._getYAxisLabelAlignment(I);Be=Un.textAlign,ce=Un.x}else if("right"===r){const Un=this._getYAxisLabelAlignment(I);Be=Un.textAlign,ce=Un.x}else if("x"===t){if("center"===r)ge=(e.top+e.bottom)/2+M;else if(Tn(r)){const Un=Object.keys(r)[0];ge=this.chart.scales[Un].getPixelForValue(r[Un])+M}Be=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)ce=(e.left+e.right)/2-M;else if(Tn(r)){const Un=Object.keys(r)[0];ce=this.chart.scales[Un].getPixelForValue(r[Un])}Be=this._getYAxisLabelAlignment(I).textAlign}"y"===t&&("start"===h?Ti="top":"end"===h&&(Ti="bottom"));const Xs=this._getLabelSizes();for($=0,W=c.length;$<W;++$){ee=c[$],re=ee.label;const Un=s.setContext(this.getContext($));Ve=this.getPixelForTick($)+s.labelOffset,gt=this._resolveTickFontOptions($),Wt=gt.lineHeight,ln=Ii(re)?re.length:1;const nt=ln/2,ft=Un.color,Ot=Un.textStrokeColor,Kt=Un.textStrokeWidth;let To,Mi=Be;if(o?(ce=Ve,"inner"===Be&&(Mi=$===W-1?this.options.reverse?"left":"right":0===$?this.options.reverse?"right":"left":"center"),dn="top"===r?"near"===p||0!==F?-ln*Wt+Wt/2:"center"===p?-Xs.highest.height/2-nt*Wt+Wt:Wt/2-Xs.highest.height:"near"===p||0!==F?Wt/2:"center"===p?Xs.highest.height/2-nt*Wt:Xs.highest.height-ln*Wt,x&&(dn*=-1),0!==F&&!Un.showLabelBackdrop&&(ce+=Wt/2*Math.sin(F))):(ge=Ve,dn=(1-ln)*Wt/2),Un.showLabelBackdrop){const Nr=Zs(Un.backdropPadding),ea=Xs.heights[$],Yn=Xs.widths[$];let lm=dn-Nr.top,E_=0-Nr.left;switch(Ti){case"middle":lm-=ea/2;break;case"bottom":lm-=ea}switch(Be){case"center":E_-=Yn/2;break;case"right":E_-=Yn}To={left:E_,top:lm,width:Yn+Nr.width,height:ea+Nr.height,color:Un.backdropColor}}L.push({label:re,font:gt,textOffset:dn,options:{rotation:F,color:ft,strokeColor:Ot,strokeWidth:Kt,textAlign:Mi,textBaseline:Ti,translation:[ce,ge],backdrop:To}})}return L}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Lc(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,c=e+s,h=this._getLabelSizes().widest.width;let p,b;return"left"===t?r?(b=this.right+s,"near"===i?p="left":"center"===i?(p="center",b+=h/2):(p="right",b+=h)):(b=this.right-c,"near"===i?p="right":"center"===i?(p="center",b-=h/2):(p="left",b=this.left)):"right"===t?r?(b=this.left+s,"near"===i?p="right":"center"===i?(p="center",b-=h/2):(p="left",b-=h)):(b=this.left+c,"near"===i?p="left":"center"===i?(p="center",b+=h/2):(p="right",b=this.right)):p="right",{textAlign:p,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(h,p,b)=>{!b.width||!b.color||(i.save(),i.lineWidth=b.width,i.strokeStyle=b.color,i.setLineDash(b.borderDash||[]),i.lineDashOffset=b.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const h=r[s];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,b,x,I;this.isHorizontal()?(p=o_(e,this.left,o)-o/2,b=o_(e,this.right,c)+c/2,x=I=h):(x=o_(e,this.top,o)-o/2,I=o_(e,this.bottom,c)+c/2,p=b=h),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(p,x),t.lineTo(b,I),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&bS(i,r);const s=this.getLabelItems(e);for(const o of s)a_(i,o.label,0,o.textOffset,o.font,o.options);r&&vS(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Wr(i.font),o=Zs(i.padding),c=i.align;let h=s.lineHeight/2;"bottom"===t||"center"===t||Tn(t)?(h+=o.bottom,Ii(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=o.top;const{titleX:p,titleY:b,maxWidth:x,rotation:I}=function t8(n,e,t,i){const{top:r,left:s,bottom:o,right:c,chart:h}=n,{chartArea:p,scales:b}=h;let I,M,P,x=0;const F=o-r,L=c-s;if(n.isHorizontal()){if(M=Ks(i,s,c),Tn(t)){const $=Object.keys(t)[0];P=b[$].getPixelForValue(t[$])+F-e}else P="center"===t?(p.bottom+p.top)/2+F-e:uV(n,t,e);I=c-s}else{if(Tn(t)){const $=Object.keys(t)[0];M=b[$].getPixelForValue(t[$])-L+e}else M="center"===t?(p.left+p.right)/2-L+e:uV(n,t,e);P=Ks(i,o,r),x="left"===t?-lr:lr}return{titleX:M,titleY:P,maxWidth:I,rotation:x}}(this,h,t,c);a_(e,i.text,0,0,s,{color:i.color,maxWidth:x,rotation:I,textAlign:e8(c,t,r),textBaseline:"middle",translation:[p,b]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=un(e.grid&&e.grid.z,-1),r=un(e.border&&e.border.z,0);return this._isVisible()&&this.draw===f_.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const c=t[s];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){return Wr(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class MS{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function r8(n){return"id"in n&&"defaults"in n})(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function n8(n,e,t){const i=Ux(Object.create(null),[t?cr.get(t):{},cr.get(e),n.defaults]);cr.set(e,i),n.defaultRoutes&&function i8(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),c=o.pop(),h=o.join(".");cr.route(s,r,h,c)})}(e,n.defaultRoutes),n.descriptors&&cr.describe(e,n.descriptors)}(e,o,i),this.override&&cr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in cr[r]&&(delete cr[r][i],this.override&&delete s_[i])}}class s8{constructor(){this.controllers=new MS(Jp,"datasets",!0),this.elements=new MS(Vc,"elements"),this.plugins=new MS(Object,"plugins"),this.scales=new MS(f_,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Zn(r,o=>{const c=i||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,i){const r=f1(e);_i(i["before"+r],[],i),t[e](i),_i(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var id=new s8;class o8{constructor(){this._init=[]}notify(e,t,i,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin;if(!1===_i(o[i],[t,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){Fn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=un(i.options&&i.options.plugins,{}),s=function a8(n){const e={},t=[],i=Object.keys(id.plugins.items);for(let s=0;s<i.length;s++)t.push(id.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];-1===t.indexOf(o)&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}(i);return!1!==r||t?function c8(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const c of e){const h=c.id,p=l8(i[h],r);null!==p&&s.push({plugin:c,options:u8(n.config,{plugin:c,local:t[h]},p,o)})}return s}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(c=>!o.some(h=>c.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function l8(n,e){return e||!1!==n?!0===n?{}:n:null}function u8(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function N1(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(cr.datasets[n]||{}).indexAxis||"x"}function pV(n){if("x"===n||"y"===n||"r"===n)return n}function f8(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function L1(n,...e){if(pV(n))return n;for(const t of e){const i=t.axis||f8(t.position)||n.length>1&&pV(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function mV(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function gV(n){const e=n.options||(n.options={});e.plugins=un(e.plugins,{}),e.scales=function m8(n,e){const t=s_[n.type]||{scales:{}},i=e.scales||{},r=N1(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!Tn(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const h=L1(o,c,function p8(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return mV(n,"x",t[0])||mV(n,"y",t[0])}return{}}(o,n),cr.scales[c.type]),p=function h8(n,e){return n===e?"_index_":"_value_"}(h,r),b=t.scales||{};s[o]=Hx(Object.create(null),[{axis:h},c,b[h],b[p]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,h=o.indexAxis||N1(c,e),b=(s_[c]||{}).scales||{};Object.keys(b).forEach(x=>{const I=function d8(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(x,h),M=o[I+"AxisID"]||I;s[M]=s[M]||Object.create(null),Hx(s[M],[{axis:I},i[M],b[x]])})}),Object.keys(s).forEach(o=>{const c=s[o];Hx(c,[cr.scales[c.type],cr.scale])}),s}(n,e)}function _V(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const yV=new Map,bV=new Set;function AS(n,e){let t=yV.get(n);return t||(t=e(),yV.set(n,t),bV.add(t)),t}const iE=(n,e,t)=>{const i=Zp(e,t);void 0!==i&&n.add(i)};class _8{constructor(e){this._config=function g8(n){return(n=n||{}).data=_V(n.data),gV(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=_V(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),gV(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return AS(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return AS(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return AS(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return AS(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),c=o.get(t);if(c)return c;const h=new Set;t.forEach(b=>{e&&(h.add(e),b.forEach(x=>iE(h,e,x))),b.forEach(x=>iE(h,r,x)),b.forEach(x=>iE(h,s_[s]||{},x)),b.forEach(x=>iE(h,cr,x)),b.forEach(x=>iE(h,v1,x))});const p=Array.from(h);return 0===p.length&&p.push(Object.create(null)),bV.has(t)&&o.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,s_[t]||{},cr.datasets[t]||{},{type:t},cr,v1]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=vV(this._resolverCache,e,r);let h=o;(function b8(n,e){const{isScriptable:t,isIndexable:i}=v2(n);for(const r of e){const s=t(r),o=i(r),c=(o||s)&&n[r];if(s&&(Yp(c)||y8(c))||o&&Ii(c))return!0}return!1})(o,t)&&(s.$shared=!1,h=hv(o,i=Yp(i)?i():i,this.createResolver(e,i,c)));for(const p of t)s[p]=h[p];return s}createResolver(e,t,i=[""],r){const{resolver:s}=vV(this._resolverCache,e,i);return Tn(t)?hv(s,t,void 0,r):s}}function vV(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:C1(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const y8=n=>Tn(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||Yp(n[t]),!1),w8=["top","bottom","left","right","chartArea"];function wV(n,e){return"top"===n||"bottom"===n||-1===w8.indexOf(n)&&"x"===e}function xV(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function EV(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),_i(t&&t.onComplete,[n],e)}function x8(n){const e=n.chart,t=e.options.animation;_i(t&&t.onProgress,[n],e)}function CV(n){return T2()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const RS={},DV=n=>{const e=CV(n);return Object.values(RS).filter(t=>t.canvas===e).pop()};function E8(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}let V1=(()=>{class n{static register(...t){id.add(...t),IV()}static unregister(...t){id.remove(...t),IV()}constructor(t,i){const r=this.config=new _8(i),s=CV(t),o=DV(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function jq(n){return!T2()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Mq:Hq}(s)),this.platform.updateConfig(r);const h=this.platform.acquireContext(s,c.aspectRatio),p=h&&h.canvas,b=p&&p.height,x=p&&p.width;this.id=C6(),this.ctx=h,this.canvas=p,this.width=x,this.height=b,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new o8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function U6(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}(I=>this.update(I),c.resizeDelay||0),this._dataChanges=[],RS[this.id]=this,h&&p?(Nh.listen(this,"complete",EV),Nh.listen(this,"progress",x8),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return Fn(t)?i&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return id}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():M2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _2(this.canvas,this.ctx),this}stop(){return Nh.stop(this),this}resize(t,i){Nh.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const r=this.options,c=this.platform.getMaximumSize(this.canvas,t,i,r.maintainAspectRatio&&this.aspectRatio),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,M2(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),_i(r.onResize,[this,c],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){Zn(this.options.scales||{},(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,i=t.scales,r=this.scales,s=Object.keys(r).reduce((c,h)=>(c[h]=!1,c),{});let o=[];i&&(o=o.concat(Object.keys(i).map(c=>{const h=i[c],p=L1(c,h),b="r"===p,x="x"===p;return{options:h,dposition:b?"chartArea":x?"bottom":"left",dtype:b?"radialLinear":x?"category":"linear"}}))),Zn(o,c=>{const h=c.options,p=h.id,b=L1(p,h),x=un(h.type,c.dtype);(void 0===h.position||wV(h.position,b)!==wV(c.dposition))&&(h.position=c.dposition),s[p]=!0;let I=null;p in r&&r[p].type===x?I=r[p]:(I=new(id.getScale(x))({id:p,type:x,ctx:this.ctx,chart:this}),r[I.id]=I),I.init(h,t)}),Zn(s,(c,h)=>{c||delete r[h]}),Zn(r,c=>{Ys.configure(this,c,c.options),Ys.addBox(this,c)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(xV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,s)=>{0===i.filter(o=>o===r._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){const o=i[r];let c=this.getDatasetMeta(r);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=h,c.indexAxis=o.indexAxis||N1(h,this.options),c.order=o.order||0,c.index=r,c.label=""+o.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const p=id.getController(h),{datasetElementType:b,dataElementType:x}=cr.datasets[h];Object.assign(p,{dataElementType:id.getElement(x),datasetElementType:b&&id.getElement(b)}),c.controller=new p(this,r),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Zn(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let b=0,x=this.data.datasets.length;b<x;b++){const{controller:I}=this.getDatasetMeta(b),M=!s&&-1===o.indexOf(I);I.buildOrUpdateElements(M),c=Math.max(+I.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),s||Zn(o,b=>{b.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xV("z","_idx"));const{_active:h,_lastEvent:p}=this;p?this._eventHandler(p,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Zn(this.scales,t=>{Ys.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!XL(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:o}of i)E8(t,s,"_removeElements"===r?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!XL(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ys.update(this,this.width,this.height,t);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Zn(this.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Yp(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Nh.has(this)?this.attached&&!Nh.running(this)&&Nh.start(this):(this.draw(),EV({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,r=[];let s,o;for(s=0,o=i.length;s<o;++s){const c=i[s];(!t||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,r=t._clip,s=!r.disabled,o=function D8(n){const{xScale:e,yScale:t}=n;if(e&&t)return{left:e.left,right:e.right,top:t.top,bottom:t.bottom}}(t)||this.chartArea,c={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(s&&bS(i,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?this.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?this.height:o.bottom+r.bottom}),t.controller.draw(),s&&vS(i),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(t){return Fh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,s){const o=wq.modes[i];return"function"==typeof o?o(this,t,r,s):[]}getDatasetMeta(t){const i=this.data.datasets[t],r=this._metasets;let s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Xp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const r=this.getDatasetMeta(t);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(t,i){this.getDatasetMeta(t).hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){const s=r?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,s);jx(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),c.update(o,{visible:r}),this.update(h=>h.datasetIndex===t?s:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),Nh.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),_2(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete RS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,r=(o,c)=>{i.addEventListener(this,o,c),t[o]=c},s=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Zn(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,r=(p,b)=>{i.addEventListener(this,p,b),t[p]=b},s=(p,b)=>{t[p]&&(i.removeEventListener(this,p,b),delete t[p])},o=(p,b)=>{this.canvas&&this.resize(p,b)};let c;const h=()=>{s("attach",h),this.attached=!0,this.resize(),r("resize",o),r("detach",c)};c=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",h)},i.isAttached(this.canvas)?h():c()}unbindEvents(){Zn(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},Zn(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){const s=r?"set":"remove";let o,c,h,p;for("dataset"===i&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),h=0,p=t.length;h<p;++h){c=t[h];const b=c&&this.getDatasetMeta(c.datasetIndex).controller;b&&b[s+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],r=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!fS(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return 1===this._plugins._cache.filter(i=>i.plugin.id===t).length}_updateHoverStyles(t,i,r){const s=this.options.hover,o=(p,b)=>p.filter(x=>!b.some(I=>x.datasetIndex===I.datasetIndex&&x.index===I.index)),c=o(i,t),h=r?t:o(t,i);c.length&&this.updateHoverStyle(c,s.mode,!1),h.length&&s.mode&&this.updateHoverStyle(h,s.mode,!0)}_eventHandler(t,i){const r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},s=c=>(c.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const o=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,i,r){const{_active:s=[],options:o}=this,h=this._getActiveElements(t,s,r,i),p=function A6(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),b=function C8(n,e,t,i){return t&&"mouseout"!==n.type?i?e:n:null}(t,this._lastEvent,r,p);r&&(this._lastEvent=null,_i(o.onHover,[t,h,this],this),p&&_i(o.onClick,[t,h,this],this));const x=!fS(h,s);return(x||i)&&(this._active=h,this._updateHoverStyles(h,s,i)),this._lastEvent=b,x}_getActiveElements(t,i,r,s){if("mouseout"===t.type)return[];if(!r)return i;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return lt(n,"defaults",cr),lt(n,"instances",RS),lt(n,"overrides",s_),lt(n,"registry",id),lt(n,"version","4.3.0"),lt(n,"getChart",DV),n})();function IV(){return Zn(V1.instances,n=>n._plugins.invalidate())}function mv(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function kS(n,e,t,i,r,s){const{x:o,y:c,startAngle:h,pixelMargin:p,innerRadius:b}=e,x=Math.max(e.outerRadius+i+t-p,0),I=b>0?b+i+t+p:0;let M=0;const P=r-h;if(i){const ft=((b>0?b-i:0)+(x>0?x-i:0))/2;M=(P-(0!==ft?P*ft/(ft+i):P))/2}const L=(P-Math.max(.001,P*x-t/Bi)/x)/2,$=h+L+M,W=r-L-M,{outerStart:ee,outerEnd:re,innerStart:ce,innerEnd:ge}=function T8(n,e,t,i){const r=function S8(n){return E1(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),c=h=>{const p=(t-Math.min(s,h))*i/2;return fs(h,0,Math.min(s,p))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:fs(r.innerStart,0,o),innerEnd:fs(r.innerEnd,0,o)}}(e,I,x,W-$),Be=x-ee,Ve=x-re,gt=$+ee/Be,Wt=W-re/Ve,ln=I+ce,dn=I+ge,Ti=$+ce/ln,Xs=W-ge/dn;if(n.beginPath(),s){const Un=(gt+Wt)/2;if(n.arc(o,c,x,gt,Un),n.arc(o,c,x,Un,Wt),re>0){const Kt=mv(Ve,Wt,o,c);n.arc(Kt.x,Kt.y,re,Wt,W+lr)}const nt=mv(dn,W,o,c);if(n.lineTo(nt.x,nt.y),ge>0){const Kt=mv(dn,Xs,o,c);n.arc(Kt.x,Kt.y,ge,W+lr,Xs+Math.PI)}const ft=(W-ge/I+($+ce/I))/2;if(n.arc(o,c,I,W-ge/I,ft,!0),n.arc(o,c,I,ft,$+ce/I,!0),ce>0){const Kt=mv(ln,Ti,o,c);n.arc(Kt.x,Kt.y,ce,Ti+Math.PI,$-lr)}const Ot=mv(Be,$,o,c);if(n.lineTo(Ot.x,Ot.y),ee>0){const Kt=mv(Be,gt,o,c);n.arc(Kt.x,Kt.y,ee,$-lr,gt)}}else{n.moveTo(o,c);const Un=Math.cos(gt)*x+o,nt=Math.sin(gt)*x+c;n.lineTo(Un,nt);const ft=Math.cos(Wt)*x+o,Ot=Math.sin(Wt)*x+c;n.lineTo(ft,Ot)}n.closePath()}class rE extends Vc{constructor(e){super(),lt(this,"circumference",void 0),lt(this,"endAngle",void 0),lt(this,"fullCircles",void 0),lt(this,"innerRadius",void 0),lt(this,"outerRadius",void 0),lt(this,"pixelMargin",void 0),lt(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=r2(r,{x:e,y:t}),{startAngle:c,endAngle:h,innerRadius:p,outerRadius:b,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),I=(this.options.spacing+this.options.borderWidth)/2,P=un(x,h-c)>=Si||$x(s,c,h),F=Oh(o,p+I,b+I);return P&&F}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:p}=this.options,b=(r+s)/2,x=(o+c+p+h)/2;return{x:t+Math.cos(b)*x,y:i+Math.sin(b)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>Si?Math.floor(i/Si):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const p=r*(1-Math.sin(Math.min(Bi,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function M8(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:c}=e;let h=e.endAngle;if(s){kS(n,e,t,i,h,r);for(let p=0;p<s;++p)n.fill();isNaN(c)||(h=o+(c%Si||Si))}kS(n,e,t,i,h,r),n.fill()}(e,this,p,s,o),function A8(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:c,options:h}=e,{borderWidth:p,borderJoinStyle:b,borderDash:x,borderDashOffset:I}=h,M="inner"===h.borderAlign;if(!p)return;n.setLineDash(x||[]),n.lineDashOffset=I,M?(n.lineWidth=2*p,n.lineJoin=b||"round"):(n.lineWidth=p,n.lineJoin=b||"bevel");let P=e.endAngle;if(s){kS(n,e,t,i,P,r);for(let F=0;F<s;++F)n.stroke();isNaN(c)||(P=o+(c%Si||Si))}M&&function I8(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:h}=e;let p=r/c;n.beginPath(),n.arc(s,o,c,i-p,t+p),h>r?(p=r/h,n.arc(s,o,h,t+p,i-p,!0)):n.arc(s,o,r,t+lr,i-lr),n.closePath(),n.clip()}(n,e,P),s||(kS(n,e,t,i,P,r),n.stroke())}(e,this,p,s,o),e.restore()}}function SV(n,e,t=e){n.lineCap=un(t.borderCapStyle,e.borderCapStyle),n.setLineDash(un(t.borderDash,e.borderDash)),n.lineDashOffset=un(t.borderDashOffset,e.borderDashOffset),n.lineJoin=un(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=un(t.borderWidth,e.borderWidth),n.strokeStyle=un(t.borderColor,e.borderColor)}function R8(n,e,t){n.lineTo(t.x,t.y)}function TV(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:c}=e,h=Math.max(r,o),p=Math.min(s,c);return{count:i,start:h,loop:e.loop,ilen:p<h&&!(r<o&&s<o||r>c&&s>c)?i+p-h:p-h}}function O8(n,e,t,i){const{points:r,options:s}=e,{count:o,start:c,loop:h,ilen:p}=TV(r,t,i),b=function k8(n){return n.stepped?X6:n.tension||"monotone"===n.cubicInterpolationMode?J6:R8}(s);let M,P,F,{move:x=!0,reverse:I}=i||{};for(M=0;M<=p;++M)P=r[(c+(I?p-M:M))%o],!P.skip&&(x?(n.moveTo(P.x,P.y),x=!1):b(n,F,P,I,s.stepped),F=P);return h&&(P=r[(c+(I?p:0))%o],b(n,F,P,I,s.stepped)),!!h}function P8(n,e,t,i){const r=e.points,{count:s,start:o,ilen:c}=TV(r,t,i),{move:h=!0,reverse:p}=i||{};let I,M,P,F,L,$,b=0,x=0;const W=re=>(o+(p?c-re:re))%s,ee=()=>{F!==L&&(n.lineTo(b,L),n.lineTo(b,F),n.lineTo(b,$))};for(h&&(M=r[W(0)],n.moveTo(M.x,M.y)),I=0;I<=c;++I){if(M=r[W(I)],M.skip)continue;const re=M.x,ce=M.y,ge=0|re;ge===P?(ce<F?F=ce:ce>L&&(L=ce),b=(x*b+re)/++x):(ee(),n.lineTo(re,ce),P=ge,x=0,F=L=ce),$=ce}ee()}function B1(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?O8:P8}lt(rE,"id","arc"),lt(rE,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),lt(rE,"defaultRoutes",{backgroundColor:"backgroundColor"}),lt(rE,"descriptors",{_scriptable:!0,_indexable:n=>"borderDash"!==n});const V8="function"==typeof Path2D;let OS=(()=>{class n extends Vc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(EG(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function VG(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:c}=function NG(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}(t,r,s,i);return function L2(n,e,t,i){return i&&i.setContext&&t?function BG(n,e,t,i){const r=n._chart.getContext(),s=V2(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,h=t.length,p=[];let b=s,x=e[0].start,I=x;function M(P,F,L,$){const W=c?-1:1;if(P!==F){for(P+=h;t[P%h].skip;)P-=W;for(;t[F%h].skip;)F+=W;P%h!=F%h&&(p.push({start:P%h,end:F%h,loop:L,style:$}),b=$,x=F%h)}}for(const P of e){x=c?x:P.start;let L,F=t[x%h];for(I=x+1;I<=P.end;I++){const $=t[I%h];L=V2(i.setContext(Xp(r,{type:"segment",p0:F,p1:$,p0DataIndex:(I-1)%h,p1DataIndex:I%h,datasetIndex:o}))),UG(L,b)&&M(x,I-1,P.loop,b),F=$,b=L}x<I-1&&M(x,I-1,P.loop,b)}return p}(n,e,t,i):e}(n,!0===i?[{start:o,end:c,loop:s}]:function LG(n,e,t,i){const r=n.length,s=[];let h,o=e,c=n[e];for(h=e+1;h<=t;++h){const p=n[h%r];p.skip||p.stop?c.skip||(s.push({start:e%r,end:(h-1)%r,loop:i=!1}),e=o=p.stop?h:null):(o=h,c.skip&&(e=h)),c=p}return null!==o&&s.push({start:e%r,end:o%r,loop:i}),s}(t,o,c<o?c+r:c,!!n._fullLoop&&0===o&&c===r-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,i){const r=this.options,s=t[i],o=this.points,c=N2(this,{property:i,start:s,end:s});if(!c.length)return;const h=[],p=function F8(n){return n.stepped?RG:n.tension||"monotone"===n.cubicInterpolationMode?kG:d_}(r);let b,x;for(b=0,x=c.length;b<x;++b){const{start:I,end:M}=c[b],P=o[I],F=o[M];if(P===F){h.push(P);continue}const $=p(P,F,Math.abs((s-P[i])/(F[i]-P[i])),r.stepped);$[i]=t[i],h.push($)}return 1===h.length?h[0]:h}pathSegment(t,i,r){return B1(this)(t,this,i,r)}path(t,i,r){const s=this.segments,o=B1(this);let c=this._loop;i=i||0,r=r||this.points.length-i;for(const h of s)c&=o(t,this,h,{start:i,end:i+r-1});return!!c}draw(t,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function B8(n,e,t,i){V8&&!e.options.segment?function N8(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),SV(n,e.options),n.stroke(r)}(n,e,t,i):function L8(n,e,t,i){const{segments:r,options:s}=e,o=B1(e);for(const c of r)SV(n,s,c.style),n.beginPath(),o(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}(n,e,t,i)}(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return lt(n,"id","line"),lt(n,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),lt(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),lt(n,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e}),n})();function MV(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}let U8=(()=>{class n extends Vc{constructor(t){super(),lt(this,"parsed",void 0),lt(this,"skip",void 0),lt(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return MV(this,t,"x",i)}inYRange(t,i){return MV(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const r=this.options;this.skip||r.radius<.1||!Fh(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,x1(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return lt(n,"id","point"),lt(n,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),lt(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),n})();function AV(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let c,h,p,b,x;return n.horizontal?(x=o/2,c=Math.min(t,r),h=Math.max(t,r),p=i-x,b=i+x):(x=s/2,c=t-x,h=t+x,p=Math.min(i,r),b=Math.max(i,r)),{left:c,top:p,right:h,bottom:b}}function em(n,e,t,i){return n?0:fs(e,t,i)}function U1(n,e,t,i){const r=null===e,s=null===t,c=n&&!(r&&s)&&AV(n,i);return c&&(r||Oh(e,c.left,c.right))&&(s||Oh(t,c.top,c.bottom))}function G8(n,e){n.rect(e.x,e.y,e.w,e.h)}function H1(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-i),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-r),radius:n.radius}}class PS extends Vc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=function z8(n){const e=AV(n),t=e.right-e.left,i=e.bottom-e.top,r=function H8(n,e,t){const r=n.borderSkipped,s=b2(n.options.borderWidth);return{t:em(r.top,s.top,0,t),r:em(r.right,s.right,0,e),b:em(r.bottom,s.bottom,0,t),l:em(r.left,s.left,0,e)}}(n,t/2,i/2),s=function j8(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=l_(r),o=Math.min(e,t),c=n.borderSkipped,h=i||Tn(r);return{topLeft:em(!h||c.top||c.left,s.topLeft,0,o),topRight:em(!h||c.top||c.right,s.topRight,0,o),bottomLeft:em(!h||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:em(!h||c.bottom||c.right,s.bottomRight,0,o)}}(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),c=function $8(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?Kx:G8;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),c(e,H1(o,t,s)),e.clip(),c(e,H1(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,H1(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return U1(this,e,t,i)}inXRange(e,t){return U1(this,e,null,t)}inYRange(e,t){return U1(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}lt(PS,"id","bar"),lt(PS,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),lt(PS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var q8=Object.freeze({__proto__:null,ArcElement:rE,BarElement:PS,LineElement:OS,PointElement:U8});const j1=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],RV=j1.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function kV(n){return j1[n%j1.length]}function OV(n){return RV[n%RV.length]}function PV(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}var X8={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!t.forceOverride&&(PV(i)||function Q8(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&PV(s)))return;const o=function Y8(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof R1?e=function K8(n,e){return n.backgroundColor=n.data.map(()=>kV(e++)),e}(t,e):r instanceof X2?e=function Z8(n,e){return n.backgroundColor=n.data.map(()=>OV(e++)),e}(t,e):r&&(e=function W8(n,e){return n.borderColor=kV(e),n.backgroundColor=OV(e),++e}(t,e))}}(n);i.forEach(o)}};function FV(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function NV(n){n.data.datasets.forEach(e=>{FV(e)})}var nW={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void NV(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:c}=r,h=n.getDatasetMeta(s),p=o||r.data;if("y"===Zx([c,n.options.indexAxis])||!h.controller.supportsDecimation)return;const b=n.scales[h.xAxisID];if("linear"!==b.type&&"time"!==b.type||n.options.parsing)return;let P,{start:x,count:I}=function tW(n,e){const t=e.length;let r,i=0;const{iScale:s}=n,{min:o,max:c,minDefined:h,maxDefined:p}=s.getUserBounds();return h&&(i=fs(Ph(e,s.axis,o).lo,0,t-1)),r=p?fs(Ph(e,s.axis,c).hi+1,i,t)-i:t-i,{start:i,count:r}}(h,p);if(I<=(t.threshold||4*i))FV(r);else{switch(Fn(o)&&(r._data=p,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(F){this._data=F}})),t.algorithm){case"lttb":P=function J8(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const o=[],c=(t-2)/(s-2);let h=0;const p=e+t-1;let x,I,M,P,F,b=e;for(o[h++]=n[b],x=0;x<s-2;x++){let W,L=0,$=0;const ee=Math.floor((x+1)*c)+1+e,re=Math.min(Math.floor((x+2)*c)+1,t)+e,ce=re-ee;for(W=ee;W<re;W++)L+=n[W].x,$+=n[W].y;L/=ce,$/=ce;const ge=Math.floor(x*c)+1+e,Be=Math.min(Math.floor((x+1)*c)+1,t)+e,{x:Ve,y:gt}=n[b];for(M=P=-1,W=ge;W<Be;W++)P=.5*Math.abs((Ve-L)*(n[W].y-gt)-(Ve-n[W].x)*($-gt)),P>M&&(M=P,I=n[W],F=W);o[h++]=I,b=F}return o[h++]=n[p],o}(p,x,I,i,t);break;case"min-max":P=function eW(n,e,t,i){let o,c,h,p,b,x,I,M,P,F,r=0,s=0;const L=[],W=n[e].x,re=n[e+t-1].x-W;for(o=e;o<e+t;++o){c=n[o],h=(c.x-W)/re*i,p=c.y;const ce=0|h;if(ce===b)p<P?(P=p,x=o):p>F&&(F=p,I=o),r=(s*r+c.x)/++s;else{const ge=o-1;if(!Fn(x)&&!Fn(I)){const Be=Math.min(x,I),Ve=Math.max(x,I);Be!==M&&Be!==ge&&L.push({...n[Be],x:r}),Ve!==M&&Ve!==ge&&L.push({...n[Ve],x:r})}o>0&&ge!==M&&L.push(n[ge]),L.push(c),b=ce,s=0,P=F=p,x=I=M=o}}return L}(p,x,I,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=P}})},destroy(n){NV(n)}};function z1(n,e,t,i){if(i)return;let r=e[n],s=t[n];return"angle"===n&&(r=Ga(r),s=Ga(s)),{property:n,start:r,end:s}}function $1(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function LV(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function VV(n,e){let t=[],i=!1;return Ii(n)?(i=!0,t=n):t=function rW(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:c})=>{c=$1(o,c,r);const h=r[o],p=r[c];null!==i?(s.push({x:h.x,y:i}),s.push({x:p.x,y:i})):null!==t&&(s.push({x:t,y:h.y}),s.push({x:t,y:p.y}))}),s}(n,e),t.length?new OS({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function BV(n){return n&&!1!==n.fill}function sW(n,e,t){let r=n[e].fill;const s=[e];let o;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!ar(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function oW(n,e,t){const i=function uW(n){const e=n.options,t=e.fill;let i=un(t&&t.target,t);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Tn(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return ar(r)&&Math.floor(r)===r?function aW(n,e,t,i){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=i)&&t}(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function fW(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:c,point:h}=pW(s,e,"x");if(!(!h||o&&c))if(o)i.unshift(h);else if(n.push(h),!c)break}n.push(...i)}function pW(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,o=n.points;let c=!1,h=!1;for(let p=0;p<s.length;p++){const b=s[p],x=o[b.start][t],I=o[b.end][t];if(Oh(r,x,I)){c=r===x,h=r===I;break}}return{first:c,last:h,point:i}}class UV{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:o}=this;return e.arc(r,s,o,(t=t||{start:0,end:Si}).end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function G1(n,e,t){const i=function mW(n){const{chart:e,fill:t,line:i}=n;if(ar(t))return function gW(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function dW(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,c=function hW(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);c.push(VV({x:null,y:e.bottom},i));for(let h=0;h<s.length;h++){const p=s[h];for(let b=p.start;b<=p.end;b++)fW(r,o[b],c)}return new OS({points:r,options:{}})}(n);if("shape"===t)return!0;const r=function _W(n){return(n.scale||{}).getPointPositionForValue?function bW(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=function cW(n,e,t){let i;return i="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:Tn(n)?n.value:e.getBaseValue(),i}(t,e,s),c=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,s);return new UV({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(o)})}for(let h=0;h<r;++h)c.push(e.getPointPositionForValue(h,o));return c}(n):function yW(n){const{scale:e={},fill:t}=n,i=function lW(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:Tn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(ar(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof UV?r:VV(r,i)}(e),{line:r,scale:s,axis:o}=e,c=r.options,h=c.fill,p=c.backgroundColor,{above:b=p,below:x=p}=h||{};i&&r.points.length&&(bS(n,t),function vW(n,e){const{line:t,target:i,above:r,below:s,area:o,scale:c}=e,h=t._loop?"angle":e.axis;n.save(),"x"===h&&s!==r&&(HV(n,i,o.top),jV(n,{line:t,target:i,color:r,scale:c,property:h}),n.restore(),n.save(),HV(n,i,o.bottom)),jV(n,{line:t,target:i,color:s,scale:c,property:h}),n.restore()}(n,{line:r,target:i,above:b,below:x,area:t,scale:s,axis:o}),vS(n))}function HV(n,e,t){const{segments:i,points:r}=e;let s=!0,o=!1;n.beginPath();for(const c of i){const{start:h,end:p}=c,b=r[h],x=r[$1(h,p,r)];s?(n.moveTo(b.x,b.y),s=!1):(n.lineTo(b.x,t),n.lineTo(b.x,b.y)),o=!!e.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(x.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function jV(n,e){const{line:t,target:i,property:r,color:s,scale:o}=e,c=function iW(n,e,t){const i=n.segments,r=n.points,s=e.points,o=[];for(const c of i){let{start:h,end:p}=c;p=$1(h,p,r);const b=z1(t,r[h],r[p],c.loop);if(!e.segments){o.push({source:c,target:b,start:r[h],end:r[p]});continue}const x=N2(e,b);for(const I of x){const M=z1(t,s[I.start],s[I.end],I.loop),P=F2(c,r,M);for(const F of P)o.push({source:F,target:I,start:{[t]:LV(b,M,"start",Math.max)},end:{[t]:LV(b,M,"end",Math.min)}})}}return o}(t,i,r);for(const{source:h,target:p,start:b,end:x}of c){const{style:{backgroundColor:I=s}={}}=h,M=!0!==i;n.save(),n.fillStyle=I,wW(n,o,M&&z1(r,b,x)),n.beginPath();const P=!!t.pathSegment(n,h);let F;if(M){P?n.closePath():zV(n,i,x,r);const L=!!i.pathSegment(n,p,{move:P,reverse:!0});F=P&&L,F||zV(n,i,b,r)}n.closePath(),n.fill(F?"evenodd":"nonzero"),n.restore()}}function wW(n,e,t){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:c}=t||{};"x"===s&&(n.beginPath(),n.rect(o,i,c-o,r-i),n.clip())}function zV(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var xW={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,o,c,h;for(o=0;o<i;++o)s=n.getDatasetMeta(o),c=s.dataset,h=null,c&&c.options&&c instanceof OS&&(h={visible:n.isDatasetVisible(o),index:o,fill:oW(c,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=h,r.push(h);for(o=0;o<i;++o)h=r[o],h&&!1!==h.fill&&(h.fill=sW(r,o,t.propagate))},beforeDraw(n,e,t){const i="beforeDraw"===t.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&G1(n.ctx,c,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;BV(s)&&G1(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!BV(i)||"beforeDatasetDraw"!==t.drawTime||G1(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $V=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}};class GV extends Vc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=_i(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,r=Wr(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=$V(i,s);let p,b;t.font=r.string,this.isHorizontal()?(p=this.maxWidth,b=this._fitRows(o,s,c,h)+10):(b=this.maxHeight,p=this._fitCols(o,r,c,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(b,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],b=r+c;let x=e;s.textAlign="left",s.textBaseline="middle";let I=-1,M=-b;return this.legendItems.forEach((P,F)=>{const L=i+t/2+s.measureText(P.text).width;(0===F||p[p.length-1]+L+2*c>o)&&(x+=b,p[p.length-(F>0?0:1)]=0,M+=b,I++),h[F]={left:0,top:M,row:I,width:L,height:r},p[p.length-1]+=L+c}),x}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],b=o-e;let x=c,I=0,M=0,P=0,F=0;return this.legendItems.forEach((L,$)=>{const{itemWidth:W,itemHeight:ee}=function CW(n,e,t,i,r){const s=function DW(n,e,t,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}(i,n,e,t),o=function IW(n,e,t){let i=n;return"string"!=typeof e.text&&(i=qV(e,t)),i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}(i,t,s,L,r);$>0&&M+ee+2*c>b&&(x+=I+c,p.push({width:I,height:M}),P+=I+c,F++,I=M=0),h[$]={left:P,top:M,col:F,width:W,height:ee},I=Math.max(I,W),M+=ee+c}),x+=I,p.push({width:I,height:M}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=pv(s,this.left,this.width);if(this.isHorizontal()){let c=0,h=Ks(i,this.left+r,this.right-this.lineWidths[c]);for(const p of t)c!==p.row&&(c=p.row,h=Ks(i,this.left+r,this.right-this.lineWidths[c])),p.top+=this.top+e+r,p.left=o.leftForLtr(o.x(h),p.width),h+=p.width+r}else{let c=0,h=Ks(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const p of t)p.col!==c&&(c=p.col,h=Ks(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),p.top=h,p.left+=this.left+r,p.left=o.leftForLtr(o.x(p.left),p.width),h+=p.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;bS(e,this),this._draw(),vS(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,c=cr.color,h=pv(e.rtl,this.left,this.width),p=Wr(o.font),{padding:b}=o,x=p.size,I=x/2;let M;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:P,boxHeight:F,itemHeight:L}=$V(o,x),ee=this.isHorizontal(),re=this._computeTitleHeight();M=ee?{x:Ks(s,this.left+b,this.right-i[0]),y:this.top+b+re,line:0}:{x:this.left+b,y:Ks(s,this.top+re+b,this.bottom-t[0].height),line:0},R2(this.ctx,e.textDirection);const ce=L+b;this.legendItems.forEach((ge,Be)=>{r.strokeStyle=ge.fontColor,r.fillStyle=ge.fontColor;const Ve=r.measureText(ge.text).width,gt=h.textAlign(ge.textAlign||(ge.textAlign=o.textAlign)),Wt=P+I+Ve;let ln=M.x,dn=M.y;h.setWidth(this.width),ee?Be>0&&ln+Wt+b>this.right&&(dn=M.y+=ce,M.line++,ln=M.x=Ks(s,this.left+b,this.right-i[M.line])):Be>0&&dn+ce>this.bottom&&(ln=M.x=ln+t[M.line].width+b,M.line++,dn=M.y=Ks(s,this.top+re+b,this.bottom-t[M.line].height)),function(ge,Be,Ve){if(isNaN(P)||P<=0||isNaN(F)||F<0)return;r.save();const gt=un(Ve.lineWidth,1);if(r.fillStyle=un(Ve.fillStyle,c),r.lineCap=un(Ve.lineCap,"butt"),r.lineDashOffset=un(Ve.lineDashOffset,0),r.lineJoin=un(Ve.lineJoin,"miter"),r.lineWidth=gt,r.strokeStyle=un(Ve.strokeStyle,c),r.setLineDash(un(Ve.lineDash,[])),o.usePointStyle){const Wt={radius:F*Math.SQRT2/2,pointStyle:Ve.pointStyle,rotation:Ve.rotation,borderWidth:gt},ln=h.xPlus(ge,P/2);y2(r,Wt,ln,Be+I,o.pointStyleWidth&&P)}else{const Wt=Be+Math.max((x-F)/2,0),ln=h.leftForLtr(ge,P),dn=l_(Ve.borderRadius);r.beginPath(),Object.values(dn).some(Ti=>0!==Ti)?Kx(r,{x:ln,y:Wt,w:P,h:F,radius:dn}):r.rect(ln,Wt,P,F),r.fill(),0!==gt&&r.stroke()}r.restore()}(h.x(ln),dn,ge),ln=((n,e,t,i)=>n===(i?"left":"right")?t:"center"===n?(e+t)/2:e)(gt,ln+P+I,ee?ln+Wt:this.right,e.rtl),function(ge,Be,Ve){a_(r,Ve.text,ge,Be+L/2,p,{strikethrough:Ve.hidden,textAlign:h.textAlign(Ve.textAlign)})}(h.x(ln),dn,ge),ee?M.x+=Wt+b:M.y+="string"!=typeof ge.text?qV(ge,p.lineHeight):ce}),k2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Wr(t.font),r=Zs(t.padding);if(!t.display)return;const s=pv(e.rtl,this.left,this.width),o=this.ctx,c=t.position,p=r.top+i.size/2;let b,x=this.left,I=this.width;if(this.isHorizontal())I=Math.max(...this.lineWidths),b=this.top+p,x=Ks(e.align,x,this.right-I);else{const P=this.columnSizes.reduce((F,L)=>Math.max(F,L.height),0);b=p+Ks(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const M=Ks(c,x,x+I);o.textAlign=s.textAlign(_1(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,a_(o,t.text,M,b,i)}_computeTitleHeight(){const e=this.options.title,t=Wr(e.font),i=Zs(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Oh(e,this.left,this.right)&&Oh(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Oh(e,r.left,r.left+r.width)&&Oh(t,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function SW(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(r,i);r&&!s&&_i(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&_i(t.onHover,[e,i,this],this)}else i&&_i(t.onClick,[e,i,this],this)}}function qV(n,e){return e*(n.text?n.text.length+.5:0)}var TW={id:"legend",_element:GV,start(n,e,t){const i=n.legend=new GV({ctx:n.ctx,options:t,chart:n});Ys.configure(n,i,t),Ys.addBox(n,i)},stop(n){Ys.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Ys.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(t?0:void 0),b=Zs(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:o&&(c||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class q1 extends Vc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Ii(i.text)?i.text.length:1;this._padding=Zs(i.padding);const s=r*Wr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,c=o.align;let p,b,x,h=0;return this.isHorizontal()?(b=Ks(c,i,s),x=t+e,p=s-i):("left"===o.position?(b=i+e,x=Ks(c,r,t),h=-.5*Bi):(b=s-e,x=Ks(c,t,r),h=.5*Bi),p=r-t),{titleX:b,titleY:x,maxWidth:p,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Wr(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:h,rotation:p}=this._drawArgs(s);a_(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:p,textAlign:_1(t.align),textBaseline:"middle",translation:[o,c]})}}var AW={id:"title",_element:q1,start(n,e,t){!function MW(n,e){const t=new q1({ctx:n.ctx,options:e,chart:n});Ys.configure(n,t,e),Ys.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){Ys.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Ys.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const FS=new WeakMap;var RW={id:"subtitle",start(n,e,t){const i=new q1({ctx:n.ctx,options:t,chart:n});Ys.configure(n,i,t),Ys.addBox(n,i),FS.set(n,i)},stop(n){Ys.removeBox(n,FS.get(n)),FS.delete(n)},beforeUpdate(n,e,t){const i=FS.get(n);Ys.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sE={average(n){if(!n.length)return!1;let e,t,i=0,r=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();i+=c.x,r+=c.y,++s}}return{x:i/s,y:r/s}},nearest(n,e){if(!n.length)return!1;let s,o,c,t=e.x,i=e.y,r=Number.POSITIVE_INFINITY;for(s=0,o=n.length;s<o;++s){const h=n[s].element;if(h&&h.hasValue()){const b=m1(e,h.getCenterPoint());b<r&&(r=b,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function rd(n,e){return e&&(Ii(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Lh(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function kW(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function WV(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:c}=e,h=Wr(e.bodyFont),p=Wr(e.titleFont),b=Wr(e.footerFont),x=s.length,I=r.length,M=i.length,P=Zs(e.padding);let F=P.height,L=0,$=i.reduce((re,ce)=>re+ce.before.length+ce.lines.length+ce.after.length,0);$+=n.beforeBody.length+n.afterBody.length,x&&(F+=x*p.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),$&&(F+=M*(e.displayColors?Math.max(c,h.lineHeight):h.lineHeight)+($-M)*h.lineHeight+($-1)*e.bodySpacing),I&&(F+=e.footerMarginTop+I*b.lineHeight+(I-1)*e.footerSpacing);let W=0;const ee=function(re){L=Math.max(L,t.measureText(re).width+W)};return t.save(),t.font=p.string,Zn(n.title,ee),t.font=h.string,Zn(n.beforeBody.concat(n.afterBody),ee),W=e.displayColors?o+2+e.boxPadding:0,Zn(i,re=>{Zn(re.before,ee),Zn(re.lines,ee),Zn(re.after,ee)}),W=0,t.font=b.string,Zn(n.footer,ee),t.restore(),L+=P.width,{width:L,height:F}}function FW(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:c,right:h}}=n;let p="center";return"center"===i?p=r<=(c+h)/2?"left":"right":r<=s/2?p="left":r>=o-s/2&&(p="right"),function PW(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if("left"===n&&r+s+o>e.width||"right"===n&&r-s-o<0)return!0}(p,n,e,t)&&(p="center"),p}function KV(n,e,t){const i=t.yAlign||e.yAlign||function OW(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||FW(n,e,t,i),yAlign:i}}function ZV(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:c,yAlign:h}=t,p=r+s,{topLeft:b,topRight:x,bottomLeft:I,bottomRight:M}=l_(o);let P=function NW(n,e){let{x:t,width:i}=n;return"right"===e?t-=i:"center"===e&&(t-=i/2),t}(e,c);const F=function LW(n,e,t){let{y:i,height:r}=n;return"top"===e?i+=t:i-="bottom"===e?r+t:r/2,i}(e,h,p);return"center"===h?"left"===c?P+=p:"right"===c&&(P-=p):"left"===c?P-=Math.max(b,I)+r:"right"===c&&(P+=Math.max(x,M)+r),{x:fs(P,0,i.width-e.width),y:fs(F,0,i.height-e.height)}}function NS(n,e,t){const i=Zs(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-i.right:n.x+i.left}function YV(n){return rd([],Lh(n))}function QV(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const XV={beforeTitle:kh,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:kh,beforeBody:kh,beforeLabel:kh,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Fn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:kh,afterBody:kh,beforeFooter:kh,footer:kh,afterFooter:kh};function Xo(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?XV[e].call(t,i):r}let JV=(()=>{class n extends Vc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new U2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function VW(n,e,t){return Xp(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:r}=i,s=Xo(r,"beforeTitle",this,t),o=Xo(r,"title",this,t),c=Xo(r,"afterTitle",this,t);let h=[];return h=rd(h,Lh(s)),h=rd(h,Lh(o)),h=rd(h,Lh(c)),h}getBeforeBody(t,i){return YV(Xo(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:r}=i,s=[];return Zn(t,o=>{const c={before:[],lines:[],after:[]},h=QV(r,o);rd(c.before,Lh(Xo(h,"beforeLabel",this,o))),rd(c.lines,Xo(h,"label",this,o)),rd(c.after,Lh(Xo(h,"afterLabel",this,o))),s.push(c)}),s}getAfterBody(t,i){return YV(Xo(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:r}=i,s=Xo(r,"beforeFooter",this,t),o=Xo(r,"footer",this,t),c=Xo(r,"afterFooter",this,t);let h=[];return h=rd(h,Lh(s)),h=rd(h,Lh(o)),h=rd(h,Lh(c)),h}_createItems(t){const i=this._active,r=this.chart.data,s=[],o=[],c=[];let p,b,h=[];for(p=0,b=i.length;p<b;++p)h.push(kW(this.chart,i[p]));return t.filter&&(h=h.filter((x,I,M)=>t.filter(x,I,M,r))),t.itemSort&&(h=h.sort((x,I)=>t.itemSort(x,I,r))),Zn(h,x=>{const I=QV(t.callbacks,x);s.push(Xo(I,"labelColor",this,x)),o.push(Xo(I,"labelPointStyle",this,x)),c.push(Xo(I,"labelTextColor",this,x))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,i){const r=this.options.setContext(this.getContext()),s=this._active;let o,c=[];if(s.length){const h=sE[r.position].call(this,s,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const p=this._size=WV(this,r),b=Object.assign({},h,p),x=KV(this.chart,r,b),I=ZV(r,b,x,this.chart);this.xAlign=x.xAlign,this.yAlign=x.yAlign,o={opacity:1,x:I.x,y:I.y,width:p.width,height:p.height,caretX:h.x,caretY:h.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,s){const o=this.getCaretPosition(t,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,r){const{xAlign:s,yAlign:o}=this,{caretSize:c,cornerRadius:h}=r,{topLeft:p,topRight:b,bottomLeft:x,bottomRight:I}=l_(h),{x:M,y:P}=t,{width:F,height:L}=i;let $,W,ee,re,ce,ge;return"center"===o?(ce=P+L/2,"left"===s?($=M,W=$-c,re=ce+c,ge=ce-c):($=M+F,W=$+c,re=ce-c,ge=ce+c),ee=$):(W="left"===s?M+Math.max(p,x)+c:"right"===s?M+F-Math.max(b,I)-c:this.caretX,"top"===o?(re=P,ce=re-c,$=W-c,ee=W+c):(re=P+L,ce=re+c,$=W+c,ee=W-c),ge=re),{x1:$,x2:W,x3:ee,y1:re,y2:ce,y3:ge}}drawTitle(t,i,r){const s=this.title,o=s.length;let c,h,p;if(o){const b=pv(r.rtl,this.x,this.width);for(t.x=NS(this,r.titleAlign,r),i.textAlign=b.textAlign(r.titleAlign),i.textBaseline="middle",c=Wr(r.titleFont),h=r.titleSpacing,i.fillStyle=r.titleColor,i.font=c.string,p=0;p<o;++p)i.fillText(s[p],b.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,p+1===o&&(t.y+=r.titleMarginBottom-h)}}_drawColorBox(t,i,r,s,o){const c=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:p,boxWidth:b}=o,x=Wr(o.bodyFont),I=NS(this,"left",o),M=s.x(I),F=i.y+(p<x.lineHeight?(x.lineHeight-p)/2:0);if(o.usePointStyle){const L={radius:Math.min(b,p)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},$=s.leftForLtr(M,b)+b/2,W=F+p/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,x1(t,L,$,W),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,x1(t,L,$,W)}else{t.lineWidth=Tn(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const L=s.leftForLtr(M,b),$=s.leftForLtr(s.xPlus(M,1),b-2),W=l_(c.borderRadius);Object.values(W).some(ee=>0!==ee)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Kx(t,{x:L,y:F,w:b,h:p,radius:W}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Kx(t,{x:$,y:F+1,w:b-2,h:p-2,radius:W}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(L,F,b,p),t.strokeRect(L,F,b,p),t.fillStyle=c.backgroundColor,t.fillRect($,F+1,b-2,p-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){const{body:s}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:p,boxWidth:b,boxPadding:x}=r,I=Wr(r.bodyFont);let M=I.lineHeight,P=0;const F=pv(r.rtl,this.x,this.width),L=function(gt){i.fillText(gt,F.x(t.x+P),t.y+M/2),t.y+=M+o},$=F.textAlign(c);let W,ee,re,ce,ge,Be,Ve;for(i.textAlign=c,i.textBaseline="middle",i.font=I.string,t.x=NS(this,$,r),i.fillStyle=r.bodyColor,Zn(this.beforeBody,L),P=h&&"right"!==$?"center"===c?b/2+x:b+2+x:0,ce=0,Be=s.length;ce<Be;++ce){for(W=s[ce],ee=this.labelTextColors[ce],i.fillStyle=ee,Zn(W.before,L),re=W.lines,h&&re.length&&(this._drawColorBox(i,t,ce,F,r),M=Math.max(I.lineHeight,p)),ge=0,Ve=re.length;ge<Ve;++ge)L(re[ge]),M=I.lineHeight;Zn(W.after,L)}P=0,M=I.lineHeight,Zn(this.afterBody,L),t.y-=o}drawFooter(t,i,r){const s=this.footer,o=s.length;let c,h;if(o){const p=pv(r.rtl,this.x,this.width);for(t.x=NS(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=p.textAlign(r.footerAlign),i.textBaseline="middle",c=Wr(r.footerFont),i.fillStyle=r.footerColor,i.font=c.string,h=0;h<o;++h)i.fillText(s[h],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,i,r,s){const{xAlign:o,yAlign:c}=this,{x:h,y:p}=t,{width:b,height:x}=r,{topLeft:I,topRight:M,bottomLeft:P,bottomRight:F}=l_(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(h+I,p),"top"===c&&this.drawCaret(t,i,r,s),i.lineTo(h+b-M,p),i.quadraticCurveTo(h+b,p,h+b,p+M),"center"===c&&"right"===o&&this.drawCaret(t,i,r,s),i.lineTo(h+b,p+x-F),i.quadraticCurveTo(h+b,p+x,h+b-F,p+x),"bottom"===c&&this.drawCaret(t,i,r,s),i.lineTo(h+P,p+x),i.quadraticCurveTo(h,p+x,h,p+x-P),"center"===c&&"left"===o&&this.drawCaret(t,i,r,s),i.lineTo(h,p+I),i.quadraticCurveTo(h,p,h+I,p),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const c=sE[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=WV(this,t),p=Object.assign({},c,this._size),b=KV(i,t,p),x=ZV(t,p,b,i);(s._to!==x.x||o._to!==x.y)&&(this.xAlign=b.xAlign,this.yAlign=b.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,x))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Zs(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,i),R2(t,i.textDirection),o.y+=c.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),k2(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const r=this._active,s=t.map(({datasetIndex:h,index:p})=>{const b=this.chart.getDatasetMeta(h);if(!b)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:b.data[p],index:p}}),o=!fS(r,s),c=this._positionChanged(s,i);(o||c)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],c=this._getActiveElements(t,o,i,r),h=this._positionChanged(c,t),p=i||!fS(c,o)||h;return p&&(this._active=c,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),p}_getActiveElements(t,i,r,s){const o=this.options;if("mouseout"===t.type)return[];if(!s)return i;const c=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&c.reverse(),c}_positionChanged(t,i){const{caretX:r,caretY:s,options:o}=this,c=sE[o.position].call(this,t,i);return!1!==c&&(r!==c.x||s!==c.y)}}return lt(n,"positioners",sE),n})();var BW={id:"tooltip",_element:JV,positioners:sE,afterInit(n,e,t){t&&(n.tooltip=new JV({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:XV},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},UW=Object.freeze({__proto__:null,Colors:X8,Decimation:nW,Filler:xW,Legend:TW,SubTitle:RW,Title:AW,Tooltip:BW});function eB(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}let $W=(()=>{class n extends f_{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(Fn(t))return null;const r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:function jW(n,e,t,i){const r=n.indexOf(e);return-1===r?((n,e,t,i)=>("string"==typeof e?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,i):r!==n.lastIndexOf(e)?t:r}(r,t,un(i,t),this._addedLabels),((n,e)=>null===n?null:fs(Math.round(n),0,e))(i,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,i=this.max,r=this.options.offset,s=[];let o=this.getLabels();o=0===t&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=t;c<=i;c++)s.push({value:c});return s}getLabelForValue(t){return eB.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return lt(n,"id","category"),lt(n,"defaults",{ticks:{callback:eB}}),n})();function tB(n,e,{horizontal:t,minRotation:i}){const r=Lc(i),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(e/s,.75*e*(""+n).length)}class LS extends f_{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Fn(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=h=>r=t?r:h,c=h=>s=i?s:h;if(e){const h=nd(r),p=nd(s);h<0&&p<0?c(0):h>0&&p>0&&o(0)}if(r===s){let h=0===s?1:Math.abs(.05*s);c(s+h),e||o(r-h)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let r,{maxTicksLimit:t,stepSize:i}=e;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function GW(n,e){const t=[],{bounds:r,step:s,min:o,max:c,precision:h,count:p,maxTicks:b,maxDigits:x,includeBounds:I}=n,M=s||1,P=b-1,{min:F,max:L}=e,$=!Fn(o),W=!Fn(c),ee=!Fn(p),re=(L-F)/(x+1);let ge,Be,Ve,gt,ce=e2((L-F)/P/M)*M;if(ce<1e-14&&!$&&!W)return[{value:F},{value:L}];gt=Math.ceil(L/ce)-Math.floor(F/ce),gt>P&&(ce=e2(gt*ce/P/M)*M),Fn(h)||(ge=Math.pow(10,h),ce=Math.ceil(ce*ge)/ge),"ticks"===r?(Be=Math.floor(F/ce)*ce,Ve=Math.ceil(L/ce)*ce):(Be=F,Ve=L),$&&W&&s&&function P6(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((c-o)/s,ce/1e3)?(gt=Math.round(Math.min((c-o)/ce,b)),ce=(c-o)/gt,Be=o,Ve=c):ee?(Be=$?o:Be,Ve=W?c:Ve,gt=p-1,ce=(Ve-Be)/gt):(gt=(Ve-Be)/ce,gt=zx(gt,Math.round(gt),ce/1e3)?Math.round(gt):Math.ceil(gt));const Wt=Math.max(n2(ce),n2(Be));ge=Math.pow(10,Fn(h)?Wt:h),Be=Math.round(Be*ge)/ge,Ve=Math.round(Ve*ge)/ge;let ln=0;for($&&(I&&Be!==o?(t.push({value:o}),Be<o&&ln++,zx(Math.round((Be+ln*ce)*ge)/ge,o,tB(o,re,n))&&ln++):Be<o&&ln++);ln<gt;++ln){const dn=Math.round((Be+ln*ce)*ge)/ge;if(W&&dn>c)break;t.push({value:dn})}return W&&I&&Ve!==c?t.length&&zx(t[t.length-1].value,c,tB(c,re,n))?t[t.length-1].value=c:t.push({value:c}):(!W||Ve===c)&&t.push({value:Ve}),t}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&t2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return qx(e,this.chart.options.locale,this.options.ticks.format)}}class W1 extends LS{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ar(e)?e:0,this.max=ar(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Lc(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}lt(W1,"id","linear"),lt(W1,"defaults",{ticks:{callback:_S.formatters.numeric}});const oE=n=>Math.floor(Qp(n)),p_=(n,e)=>Math.pow(10,oE(n)+e);function nB(n){return n/Math.pow(10,oE(n))==1}function iB(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}class K1 extends f_{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=LS.prototype.parse.apply(this,[e,t]);if(0!==i)return ar(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ar(e)?Math.max(0,e):null,this.max=ar(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ar(this._userMin)&&(this.min=e===p_(this.min,0)?p_(this.min,-1):p_(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=c=>i=e?i:c,o=c=>r=t?r:c;i===r&&(i<=0?(s(1),o(10)):(s(p_(i,-1)),o(p_(r,1)))),i<=0&&s(p_(r,-1)),r<=0&&o(p_(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,i=function WW(n,{min:e,max:t}){e=$a(n.min,e);const i=[],r=oE(e);let s=function qW(n,e){let i=oE(e-n);for(;iB(n,e,i)>10;)i++;for(;iB(n,e,i)<10;)i--;return Math.min(i,oE(n))}(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const c=Math.pow(10,s),h=r>s?Math.pow(10,r):0,p=Math.round((e-h)*o)/o,b=Math.floor((e-h)/c/10)*c*10;let x=Math.floor((p-b)/Math.pow(10,s)),I=$a(n.min,Math.round((h+b+x*Math.pow(10,s))*o)/o);for(;I<t;)i.push({value:I,major:nB(I),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(s++,x=2,o=s>=0?1:o),I=Math.round((h+b+x*Math.pow(10,s))*o)/o;const M=$a(n.max,I);return i.push({value:M,major:nB(M),significand:x}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&t2(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return void 0===e?"0":qx(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Qp(e),this._valueRange=Qp(this.max)-Qp(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Qp(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Z1(n){const e=n.ticks;if(e.display&&n.display){const t=Zs(e.backdropPadding);return un(e.font&&e.font.size,cr.font.size)+t.height}return 0}function KW(n,e,t){return t=Ii(t)?t:[t],{w:Q6(n,e.string,t),h:t.length*e.lineHeight}}function rB(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function YW(n,e,t,i,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let c=0,h=0;i.start<e.l?(c=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-c)):i.end>e.r&&(c=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+c)),r.start<e.t?(h=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-h)):r.end>e.b&&(h=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+h))}function QW(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:c}=t,h=n.getPointPosition(e,i+r+o,s),p=Math.round(p1(Ga(h.angle+lr))),b=function n9(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}(h.y,c.h,p),x=function e9(n){return 0===n||180===n?"center":n<180?"left":"right"}(p),I=function t9(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}(h.x,c.w,x);return{visible:!0,x:h.x,y:b,textAlign:x,left:I,top:b,right:I+c.w,bottom:b+c.h}}function XW(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:s}=n;return!(Fh({x:t,y:i},e)||Fh({x:t,y:s},e)||Fh({x:r,y:i},e)||Fh({x:r,y:s},e))}function i9(n,e,t){const{left:i,top:r,right:s,bottom:o}=t,{backdropColor:c}=e;if(!Fn(c)){const h=l_(e.borderRadius),p=Zs(e.backdropPadding);n.fillStyle=c;const b=i-p.left,x=r-p.top,I=s-i+p.width,M=o-r+p.height;Object.values(h).some(P=>0!==P)?(n.beginPath(),Kx(n,{x:b,y:x,w:I,h:M,radius:h}),n.fill()):n.fillRect(b,x,I,M)}}function sB(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,Si);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}lt(K1,"id","logarithmic"),lt(K1,"defaults",{ticks:{callback:_S.formatters.logarithmic,major:{enabled:!0}}});class aE extends LS{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Zs(Z1(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ar(e)&&!isNaN(e)?e:0,this.max=ar(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Z1(this.options))}generateTickLabels(e){LS.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=_i(this.options.pointLabels.callback,[t,i],this);return r||0===r?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?function ZW(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,c=o.centerPointLabels?Bi/s:0;for(let h=0;h<s;h++){const p=o.setContext(n.getPointLabelContext(h));r[h]=p.padding;const b=n.getPointPosition(h,n.drawingArea+r[h],c),x=Wr(p.font),I=KW(n.ctx,x,n._pointLabels[h]);i[h]=I;const M=Ga(n.getIndexAngle(h)+c),P=Math.round(p1(M));YW(t,e,M,rB(P,b.x,I.w,0,180),rB(P,b.y,I.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function JW(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:c}=s.pointLabels,h={extra:Z1(s)/2,additionalAngle:o?Bi/r:0};let p;for(let b=0;b<r;b++){h.padding=t[b],h.size=e[b];const x=QW(n,b,h);i.push(x),"auto"===c&&(x.visible=XW(x,p),x.visible&&(p=x))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){return Ga(e*(Si/(this._pointLabels.length||1))+Lc(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Fn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Fn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function o9(n,e,t){return Xp(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-lr+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),sB(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length;let c,h,p;if(t.pointLabels.display&&function r9(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(n.getPointLabelContext(r));i9(t,o,s);const c=Wr(o.font),{x:h,y:p,textAlign:b}=s;a_(t,n._pointLabels[r],h,p+c.lineHeight/2,c,{color:o.color,textAlign:b,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((b,x)=>{if(0!==x){h=this.getDistanceFromCenterForValue(b.value);const I=this.getContext(x),M=r.setContext(I),P=s.setContext(I);!function s9(n,e,t,i,r){const s=n.ctx,o=e.circular,{color:c,lineWidth:h}=e;!o&&!i||!c||!h||t<0||(s.save(),s.strokeStyle=c,s.lineWidth=h,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),sB(n,t,o,i),s.closePath(),s.stroke(),s.restore())}(this,M,h,o,P)}}),i.display){for(e.save(),c=o-1;c>=0;c--){const b=i.setContext(this.getPointLabelContext(c)),{color:x,lineWidth:I}=b;!I||!x||(e.lineWidth=I,e.strokeStyle=x,e.setLineDash(b.borderDash),e.lineDashOffset=b.borderDashOffset,h=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),p=this.getPointPosition(c,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(p.x,p.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,h)=>{if(0===h&&!t.reverse)return;const p=i.setContext(this.getContext(h)),b=Wr(p.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),p.showLabelBackdrop){e.font=b.string,o=e.measureText(c.label).width,e.fillStyle=p.backdropColor;const x=Zs(p.backdropPadding);e.fillRect(-o/2-x.left,-s-b.size/2-x.top,o+x.width,b.size+x.height)}a_(e,c.label,0,-s,b,{color:p.color})}),e.restore()}drawTitle(){}}lt(aE,"id","radialLinear"),lt(aE,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_S.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}}),lt(aE,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),lt(aE,"descriptors",{angleLines:{_fallback:"grid"}});const VS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jo=Object.keys(VS);function a9(n,e){return n-e}function oB(n,e){if(Fn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return"function"==typeof i&&(o=i(o)),ar(o)||(o="string"==typeof i?t.parse(o,i):t.parse(o)),null===o?null:(r&&(o="week"!==r||!dv(s)&&!0!==s?t.startOf(o,r):t.startOf(o,"isoWeek",s)),+o)}function aB(n,e,t,i){const r=Jo.length;for(let s=Jo.indexOf(n);s<r-1;++s){const o=VS[Jo[s]];if(o.common&&Math.ceil((t-e)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=i)return Jo[s]}return Jo[r-1]}function lB(n,e,t){if(t){if(t.length){const{lo:i,hi:r}=g1(t,e);n[t[i]>=e?t[i]:t[r]]=!0}}else n[e]=!0}function cB(n,e,t){const i=[],r={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],r[c]=o,i.push({value:c,major:!1});return 0!==s&&t?function u9(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let c,h;for(c=s;c<=o;c=+r.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}(n,i,r,t):i}let Y1=(()=>{class n extends f_{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const r=t.time||(t.time={}),s=this._adapter=new gq__date(t.adapters.date);s.init(i),Hx(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:oB(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,r=t.time.unit||"day";let{min:s,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function p(b){!c&&!isNaN(b.min)&&(s=Math.min(s,b.min)),!h&&!isNaN(b.max)&&(o=Math.max(o,b.max))}(!c||!h)&&(p(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&p(this.getMinMax(!1))),s=ar(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=ar(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){const t=this.options,i=t.time,r=t.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,h=function V6(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,o,this.max);return this._unit=i.unit||(r.autoSkip?aB(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):function l9(n,e,t,i,r){for(let s=Jo.length-1;s>=Jo.indexOf(t);s--){const o=Jo[s];if(VS[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Jo[t?Jo.indexOf(t):0]}(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function c9(n){for(let e=Jo.indexOf(n)+1,t=Jo.length;e<t;++e)if(VS[Jo[e]].common)return Jo[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&h.reverse(),cB(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s,o,i=0,r=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),i=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),r=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;i=fs(i,0,c),r=fs(r,0,c),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,c=o.unit||aB(o.minUnit,i,r,this._getLabelCapacity(i)),h=un(s.ticks.stepSize,1),p="week"===c&&o.isoWeekday,b=dv(p)||!0===p,x={};let M,P,I=i;if(b&&(I=+t.startOf(I,"isoWeek",p)),I=+t.startOf(I,b?"day":c),t.diff(r,i,c)>1e5*h)throw new Error(i+" and "+r+" are too far apart with stepSize of "+h+" "+c);const F="data"===s.ticks.source&&this.getDataTimestamps();for(M=I,P=0;M<r;M=+t.add(M,h,c),P++)lB(x,M,F);return(M===r||"ticks"===s.bounds||1===P)&&lB(x,M,F),Object.keys(x).sort((L,$)=>L-$).map(L=>+L)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(t,i){return this._adapter.format(t,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,i,r,s){const o=this.options,c=o.ticks.callback;if(c)return _i(c,[t,i,r],this);const h=o.time.displayFormats,p=this._unit,b=this._majorUnit,I=b&&h[b],M=r[i];return this._adapter.format(t,s||(b&&I&&M&&M.major?I:p&&h[p]))}generateTickLabels(t){let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){const i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,r=this.ctx.measureText(t).width,s=Lc(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),c=Math.sin(s),h=this._resolveTickFontOptions(0).size;return{w:r*o+h*c,h:r*c+h*o}}_getLabelCapacity(t){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(t,0,cB(this,[t],this._majorUnit),s),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let i,r,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,r;if(t.length)return t;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)t.push(oB(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return a2(t.sort(a9))}}return lt(n,"id","time"),lt(n,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),n})();function BS(n,e,t){let s,o,c,h,i=0,r=n.length-1;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=Ph(n,"pos",e)),({pos:s,time:c}=n[i]),({pos:o,time:h}=n[r])):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=Ph(n,"time",e)),({time:s,pos:c}=n[i]),({time:o,pos:h}=n[r]));const p=o-s;return p?c+(h-c)*(e-s)/p:c}class Q1 extends Y1{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=BS(t,this.min),this._tableRange=BS(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,c,h,p,b;for(o=0,c=e.length;o<c;++o)p=e[o],p>=t&&p<=i&&r.push(p);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)b=r[o+1],h=r[o-1],p=r[o],Math.round((b+h)/2)!==p&&s.push({time:p,pos:o/(c-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(BS(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return BS(this._table,i*this._tableRange+this._minPos,!0)}}lt(Q1,"id","timeseries"),lt(Q1,"defaults",Y1.defaults),V1.register(mq,q8,UW,Object.freeze({__proto__:null,CategoryScale:$W,LinearScale:W1,LogarithmicScale:K1,RadialLinearScale:aE,TimeScale:Y1,TimeSeriesScale:Q1}));const uB=["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)","rgba(168, 114, 146, 0.7)","rgba(150, 123, 139, 0.7)","rgba(101, 148, 14, 0.7)","rgba(3, 48, 181, 0.7)","rgba(216, 10, 10, 1)"];let f9=(()=>{class n{constructor(){this.labels=[],this.amount=[],this.backgroundColor=[]}ngOnChanges(t){t.billList&&this.chart&&(this.amount=[],this.labels=[],this.billList.forEach(i=>{this.amount.push(i.amount),this.labels.push(i.title),this.backgroundColor.push(uB[Math.floor(Math.random()*uB.length-1)])}),this.chart.data.labels=this.labels,this.chart.data.datasets[0].data=[],this.chart.data.datasets[0].data=this.amount,this.chart.update())}ngAfterViewInit(){}ngOnInit(){this.createChart()}createChart(){this.chart=new V1("MyChart",{type:"bar",data:{labels:this.labels,datasets:[{label:"Cost",data:this.amount,backgroundColor:this.backgroundColor,borderColor:"black",borderWidth:1}]},options:{aspectRatio:1.5}})}getTotalCost(){return this.billList.map(t=>t.amount).reduce((t,i)=>t+i,0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-bar-chart"]],inputs:{billList:"billList"},features:[d.TTD],decls:4,vars:4,consts:[["id","MyChart"]],template:function(t,i){1&t&&(d._uU(0),d.ALo(1,"currency"),d.TgZ(2,"canvas",0),d._uU(3),d.qZA()),2&t&&(d.hij("",d.lcZ(1,2,i.getTotalCost()),"\n"),d.xp6(3),d.Oqu(i.chart))},dependencies:[Gh],encapsulation:2}),n})();const p9=["mat-button",""],m9=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],g9=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],y9=["mat-icon-button",""],b9=["*"],v9=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],w9=cS(DL(e1(class{constructor(n){this._elementRef=n}})));let dB=(()=>{class n extends w9{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,d.f3M)(Xk),this._isFab=!1;const o=t.nativeElement.classList;for(const c of v9)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(h=>{o.add(h)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,i){if(1&t&&d.Gf(Lx,5),2&t){let r;d.iGM(r=d.CRH())&&(i.ripple=r.first)}},features:[d.qOj]}),n})(),E9=(()=>{class n extends dB{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Co),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:p9,ngContentSelectors:g9,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(d.F$t(m9),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(d.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),d.xp6(6),d.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Lx],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),D9=(()=>{class n extends dB{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Co),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:y9,ngContentSelectors:b9,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(d.F$t(),d._UZ(0,"span",0),d.Hsn(1),d._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(d.xp6(3),d.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Lx],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),I9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,t1,Vi]}),n})();const hB=Ax({passive:!0});let S9=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return rs.E;const i=Sh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Dn.x,o="cdk-text-field-autofilled",c=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,hB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",c,hB)}}),s}stopMonitoring(t){const i=Sh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Co),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function fB(...n){const e=(0,zr.jO)(n),{args:t,keys:i}=dl(n),r=new ni.y(s=>{const{length:o}=t;if(!o)return void s.complete();const c=new Array(o);let h=o,p=o;for(let b=0;b<o;b++){let x=!1;(0,ho.Xf)(t[b]).subscribe((0,mi.x)(s,I=>{x||(x=!0,p--),c[b]=I},()=>h--,void 0,()=>{(!h||!x)&&(p||s.next(i?Ho(i,c):c),s.complete())}))}});return e?r.pipe(uo(e)):r}const Al=new d.OlP("NgValueAccessor"),O9=!1;function tm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function gB(n){return null!=n&&"number"==typeof n.length}const Rs=new d.OlP("NgValidators"),nm=new d.OlP("NgAsyncValidators"),P9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class F9{static min(e){return function _B(n){return e=>{if(tm(e.value)||tm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function yB(n){return e=>{if(tm(e.value)||tm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function bB(n){return tm(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function vB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function wB(n){return tm(n.value)||P9.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function xB(n){return e=>tm(e.value)||!gB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function EB(n){return e=>gB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function CB(n){if(!n)return US;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(tm(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return AB(e)}static composeAsync(e){return RB(e)}}function US(n){return null}function DB(n){return null!=n}function IB(n){const e=(0,d.QGY)(n)?(0,gn.D)(n):n;if(O9&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function SB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function TB(n,e){return e.map(t=>t(n))}function MB(n){return n.map(e=>function N9(n){return!n.validate}(e)?e:t=>e.validate(t))}function AB(n){if(!n)return null;const e=n.filter(DB);return 0==e.length?null:function(t){return SB(TB(t,e))}}function J1(n){return null!=n?AB(MB(n)):null}function RB(n){if(!n)return null;const e=n.filter(DB);return 0==e.length?null:function(t){return fB(TB(t,e).map(IB)).pipe((0,wt.U)(SB))}}function eO(n){return null!=n?RB(MB(n)):null}function kB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function OB(n){return n._rawValidators}function PB(n){return n._rawAsyncValidators}function tO(n){return n?Array.isArray(n)?n:[n]:[]}function HS(n,e){return Array.isArray(n)?n.includes(e):n===e}function FB(n,e){const t=tO(e);return tO(n).forEach(r=>{HS(t,r)||t.push(r)}),t}function NB(n,e){return tO(e).filter(t=>!HS(n,t))}class LB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=J1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Do extends LB{get formDirective(){return null}get path(){return null}}class Vh extends LB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}function BB(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const rO=!1,lE="VALID",zS="INVALID",gv="PENDING",cE="DISABLED";function sO(n){return($S(n)?n.validators:n)||null}function oO(n,e){return($S(e)?e.asyncValidators:n)||null}function $S(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class jB{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lE}get invalid(){return this.status===zS}get pending(){return this.status==gv}get disabled(){return this.status===cE}get enabled(){return this.status!==cE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(FB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(FB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NB(e,this._rawAsyncValidators))}hasValidator(e){return HS(this._rawValidators,e)}hasAsyncValidator(e){return HS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cE,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lE,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lE||this.status===gv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cE:lE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gv,this._hasOwnPendingAsyncValidator=!0;const t=IB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?cE:this.errors?zS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gv)?gv:this._anyControlsHaveStatus(zS)?zS:lE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$S(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function G9(n){return Array.isArray(n)?J1(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function q9(n){return Array.isArray(n)?eO(n):n||null}(this._rawAsyncValidators)}}class aO extends jB{constructor(e,t,i){super(sO(t),oO(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function HB(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new d.vHH(1002,rO?function $9(n,e){return`Must supply a value for form control ${BB(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function UB(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new d.vHH(1e3,rO?function j9(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new d.vHH(1001,rO?function z9(n,e){return`Cannot find form control ${BB(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const uE=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>lO}),lO="always";function dE(n,e,t=lO){cO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Z9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zB(n,e)})}(n,e),function Q9(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Y9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function K9(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),KS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function WS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cO(n,e){const t=OB(n);null!==e.validator?n.setValidators(kB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=PB(n);null!==e.asyncValidator?n.setAsyncValidators(kB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();WS(e._rawValidators,r),WS(e._rawAsyncValidators,r)}function KS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=OB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=PB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return WS(e._rawValidators,i),WS(e._rawAsyncValidators,i),t}function zB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $B(n,e){cO(n,e)}function GB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const n7={provide:Do,useExisting:(0,d.Gpc)(()=>ZS)},hE=(()=>Promise.resolve())();let ZS=(()=>{class n extends Do{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new aO({},J1(t),eO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){hE.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),dE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){hE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){hE.then(()=>{const i=this._findContainer(t.path),r=new aO({});$B(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){hE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){hE.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,GB(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Rs,10),d.Y36(nm,10),d.Y36(uE,8))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([n7]),d.qOj]}),n})();function qB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function WB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const KB=class extends jB{constructor(e=null,t,i){super(sO(t),oO(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$S(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=WB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){WB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},f7={provide:Do,useExisting:(0,d.Gpc)(()=>YS)};let YS=(()=>{class n extends Do{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(KS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return dE(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){qS(t.control||null,t,!1),function t7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,GB(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(qS(i||null,t),(n=>n instanceof KB)(r)&&(dE(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);$B(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function X9(n,e){return KS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cO(this.form,this),this._oldForm&&KS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Rs,10),d.Y36(nm,10),d.Y36(uE,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([f7]),d.qOj,d.TTD]}),n})();class gU{}class k7{}const Bh="*";function O7(n,e){return{type:7,name:n,definitions:e,options:{}}}function P7(n,e=null){return{type:4,styles:e,timings:n}}function _U(n,e=null){return{type:2,steps:n,options:e}}function QS(n){return{type:6,styles:n,offset:null}}function F7(n,e,t){return{type:0,name:n,styles:e,options:t}}function N7(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function yU(n){Promise.resolve().then(n)}class fE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class bU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?yU(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const bO="!";let vU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L7=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Sh(t);return new ni.y(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Dn.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vU))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V7=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Fr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Pk(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Qk(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(L7),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),B7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[vU]}),n})();const U7=["matFormFieldNotchedOutline",""],H7=["*"],j7=["textField"],z7=["iconPrefixContainer"],$7=["textPrefixContainer"];function G7(n,e){1&n&&d._UZ(0,"span",19)}function q7(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",17),d.NdJ("cdkObserveContent",function(){d.CHM(t);const r=d.oxw(2);return d.KtG(r._refreshOutlineNotchWidth())}),d.Hsn(1,1),d.YNc(2,G7,1,0,"span",18),d.qZA()}if(2&n){const t=d.oxw(2);d.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function W7(n,e){if(1&n&&d.YNc(0,q7,3,6,"label",16),2&n){const t=d.oxw();d.Q6J("ngIf",t._hasFloatingLabel())}}function K7(n,e){1&n&&d._UZ(0,"div",20)}function Z7(n,e){}function Y7(n,e){if(1&n&&d.YNc(0,Z7,0,0,"ng-template",22),2&n){d.oxw(2);const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function Q7(n,e){if(1&n&&(d.TgZ(0,"div",21),d.YNc(1,Y7,1,1,"ng-template",9),d.qZA()),2&n){const t=d.oxw();d.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),d.xp6(1),d.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function X7(n,e){1&n&&(d.TgZ(0,"div",23,24),d.Hsn(2,2),d.qZA())}function J7(n,e){1&n&&(d.TgZ(0,"div",25,26),d.Hsn(2,3),d.qZA())}function eK(n,e){}function tK(n,e){if(1&n&&d.YNc(0,eK,0,0,"ng-template",22),2&n){d.oxw();const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function nK(n,e){1&n&&(d.TgZ(0,"div",27),d.Hsn(1,4),d.qZA())}function iK(n,e){1&n&&(d.TgZ(0,"div",28),d.Hsn(1,5),d.qZA())}function rK(n,e){1&n&&d._UZ(0,"div",29)}function sK(n,e){if(1&n&&(d.TgZ(0,"div",30),d.Hsn(1,6),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function oK(n,e){if(1&n&&(d.TgZ(0,"mat-hint",34),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function aK(n,e){if(1&n&&(d.TgZ(0,"div",31),d.YNc(1,oK,2,2,"mat-hint",32),d.Hsn(2,7),d._UZ(3,"div",33),d.Hsn(4,8),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const lK=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],cK=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let vO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})();const uK=new d.OlP("MatError");let dK=0,wU=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+dK++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(d.Ikx("id",i.id),d.uIk("align",null),d.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const hK=new d.OlP("MatPrefix"),fK=new d.OlP("MatSuffix");let xU=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function pK(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const EU="mdc-line-ripple--active",XS="mdc-line-ripple--deactivating";let CU=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(XS);"opacity"===r.propertyName&&o&&s.remove(EU,XS)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(XS),t.add(EU)}deactivate(){this._elementRef.nativeElement.classList.add(XS)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),DU=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:U7,ngContentSelectors:H7,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(d.F$t(),d._UZ(0,"div",0),d.TgZ(1,"div",1),d.Hsn(2),d.qZA(),d._UZ(3,"div",2)),2&t&&(d.xp6(1),d.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const mK={transitionMessages:O7("transitionMessages",[F7("enter",QS({opacity:1,transform:"translateY(0%)"})),N7("void => enter",[QS({opacity:0,transform:"translateY(-5px)"}),P7("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let IU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const SU=new d.OlP("MatFormField"),gK=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let TU=0,bK=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Fr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,o,c,h,p){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=c,this._animationMode=h,this._document=p,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+TU++,this._hintLabelId="mat-mdc-hint-"+TU++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Dn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=Boolean(c?.hideRequiredMarker),c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Tl(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,rN.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Tl(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Tl(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(Sx),d.Y36(Co),d.Y36(gK,8),d.Y36(d.QbO,8),d.Y36(oe))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,vO,5),d.Suo(r,vO,7),d.Suo(r,IU,5),d.Suo(r,hK,5),d.Suo(r,fK,5),d.Suo(r,uK,5),d.Suo(r,wU,5)),2&t){let s;d.iGM(s=d.CRH())&&(i._labelChildNonStatic=s.first),d.iGM(s=d.CRH())&&(i._labelChildStatic=s.first),d.iGM(s=d.CRH())&&(i._formFieldControl=s.first),d.iGM(s=d.CRH())&&(i._prefixChildren=s),d.iGM(s=d.CRH())&&(i._suffixChildren=s),d.iGM(s=d.CRH())&&(i._errorChildren=s),d.iGM(s=d.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(d.Gf(j7,5),d.Gf(z7,5),d.Gf($7,5),d.Gf(xU,5),d.Gf(DU,5),d.Gf(CU,5)),2&t){let r;d.iGM(r=d.CRH())&&(i._textField=r.first),d.iGM(r=d.CRH())&&(i._iconPrefixContainer=r.first),d.iGM(r=d.CRH())&&(i._textPrefixContainer=r.first),d.iGM(r=d.CRH())&&(i._floatingLabel=r.first),d.iGM(r=d.CRH())&&(i._notchedOutline=r.first),d.iGM(r=d.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&d.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:SU,useExisting:n}])],ngContentSelectors:cK,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(d.F$t(lK),d.YNc(0,W7,1,1,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),d.YNc(4,K7,1,0,"div",3),d.TgZ(5,"div",4),d.YNc(6,Q7,2,3,"div",5),d.YNc(7,X7,3,0,"div",6),d.YNc(8,J7,3,0,"div",7),d.TgZ(9,"div",8),d.YNc(10,tK,1,1,"ng-template",9),d.Hsn(11),d.qZA(),d.YNc(12,nK,2,0,"div",10),d.YNc(13,iK,2,0,"div",11),d.qZA(),d.YNc(14,rK,1,0,"div",12),d.qZA(),d.TgZ(15,"div",13),d.YNc(16,sK,2,1,"div",14),d.YNc(17,aK,5,2,"div",15),d.qZA()),2&t&&(d.xp6(2),d.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),d.xp6(2),d.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),d.xp6(2),d.Q6J("ngIf",i._hasOutline()),d.xp6(1),d.Q6J("ngIf",i._hasIconPrefix),d.xp6(1),d.Q6J("ngIf",i._hasTextPrefix),d.xp6(2),d.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),d.xp6(2),d.Q6J("ngIf",i._hasTextSuffix),d.xp6(1),d.Q6J("ngIf",i._hasIconSuffix),d.xp6(1),d.Q6J("ngIf",!i._hasOutline()),d.xp6(1),d.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),d.Q6J("ngSwitch",i._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},dependencies:[Ro,Ai,Ns,ko,V7,wU,xU,DU,CU],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[mK.transitionMessages]},changeDetection:0}),n})(),RU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,er,B7,Vi]}),n})();const vK=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),wK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xK=0;const EK=S5(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Dn.x}});let CK=(()=>{class n extends EK{get disabled(){return this._disabled}set disabled(t){this._disabled=Fr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(F9.required)??!1}set required(t){this._required=Fr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&XN().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Fr(t)}constructor(t,i,r,s,o,c,h,p,b,x){super(c,s,o,r),this._elementRef=t,this._platform=i,this._autofillMonitor=p,this._formField=x,this._uid="mat-input-"+xK++,this.focused=!1,this.stateChanges=new Dn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(P=>XN().has(P)),this._iOSKeyupListener=P=>{const F=P.target;!F.value&&0===F.selectionStart&&0===F.selectionEnd&&(F.setSelectionRange(1,1),F.setSelectionRange(0,0))};const I=this._elementRef.nativeElement,M=I.nodeName.toLowerCase();this._inputValueAccessor=h||I,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===M,this._isTextarea="textarea"===M,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){wK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Co),d.Y36(Vh,10),d.Y36(ZS,8),d.Y36(YS,8),d.Y36(M5),d.Y36(vK,10),d.Y36(S9),d.Y36(d.R0b),d.Y36(SU,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&d.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(d.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),d.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),d.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:IU,useExisting:n}]),d.qOj,d.TTD]}),n})(),DK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,RU,RU,T9,Vi]}),n})();const IK=["input"],SK=["*"];let kU=0;class OU{constructor(e,t){this.source=e,this.value=t}}const TK={provide:Al,useExisting:(0,d.Gpc)(()=>FU),multi:!0},PU=new d.OlP("MatRadioGroup"),MK=new d.OlP("mat-radio-default-options",{providedIn:"root",factory:function AK(){return{color:"accent"}}});let RK=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Fr(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Fr(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+kU++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new d.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new OU(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class kK{constructor(e){this._elementRef=e}}const OK=e1(IL(kK));let PK=(()=>{class n extends OK{get checked(){return this._checked}set checked(t){const i=Fr(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Fr(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Fr(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,s,o,c,h,p){super(i),this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=o,this._providerOverride=h,this._uniqueId="mat-radio-"+ ++kU,this.id=this._uniqueId,this.change=new d.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===c,p&&(this.tabIndex=Pk(p,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new OU(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,i){if(1&t&&d.Gf(IK,5),2&t){let r;d.iGM(r=d.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[d.qOj]}),n})(),FU=(()=>{class n extends RK{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,i,r){if(1&t&&d.Suo(r,NU,5),2&t){let s;d.iGM(s=d.CRH())&&(i._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[d._Bn([TK,{provide:PU,useExisting:n}]),d.qOj]}),n})(),NU=(()=>{class n extends PK{constructor(t,i,r,s,o,c,h,p){super(t,i,r,s,o,c,h,p)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(PU,8),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Xk),d.Y36(r3),d.Y36(d.QbO,8),d.Y36(MK,8),d.$8M("tabindex"))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(t,i){1&t&&d.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&t&&(d.uIk("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),d.ekj("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[d.qOj],ngContentSelectors:SK,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(t,i){if(1&t&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),d.NdJ("click",function(s){return i._onTouchTargetClick(s)}),d.qZA(),d.TgZ(4,"input",4,5),d.NdJ("change",function(s){return i._onInputInteraction(s)}),d.qZA(),d.TgZ(6,"div",6),d._UZ(7,"div",7)(8,"div",8),d.qZA(),d.TgZ(9,"div",9),d._UZ(10,"div",10),d.qZA()(),d.TgZ(11,"label",11),d.Hsn(12),d.qZA()()),2&t){const r=d.MAs(1);d.ekj("mdc-form-field--align-end","before"==i.labelPosition),d.xp6(2),d.ekj("mdc-radio--disabled",i.disabled),d.xp6(2),d.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),d.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),d.xp6(5),d.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),d.xp6(2),d.Q6J("for",i.inputId)}},dependencies:[Lx],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),FK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,er,t1,Vi]}),n})();var pE=(()=>(function(n){n[n.Income=1]="Income",n[n.Expense=2]="Expense"}(pE||(pE={})),pE))();let NK=(()=>{class n{constructor(t){this.firebaseService=t,this.moneyFlowType=pE.Expense,this.inputTitle="Bill Title"}billTitleUpdate(t){console.log(t.target.value),this.billTitle=t.target.value}amountUpdateChange(t){console.log(t.target.value),this.amount=parseFloat(t.target.value)}submitData(){this.firebaseService.addNewBill(this.billTitle,this.amount,this.moneyFlowType)}changeMoneyFlow(t){this.moneyFlowType=parseInt(t.value),this.inputTitle=parseInt(t.value)===pE.Income?"Income":"Bill Title"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(WN))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-bill-entry"]],decls:21,vars:1,consts:[["cellspacing","0",1,"example-full-width"],["aria-label","Select an option"],["checked","true","value","2",3,"change"],["value","1",3,"change"],[1,"example-full-width"],["matInput","",3,"change"],["type","number","matInput","",3,"change"],["mat-raised-button","","color","primary",1,"button",3,"click"]],template:function(t,i){1&t&&(d.TgZ(0,"table",0)(1,"tr")(2,"td")(3,"mat-radio-group",1)(4,"mat-radio-button",2),d.NdJ("change",function(s){return i.changeMoneyFlow(s)}),d._uU(5,"Expense"),d.qZA(),d.TgZ(6,"mat-radio-button",3),d.NdJ("change",function(s){return i.changeMoneyFlow(s)}),d._uU(7,"Income"),d.qZA()()()(),d.TgZ(8,"tr")(9,"td")(10,"mat-form-field",4)(11,"mat-label"),d._uU(12),d.qZA(),d.TgZ(13,"input",5),d.NdJ("change",function(s){return i.billTitleUpdate(s)}),d.qZA()()(),d.TgZ(14,"td")(15,"mat-form-field",4)(16,"mat-label"),d._uU(17,"Amount"),d.qZA(),d.TgZ(18,"input",6),d.NdJ("change",function(s){return i.amountUpdateChange(s)}),d.qZA()()()()(),d.TgZ(19,"button",7),d.NdJ("click",function(){return i.submitData()}),d._uU(20,"Enter"),d.qZA()),2&t&&(d.xp6(12),d.Oqu(i.inputTitle))},dependencies:[E9,CK,bK,vO,FU,NU],styles:[".button[_ngcontent-%COMP%]{display:flex}.mat-mdc-radio-button[_ngcontent-%COMP%] ~ .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),n})();const LK=["*",[["mat-toolbar-row"]]],VK=["*","mat-toolbar-row"],BK=cS(class{constructor(n){this._elementRef=n}});let UK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),HK=(()=>{class n extends BK{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Co),d.Y36(oe))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&d.Suo(r,UK,5),2&t){let s;d.iGM(s=d.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:VK,decls:2,vars:0,template:function(t,i){1&t&&(d.F$t(LK),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),jK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,Vi]}),n})();class wO{}class im{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof im?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new im;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof im?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class zK{encodeKey(e){return VU(e)}encodeValue(e){return VU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const GK=/%(\d[a-f0-9])/gi,qK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VU(n){return encodeURIComponent(n).replace(GK,(e,t)=>qK[t]??e)}function JS(n){return`${n}`}class rm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new zK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $K(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,c]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],h=t.get(o)||[];h.push(c),t.set(o,h)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(JS):[JS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(JS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(JS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class WK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function BU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function UU(n){return typeof Blob<"u"&&n instanceof Blob}function HU(n){return typeof FormData<"u"&&n instanceof FormData}class mE{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function KK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new im),this.context||(this.context=new WK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+o}}else this.params=new rm,this.urlWithParams=t}serializeBody(){return null===this.body?null:BU(this.body)||UU(this.body)||HU(this.body)||function ZK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HU(this.body)?null:UU(this.body)?this.body.type||null:BU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let h=e.headers||this.headers,p=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(h=Object.keys(e.setHeaders).reduce((x,I)=>x.set(I,e.setHeaders[I]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((x,I)=>x.set(I,e.setParams[I]),p)),new mE(t,i,s,{params:p,headers:h,context:b,reportProgress:c,responseType:r,withCredentials:o})}}var ks=(()=>((ks=ks||{})[ks.Sent=0]="Sent",ks[ks.UploadProgress=1]="UploadProgress",ks[ks.ResponseHeader=2]="ResponseHeader",ks[ks.DownloadProgress=3]="DownloadProgress",ks[ks.Response=4]="Response",ks[ks.User=5]="User",ks))();class YK{constructor(e,t=200,i="OK"){this.headers=e.headers||new im,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class xO extends YK{constructor(e={}){super(e),this.type=ks.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xO({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function EO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let CO=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof mE)s=t;else{let h,p;h=r.headers instanceof im?r.headers:new im(r.headers),r.params&&(p=r.params instanceof rm?r.params:new rm({fromObject:r.params})),s=new mE(t,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=ot(s).pipe(Us(h=>this.handler.handle(h)));if(t instanceof mE||"events"===r.observe)return o;const c=o.pipe(nr(h=>h instanceof xO));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,wt.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return c.pipe((0,wt.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return c.pipe((0,wt.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return c.pipe((0,wt.U)(h=>h.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new rm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,EO(r,i))}post(t,i,r={}){return this.request("POST",t,EO(r,i))}put(t,i,r={}){return this.request("PUT",t,EO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wO))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const cZ=["*"];let tT;function gE(n){return function uZ(){if(void 0===tT&&(tT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(tT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return tT}()?.createHTML(n)||n}function ZU(n){return Error(`Unable to find icon with the name "${n}"`)}function YU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function QU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class __{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let nT=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new __(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(d.q3G.HTML,r);if(!o)throw QU(r);const c=gE(o);return this._addSvgIconConfig(t,i,new __("",c,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new __(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(d.q3G.HTML,i);if(!s)throw QU(i);const o=gE(s);return this._addSvgIconSetConfig(t,new __("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!i)throw YU(t);const r=this._cachedIconsByUrl.get(i);return r?ot(iT(r)):this._loadSvgIconFromConfig(new __(t,null)).pipe((0,si.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,wt.U)(s=>iT(s)))}getNamedSvgIcon(t,i=""){const r=XU(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):hl(ZU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ot(iT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,wt.U)(i=>iT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ot(r):fB(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(zo(c=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(p)),ot(null)})))).pipe((0,wt.U)(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw ZU(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,t,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,si.b)(i=>t.svgText=i),(0,wt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ot(null):this._fetchIcon(t).pipe((0,si.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const c=this._svgElementFromString(gE("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(gE("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:c}=r[s];"id"!==o&&i.setAttribute(o,c)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function dZ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!o)throw YU(i);const c=this._inProgressUrlFetches.get(o);if(c)return c;const h=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,wt.U)(p=>gE(p)),cc(()=>this._inProgressUrlFetches.delete(o)),(0,sN.B)());return this._inProgressUrlFetches.set(o,h),h}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(XU(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return fZ(s)?new __(s.url,null,s.options):new __(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(CO,8),d.LFG(_u),d.LFG(oe,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iT(n){return n.cloneNode(!0)}function XU(n,e){return n+":"+e}function fZ(n){return!(!n.url||!n.options)}const pZ=cS(class{constructor(n){this._elementRef=n}}),mZ=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),gZ=new d.OlP("mat-icon-location",{providedIn:"root",factory:function _Z(){const n=(0,d.f3M)(oe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),JU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],yZ=JU.map(n=>`[${n}]`).join(", "),bZ=/^url\(['"]?#(.*?)['"]?\)$/;let vZ=(()=>{class n extends pZ{get inline(){return this._inline}set inline(t){this._inline=Fr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,o,c){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=jo.w0.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(yZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)JU.forEach(o=>{const c=i[s],h=c.getAttribute(o),p=h?h.match(bZ):null;if(p){let b=r.get(c);b||(b=[],r.set(c,b)),b.push({name:o,value:p[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ss(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(nT),d.$8M("aria-hidden"),d.Y36(gZ),d.Y36(d.qLn),d.Y36(mZ,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(d.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),d.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:cZ,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),wZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,Vi]}),n})(),xZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-title"]],decls:13,vars:0,consts:[["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with heart icon",1,"example-icon","favorite-icon"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"]],template:function(t,i){1&t&&(d.TgZ(0,"mat-toolbar")(1,"button",0)(2,"mat-icon"),d._uU(3,"menu"),d.qZA()(),d.TgZ(4,"span"),d._uU(5,"Expense App"),d.qZA(),d._UZ(6,"span",1),d.TgZ(7,"button",2)(8,"mat-icon"),d._uU(9,"favorite"),d.qZA()(),d.TgZ(10,"button",3)(11,"mat-icon"),d._uU(12,"share"),d.qZA()()())},dependencies:[D9,HK,vZ],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})(),EZ=(()=>{class n{constructor(t){this.firebaseService=t,this.title="expense-app-2",this.billList=[]}ngOnInit(){this.firebaseService.getAllBills().pipe((0,si.b)(t=>{this.billList=t})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(WN))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:23,vars:2,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"item","title"],[1,"item","header"],[1,"item","bill-entry"],[1,"item","sidebar-left"],[3,"billList"],[1,"item","sidebar-right"],[1,"item"]],template:function(t,i){1&t&&(d.TgZ(0,"html")(1,"head"),d._UZ(2,"meta",0)(3,"meta",1),d.TgZ(4,"title"),d._uU(5,"Your Page Title"),d.qZA()(),d.TgZ(6,"body")(7,"div",2)(8,"main")(9,"div",3),d._UZ(10,"app-title"),d.qZA()(),d.TgZ(11,"main")(12,"header",4),d._uU(13,"Header"),d.qZA(),d.TgZ(14,"div",5),d._UZ(15,"app-bill-entry"),d.qZA()(),d.TgZ(16,"main")(17,"div",6),d._UZ(18,"app-expense-table",7),d.qZA(),d.TgZ(19,"div",8),d._UZ(20,"app-bar-chart",7),d.qZA()(),d.TgZ(21,"footer",9),d._uU(22,"Footer"),d.qZA()()()()),2&t&&(d.xp6(18),d.Q6J("billList",i.billList),d.xp6(2),d.Q6J("billList",i.billList))},dependencies:[J5,f9,NK,xZ],styles:[".full-size-content[_ngcontent-%COMP%]{width:100%;height:100%}main[_ngcontent-%COMP%]{display:flex;flex-direction:row}.item[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1;text-align:center;padding:3rem 1rem;background:#dfeffd;border:3px solid #457fdc;color:#457fdc;margin:6px}.bill-entry[_ngcontent-%COMP%]{order:1;flex:2}.header[_ngcontent-%COMP%]{order:2;flex:2}.sidebar-left[_ngcontent-%COMP%]{order:1;flex:1.5}article[_ngcontent-%COMP%]{order:2;flex:2}.sidebar-right[_ngcontent-%COMP%]{order:2;flex:2}.title[_ngcontent-%COMP%]{width:100%}"]}),n})();const CZ_firebase={apiKey:"AIzaSyDgneBpRzF2Mknhojmai3wJ_mfPLg4o-iI",authDomain:"expense-acfe9.firebaseapp.com",databaseURL:"https://expense-acfe9-default-rtdb.firebaseio.com",projectId:"expense-acfe9",storageBucket:"expense-acfe9.appspot.com",messagingSenderId:"702771986859",appId:"1:702771986859:web:2789a51069f344fe7e92ee",measurementId:"G-2YGQ269SJ3"};let tH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),FZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[tH,Vi,t1,er,tH,Vi]}),n})();function nH(n){return new d.vHH(3e3,!1)}function gY(){return typeof window<"u"&&typeof window.document<"u"}function IO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function sm(n){switch(n.length){case 0:return new fE;case 1:return n[0];default:return new bU(n)}}function iH(n,e,t,i,r=new Map,s=new Map){const o=[],c=[];let h=-1,p=null;if(i.forEach(b=>{const x=b.get("offset"),I=x==h,M=I&&p||new Map;b.forEach((P,F)=>{let L=F,$=P;if("offset"!==F)switch(L=e.normalizePropertyName(L,o),$){case bO:$=r.get(F);break;case Bh:$=s.get(F);break;default:$=e.normalizeStyleValue(F,L,$,o)}M.set(L,$)}),I||c.push(M),p=M,h=x}),o.length)throw function rY(n){return new d.vHH(3502,!1)}();return c}function SO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&TO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&TO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&TO(t,"destroy",n)))}}function TO(n,e,t){const s=MO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function MO(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function qa(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function rH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let AO=(n,e)=>!1,sH=(n,e,t)=>[],oH=null;function RO(n){const e=n.parentNode||n.host;return e===oH?null:e}(IO()||typeof Element<"u")&&(gY()?(oH=(()=>document.documentElement)(),AO=(n,e)=>{for(;e;){if(e===n)return!0;e=RO(e)}return!1}):AO=(n,e)=>n.contains(e),sH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let y_=null,aH=!1;const lH=AO,cH=sH;let uH=(()=>{class n{validateStyleProperty(t){return function yY(n){y_||(y_=function bY(){return typeof document<"u"?document.body:null}()||{},aH=!!y_.style&&"WebkitAppearance"in y_.style);let e=!0;return y_.style&&!function _Y(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in y_.style,!e&&aH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in y_.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return lH(t,i)}getParentElement(t){return RO(t)}query(t,i,r){return cH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,c=[],h){return new fE(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),kO=(()=>{class n{}return n.NOOP=new uH,n})();const vY=1e3,OO="ng-enter",rT="ng-leave",sT="ng-trigger",oT=".ng-trigger",hH="ng-animating",PO=".ng-animating";function Uh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:FO(parseFloat(e[1]),e[2])}function FO(n,e){return"s"===e?n*vY:n}function aT(n,e,t){return n.hasOwnProperty("duration")?n:function xY(n,e,t){let r,s=0,o="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(nH()),{duration:0,delay:0,easing:""};r=FO(parseFloat(c[1]),c[2]);const h=c[3];null!=h&&(s=FO(parseFloat(h),c[4]));const p=c[5];p&&(o=p)}else r=n;if(!t){let c=!1,h=e.length;r<0&&(e.push(function NZ(){return new d.vHH(3100,!1)}()),c=!0),s<0&&(e.push(function LZ(){return new d.vHH(3101,!1)}()),c=!0),c&&e.splice(h,0,nH())}return{duration:r,delay:s,easing:o}}(n,e,t)}function _E(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function fH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function om(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function mH(n,e,t){return t?e+":"+t+";":""}function gH(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=mH(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=mH(0,IY(t),n.style[t]));n.setAttribute("style",e)}function sd(n,e,t){n.style&&(e.forEach((i,r)=>{const s=LO(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),IO()&&gH(n))}function b_(n,e){n.style&&(e.forEach((t,i)=>{const r=LO(i);n.style[r]=""}),IO()&&gH(n))}function yE(n){return Array.isArray(n)?1==n.length?n[0]:_U(n):n}const NO=new RegExp("{{\\s*(.+?)\\s*}}","g");function _H(n){let e=[];if("string"==typeof n){let t;for(;t=NO.exec(n);)e.push(t[1]);NO.lastIndex=0}return e}function bE(n,e,t){const i=n.toString(),r=i.replace(NO,(s,o)=>{let c=e[o];return null==c&&(t.push(function BZ(n){return new d.vHH(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function lT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const DY=/-+([a-z0-9])/g;function LO(n){return n.replace(DY,(...e)=>e[1].toUpperCase())}function IY(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function UZ(n){return new d.vHH(3004,!1)}()}}function yH(n,e){return window.getComputedStyle(n)[e]}const dT="*";function kY(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function OY(n,e,t){if(":"==n[0]){const h=function PY(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function eY(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof h)return void e.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function JZ(n){return new d.vHH(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(bH(r,o));"<"==s[0]&&!(r==dT&&o==dT)&&e.push(bH(o,r))}(i,t,e)):t.push(n),t}const hT=new Set(["true","1"]),fT=new Set(["false","0"]);function bH(n,e){const t=hT.has(n)||fT.has(n),i=hT.has(e)||fT.has(e);return(r,s)=>{let o=n==dT||n==r,c=e==dT||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?hT.has(n):fT.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?hT.has(e):fT.has(e)),o&&c}}const FY=new RegExp("s*:selfs*,?","g");function VO(n,e,t,i){return new NY(n).build(e,t,i)}class NY{constructor(e){this._driver=e}build(e,t,i){const r=new BY(t);return this._resetContextStyleTimingState(r),Wa(this,yE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function jZ(){return new d.vHH(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),0==c.type){const h=c,p=h.name;p.toString().split(/\s*,\s*/).forEach(b=>{h.name=b,s.push(this.visitState(h,t))}),h.name=p}else if(1==c.type){const h=this.visitTransition(c,t);i+=h.queryCount,r+=h.depCount,o.push(h)}else t.errors.push(function zZ(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(h=>{_H(h).forEach(p=>{o.hasOwnProperty(p)||s.add(p)})})}),s.size&&(lT(s.values()),t.errors.push(function $Z(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Wa(this,yE(e.animation),t);return{type:1,matchers:kY(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:v_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Wa(this,i,t)),options:v_(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const c=Wa(this,o,t);return r=Math.max(r,t.currentTime),c});return t.currentTime=r,{type:3,steps:s,options:v_(e.options)}}visitAnimate(e,t){const i=function HY(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BO(aT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=BO(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=aT(t,e);return BO(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:QS({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,c=!1;if(!o){c=!0;const p={};i.easing&&(p.easing=i.easing),o=QS(p)}t.currentTime+=i.duration+i.delay;const h=this.visitStyle(o,t);h.isEmptyStep=c,r=h}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of r)"string"==typeof c?c===Bh?i.push(c):t.errors.push(new d.vHH(3002,!1)):i.push(fH(c));let s=!1,o=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s))for(let h of c.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{const p=t.collectedStyles.get(t.currentQuerySelector),b=p.get(h);let x=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(t.errors.push(function qZ(n,e,t,i,r){return new d.vHH(3010,!1)}()),x=!1),s=b.startTime),x&&p.set(h,{startTime:s,endTime:r}),t.options&&function CY(n,e,t){const i=e.params||{},r=_H(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function VZ(n){return new d.vHH(3001,!1)}())})}(c,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function WZ(){return new d.vHH(3011,!1)}()),i;let s=0;const o=[];let c=!1,h=!1,p=0;const b=e.steps.map($=>{const W=this._makeStyleAst($,t);let ee=null!=W.offset?W.offset:function UY(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(W.styles),re=0;return null!=ee&&(s++,re=W.offset=ee),h=h||re<0||re>1,c=c||re<p,p=re,o.push(re),W});h&&t.errors.push(function KZ(){return new d.vHH(3012,!1)}()),c&&t.errors.push(function ZZ(){return new d.vHH(3200,!1)}());const x=e.steps.length;let I=0;s>0&&s<x?t.errors.push(function YZ(){return new d.vHH(3202,!1)}()):0==s&&(I=1/(x-1));const M=x-1,P=t.currentTime,F=t.currentAnimateTimings,L=F.duration;return b.forEach(($,W)=>{const ee=I>0?W==M?1:I*W:o[W],re=ee*L;t.currentTime=P+F.delay+re,F.duration=re,this._validateStyleAst($,t),$.offset=ee,i.styles.push($)}),i}visitReference(e,t){return{type:8,animation:Wa(this,yE(e.animation),t),options:v_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:v_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:v_(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function LY(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(FY,"")),n=n.replace(/@\*/g,oT).replace(/@\w+/g,t=>oT+"-"+t.slice(1)).replace(/:animating/g,PO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,qa(t.collectedStyles,t.currentQuerySelector,new Map);const c=Wa(this,yE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:c,originalSelector:e.selector,options:v_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function QZ(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:aT(e.timings,t.errors,!0);return{type:12,animation:Wa(this,yE(e.animation),t),timings:i,options:null}}}class BY{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function v_(n){return n?(n=_E(n)).params&&(n.params=function VY(n){return n?_E(n):null}(n.params)):n={},n}function BO(n,e,t){return{duration:n,delay:e,easing:t}}function UO(n,e,t,i,r,s,o=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:c}}class pT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $Y=new RegExp(":enter","g"),qY=new RegExp(":leave","g");function HO(n,e,t,i,r,s=new Map,o=new Map,c,h,p=[]){return(new WY).buildKeyframes(n,e,t,i,r,s,o,c,h,p)}class WY{buildKeyframes(e,t,i,r,s,o,c,h,p,b=[]){p=p||new pT;const x=new jO(e,t,p,r,s,b,[]);x.options=h;const I=h.delay?Uh(h.delay):0;x.currentTimeline.delayNextStep(I),x.currentTimeline.setStyles([o],null,x.errors,h),Wa(this,i,x);const M=x.timelines.filter(P=>P.containsAnimation());if(M.length&&c.size){let P;for(let F=M.length-1;F>=0;F--){const L=M[F];if(L.element===t){P=L;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([c],null,x.errors,h)}return M.length?M.map(P=>P.buildKeyframes()):[UO(t,[],[],[],0,I,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:Uh(bE(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Uh(i.duration):null,c=null!=i.delay?Uh(i.delay):null;return 0!==o&&e.forEach(h=>{const p=t.appendInstructionToTimeline(h,o,c);s=Math.max(s,p.duration+p.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Wa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mT);const o=Uh(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Wa(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Uh(e.options.delay):0;e.steps.forEach(o=>{const c=t.createSubContext(e.options);s&&c.delayNextStep(s),Wa(this,o,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return aT(t.params?bE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,c=t.createSubContext().currentTimeline;c.easing=i.easing,e.styles.forEach(h=>{c.forwardTime((h.offset||0)*s),c.setStyles(h.styles,h.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Uh(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mT);let o=i;const c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=c.length;let h=null;c.forEach((p,b)=>{t.currentQueryIndex=b;const x=t.createSubContext(e.options,p);s&&x.delayNextStep(s),p===t.element&&(h=x.currentTimeline),Wa(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),c=o*(t.currentQueryTotal-1);let h=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=c-h;break;case"full":h=i.currentStaggerTime}const b=t.currentTimeline;h&&b.delayNextStep(h);const x=b.currentTime;Wa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const mT={};class jO{constructor(e,t,i,r,s,o,c,h){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new gT(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Uh(i.duration)),null!=i.delay&&(r.delay=Uh(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!o.hasOwnProperty(c))&&(o[c]=bE(s[c],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new jO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=mT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new KY(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let c=[];if(r&&c.push(this.element),e.length>0){e=(e=e.replace($Y,"."+this._enterClassName)).replace(qY,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=i);0!==i&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),c.push(...p)}return!s&&0==c.length&&o.push(function XZ(n){return new d.vHH(3014,!1)}()),c}}class gT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Bh),this._currentKeyframe.set(t,Bh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function ZY(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Bh)}else om(r,t)}),t}(e,this._globalTimelineStyles);for(let[c,h]of o){const p=bE(h,s,i);this._pendingStyles.set(c,p),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Bh),this._updateStyle(c,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,h)=>{const p=om(c,new Map,this._backFill);p.forEach((b,x)=>{b===bO?e.add(x):b===Bh&&t.add(x)}),i||p.set("offset",h/this.duration),r.push(p)});const s=e.size?lT(e.values()):[],o=t.size?lT(t.values()):[];if(i){const c=r[0],h=new Map(c);c.set("offset",0),h.set("offset",1),r=[c,h]}return UO(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class KY extends gT{constructor(e,t,i,r,s,o,c=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,c=t/o,h=om(e[0]);h.set("offset",0),s.push(h);const p=om(e[0]);p.set("offset",xH(c)),s.push(p);const b=e.length-1;for(let x=1;x<=b;x++){let I=om(e[x]);const M=I.get("offset");I.set("offset",xH((t+M*i)/o)),s.push(I)}i=o,t=0,r="",e=s}return UO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function xH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class zO{}const YY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class QY extends zO{normalizePropertyName(e,t){return LO(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(YY.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function HZ(n,e){return new d.vHH(3005,!1)}())}return o+s}}function EH(n,e,t,i,r,s,o,c,h,p,b,x,I){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:c,queriedElements:h,preStyleProps:p,postStyleProps:b,totalTime:x,errors:I}}const $O={};class CH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function XY(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,c,h,p,b){const x=[],I=this.ast.options&&this.ast.options.params||$O,P=this.buildStyles(i,c&&c.params||$O,x),F=h&&h.params||$O,L=this.buildStyles(r,F,x),$=new Set,W=new Map,ee=new Map,re="void"===r,ce={params:JY(F,I),delay:this.ast.options?.delay},ge=b?[]:HO(e,t,this.ast.animation,s,o,P,L,ce,p,x);let Be=0;if(ge.forEach(gt=>{Be=Math.max(gt.duration+gt.delay,Be)}),x.length)return EH(t,this._triggerName,i,r,re,P,L,[],[],W,ee,Be,x);ge.forEach(gt=>{const Wt=gt.element,ln=qa(W,Wt,new Set);gt.preStyleProps.forEach(Ti=>ln.add(Ti));const dn=qa(ee,Wt,new Set);gt.postStyleProps.forEach(Ti=>dn.add(Ti)),Wt!==t&&$.add(Wt)});const Ve=lT($.values());return EH(t,this._triggerName,i,r,re,P,L,ge,Ve,W,ee,Be)}}function JY(n,e){const t=_E(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class eQ{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=_E(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,c)=>{o&&(o=bE(o,r,t));const h=this.normalizer.normalizePropertyName(c,t);o=this.normalizer.normalizeStyleValue(c,h,o,t),i.set(c,o)})}),i}}class nQ{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new eQ(r.style,r.options&&r.options.params||{},i))}),DH(this.states,"true","1"),DH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new CH(e,r,this.states))}),this.fallbackTransition=function iQ(n,e,t){return new CH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function DH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rQ=new pT;class sQ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=VO(this._driver,t,i,r);if(i.length)throw function sY(n){return new d.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=iH(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const c=new Map;if(s?(o=HO(this._driver,t,s,OO,rT,new Map,new Map,i,rQ,r),o.forEach(b=>{const x=qa(c,b.element,new Map);b.postStyleProps.forEach(I=>x.set(I,null))})):(r.push(function oY(){return new d.vHH(3300,!1)}()),o=[]),r.length)throw function aY(n){return new d.vHH(3504,!1)}();c.forEach((b,x)=>{b.forEach((I,M)=>{b.set(M,this._driver.computeStyle(x,M,Bh))})});const p=sm(o.map(b=>{const x=c.get(b.element);return this._buildPlayer(b,new Map,x)}));return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function lY(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=MO(t,"","","");return SO(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const IH="ng-animate-queued",GO="ng-animate-disabled",uQ=[],SH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rl="__ng_removed";class qO{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function mQ(n){return n??null}(i?e.value:e),i){const s=_E(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const vE="void",WO=new qO(vE);class hQ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function cY(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function uY(n){return new d.vHH(3303,!1)}();if(!function gQ(n){return"start"==n||"done"==n}(i))throw function dY(n,e){return new d.vHH(3400,!1)}();const s=qa(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const c=qa(this._engine.statesByElement,e,new Map);return c.has(t)||(kl(e,sT),kl(e,sT+"-"+t),c.set(t,WO)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(o);h>=0&&s.splice(h,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function hY(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new KO(this.id,t,e);let c=this._engine.statesByElement.get(e);c||(kl(e,sT),kl(e,sT+"-"+t),this._engine.statesByElement.set(e,c=new Map));let h=c.get(t);const p=new qO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),c.set(t,p),h||(h=WO),p.value!==vE&&h.value===p.value){if(!function bQ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(h.params,p.params)){const F=[],L=s.matchStyles(h.value,h.params,F),$=s.matchStyles(p.value,p.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{b_(e,L),sd(e,$)})}return}const I=qa(this._engine.playersByElement,e,[]);I.forEach(F=>{F.namespaceId==this.id&&F.triggerName==t&&F.queued&&F.destroy()});let M=s.matchTransition(h.value,p.value,e,p.params),P=!1;if(!M){if(!r)return;M=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:M,fromState:h,toState:p,player:o,isFallbackTransition:P}),P||(kl(e,IH),o.onStart(()=>{bv(e,IH)})),o.onDone(()=>{let F=this.players.indexOf(o);F>=0&&this.players.splice(F,1);const L=this._engine.playersByElement.get(e);if(L){let $=L.indexOf(o);$>=0&&L.splice($,1)}}),this.players.push(o),I.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,oT,!0);i.forEach(r=>{if(r[Rl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const c=[];if(s.forEach((h,p)=>{if(o.set(p,h.value),this._triggers.has(p)){const b=this.trigger(e,p,vE,r);b&&c.push(b)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&sm(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const h=this._triggers.get(o).fallbackTransition,p=i.get(o)||WO,b=new qO(vE),x=new KO(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:h,fromState:p,toState:b,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Rl];(!s||s===SH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){kl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==i.triggerName){const h=MO(s,i.triggerName,i.fromState.value,i.toState.value);h._data=e,SO(i.player,c.phase,h,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class fQ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new hQ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,c=this.driver.getParentElement(t);for(;c;){const h=r.get(c);if(h){const p=i.indexOf(h);i.splice(p+1,0,e),o=!0;break}c=this.driver.getParentElement(c)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(_T(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!_T(t))return;const s=t[Rl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kl(e,GO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bv(e,GO))}removeNode(e,t,i,r){if(_T(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Rl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return _T(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,oT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,PO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Rl];if(t&&t.setForRemoval){if(e[Rl]=SH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(GO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)kl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?sm(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function fY(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new pT,r=[],s=new Map,o=[],c=new Map,h=new Map,p=new Map,b=new Set;this.disabledNodes.forEach(nt=>{b.add(nt);const ft=this.driver.query(nt,".ng-animate-queued",!0);for(let Ot=0;Ot<ft.length;Ot++)b.add(ft[Ot])});const x=this.bodyNode,I=Array.from(this.statesByElement.keys()),M=AH(I,this.collectedEnterElements),P=new Map;let F=0;M.forEach((nt,ft)=>{const Ot=OO+F++;P.set(ft,Ot),nt.forEach(Kt=>kl(Kt,Ot))});const L=[],$=new Set,W=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const ft=this.collectedLeaveElements[nt],Ot=ft[Rl];Ot&&Ot.setForRemoval&&(L.push(ft),$.add(ft),Ot.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(Kt=>$.add(Kt)):W.add(ft))}const ee=new Map,re=AH(I,Array.from($));re.forEach((nt,ft)=>{const Ot=rT+F++;ee.set(ft,Ot),nt.forEach(Kt=>kl(Kt,Ot))}),e.push(()=>{M.forEach((nt,ft)=>{const Ot=P.get(ft);nt.forEach(Kt=>bv(Kt,Ot))}),re.forEach((nt,ft)=>{const Ot=ee.get(ft);nt.forEach(Kt=>bv(Kt,Ot))}),L.forEach(nt=>{this.processLeaveNode(nt)})});const ce=[],ge=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(Ot=>{const Kt=Ot.player,Mi=Ot.element;if(ce.push(Kt),this.collectedEnterElements.length){const Js=Mi[Rl];if(Js&&Js.setForMove){if(Js.previousTriggersValues&&Js.previousTriggersValues.has(Ot.triggerName)){const C_=Js.previousTriggersValues.get(Ot.triggerName),Ol=this.statesByElement.get(Ot.element);if(Ol&&Ol.has(Ot.triggerName)){const ST=Ol.get(Ot.triggerName);ST.value=C_,Ol.set(Ot.triggerName,ST)}}return void Kt.destroy()}}const To=!x||!this.driver.containsElement(x,Mi),Nr=ee.get(Mi),ea=P.get(Mi),Yn=this._buildInstruction(Ot,i,ea,Nr,To);if(Yn.errors&&Yn.errors.length)return void ge.push(Yn);if(To)return Kt.onStart(()=>b_(Mi,Yn.fromStyles)),Kt.onDestroy(()=>sd(Mi,Yn.toStyles)),void r.push(Kt);if(Ot.isFallbackTransition)return Kt.onStart(()=>b_(Mi,Yn.fromStyles)),Kt.onDestroy(()=>sd(Mi,Yn.toStyles)),void r.push(Kt);const lm=[];Yn.timelines.forEach(Js=>{Js.stretchStartingKeyframe=!0,this.disabledNodes.has(Js.element)||lm.push(Js)}),Yn.timelines=lm,i.append(Mi,Yn.timelines),o.push({instruction:Yn,player:Kt,element:Mi}),Yn.queriedElements.forEach(Js=>qa(c,Js,[]).push(Kt)),Yn.preStyleProps.forEach((Js,C_)=>{if(Js.size){let Ol=h.get(C_);Ol||h.set(C_,Ol=new Set),Js.forEach((ST,cP)=>Ol.add(cP))}}),Yn.postStyleProps.forEach((Js,C_)=>{let Ol=p.get(C_);Ol||p.set(C_,Ol=new Set),Js.forEach((ST,cP)=>Ol.add(cP))})});if(ge.length){const nt=[];ge.forEach(ft=>{nt.push(function pY(n,e){return new d.vHH(3505,!1)}())}),ce.forEach(ft=>ft.destroy()),this.reportError(nt)}const Be=new Map,Ve=new Map;o.forEach(nt=>{const ft=nt.element;i.has(ft)&&(Ve.set(ft,ft),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,Be))}),r.forEach(nt=>{const ft=nt.element;this._getPreviousPlayers(ft,!1,nt.namespaceId,nt.triggerName,null).forEach(Kt=>{qa(Be,ft,[]).push(Kt),Kt.destroy()})});const gt=L.filter(nt=>kH(nt,h,p)),Wt=new Map;MH(Wt,this.driver,W,p,Bh).forEach(nt=>{kH(nt,h,p)&&gt.push(nt)});const dn=new Map;M.forEach((nt,ft)=>{MH(dn,this.driver,new Set(nt),h,bO)}),gt.forEach(nt=>{const ft=Wt.get(nt),Ot=dn.get(nt);Wt.set(nt,new Map([...Array.from(ft?.entries()??[]),...Array.from(Ot?.entries()??[])]))});const Ti=[],Xs=[],Un={};o.forEach(nt=>{const{element:ft,player:Ot,instruction:Kt}=nt;if(i.has(ft)){if(b.has(ft))return Ot.onDestroy(()=>sd(ft,Kt.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(Kt.totalTime),void r.push(Ot);let Mi=Un;if(Ve.size>1){let Nr=ft;const ea=[];for(;Nr=Nr.parentNode;){const Yn=Ve.get(Nr);if(Yn){Mi=Yn;break}ea.push(Nr)}ea.forEach(Yn=>Ve.set(Yn,Mi))}const To=this._buildAnimation(Ot.namespaceId,Kt,Be,s,dn,Wt);if(Ot.setRealPlayer(To),Mi===Un)Ti.push(Ot);else{const Nr=this.playersByElement.get(Mi);Nr&&Nr.length&&(Ot.parentPlayer=sm(Nr)),r.push(Ot)}}else b_(ft,Kt.fromStyles),Ot.onDestroy(()=>sd(ft,Kt.toStyles)),Xs.push(Ot),b.has(ft)&&r.push(Ot)}),Xs.forEach(nt=>{const ft=s.get(nt.element);if(ft&&ft.length){const Ot=sm(ft);nt.setRealPlayer(Ot)}}),r.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<L.length;nt++){const ft=L[nt],Ot=ft[Rl];if(bv(ft,rT),Ot&&Ot.hasAnimation)continue;let Kt=[];if(c.size){let To=c.get(ft);To&&To.length&&Kt.push(...To);let Nr=this.driver.query(ft,PO,!0);for(let ea=0;ea<Nr.length;ea++){let Yn=c.get(Nr[ea]);Yn&&Yn.length&&Kt.push(...Yn)}}const Mi=Kt.filter(To=>!To.destroyed);Mi.length?_Q(this,ft,Mi):this.processLeaveNode(ft)}return L.length=0,Ti.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const ft=this.players.indexOf(nt);this.players.splice(ft,1)}),nt.play()}),Ti}elementContainsData(e,t){let i=!1;const r=t[Rl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const c=this.playersByQueriedElement.get(e);c&&(o=c)}else{const c=this.playersByElement.get(e);if(c){const h=!s||s==vE;c.forEach(p=>{p.queued||!h&&p.triggerName!=r||o.push(p)})}}return(i||r)&&(o=o.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName;for(const h of t.timelines){const p=h.element,b=p!==s,x=qa(i,p,[]);this._getPreviousPlayers(p,b,o,c,t.toState).forEach(M=>{const P=M.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),M.destroy(),x.push(M)})}b_(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const c=t.triggerName,h=t.element,p=[],b=new Set,x=new Set,I=t.timelines.map(P=>{const F=P.element;b.add(F);const L=F[Rl];if(L&&L.removedBeforeQueried)return new fE(P.duration,P.delay);const $=F!==h,W=function yQ(n){const e=[];return RH(n,e),e}((i.get(F)||uQ).map(Be=>Be.getRealPlayer())).filter(Be=>!!Be.element&&Be.element===F),ee=s.get(F),re=o.get(F),ce=iH(0,this._normalizer,0,P.keyframes,ee,re),ge=this._buildPlayer(P,ce,W);if(P.subTimeline&&r&&x.add(F),$){const Be=new KO(e,c,F);Be.setRealPlayer(ge),p.push(Be)}return ge});p.forEach(P=>{qa(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function pQ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,P.element,P))}),b.forEach(P=>kl(P,hH));const M=sm(I);return M.onDestroy(()=>{b.forEach(P=>bv(P,hH)),sd(h,t.toStyles)}),x.forEach(P=>{qa(r,P,[]).push(M)}),M}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new fE(e.duration,e.delay)}}class KO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new fE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>SO(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _T(n){return n&&1===n.nodeType}function TH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function MH(n,e,t,i,r){const s=[];t.forEach(h=>s.push(TH(h)));const o=[];i.forEach((h,p)=>{const b=new Map;h.forEach(x=>{const I=e.computeStyle(p,x,r);b.set(x,I),(!I||0==I.length)&&(p[Rl]=dQ,o.push(p))}),n.set(p,b)});let c=0;return t.forEach(h=>TH(h,s[c++])),o}function AH(n,e){const t=new Map;if(n.forEach(c=>t.set(c,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(c){if(!c)return i;let h=s.get(c);if(h)return h;const p=c.parentNode;return h=t.has(p)?p:r.has(p)?i:o(p),s.set(c,h),h}return e.forEach(c=>{const h=o(c);h!==i&&t.get(h).push(c)}),t}function kl(n,e){n.classList?.add(e)}function bv(n,e){n.classList?.remove(e)}function _Q(n,e,t){sm(t).onDone(()=>n.processLeaveNode(e))}function RH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof bU?RH(i.players,e):e.push(i)}}function kH(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class yT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new fQ(e,t,i),this._timelineEngine=new sQ(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let c=this._triggerCache[o];if(!c){const h=[],p=[],b=VO(this._driver,s,h,p);if(h.length)throw function iY(n,e){return new d.vHH(3404,!1)}();c=function tQ(n,e,t){return new nQ(n,e,t)}(r,b,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(t,r,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=rH(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,c]=rH(i);return this._timelineEngine.listen(o,t,c,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wQ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&sd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sd(this._element,this._initialStyles),this._endStyles&&(sd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(b_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(b_(this._element,this._endStyles),this._endStyles=null),sd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ZO(n){let e=null;return n.forEach((t,i)=>{(function xQ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class OH{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:yH(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class EQ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return lH(e,t)}getParentElement(e){return RO(e)}query(e,t,i){return cH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const p=new Map,b=o.filter(M=>M instanceof OH);(function SY(n,e){return 0===n||0===e})(i,r)&&b.forEach(M=>{M.currentSnapshot.forEach((P,F)=>p.set(F,P))});let x=function EY(n){return n.length?n[0]instanceof Map?n:n.map(e=>fH(e)):[]}(t).map(M=>om(M));x=function TY(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(c=>o.set(c,yH(n,c)))}}return e}(e,x,p);const I=function vQ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ZO(e[0]),e.length>1&&(i=ZO(e[e.length-1]))):e instanceof Map&&(t=ZO(e)),t||i?new wQ(n,t,i):null}(e,x);return new OH(e,x,h,I)}}let CQ=(()=>{class n extends gU{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?_U(t):t;return PH(this._renderer,null,i,"register",[r]),new DQ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class DQ extends k7{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new IQ(this._id,e,t||{},this._renderer)}}class IQ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return PH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function PH(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const FH="@.disabled";let SQ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const c=o?.parentNode(s);c&&o.removeChild(c,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new NH("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const o=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);const h=b=>{Array.isArray(b)?b.forEach(h):this.engine.registerTrigger(o,c,t,b.name,b)};return i.data.animation.forEach(h),new TQ(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(yT),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class NH{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==FH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class TQ extends NH{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FH?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function MQ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function AQ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(e,t,i)}}let RQ=(()=>{class n extends yT{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oe),d.LFG(kO),d.LFG(zO),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const LH=[{provide:gU,useClass:CQ},{provide:zO,useFactory:function kQ(){return new QY}},{provide:yT,useClass:RQ},{provide:d.FYo,useFactory:function OQ(n,e,t){return new SQ(n,e,t)},deps:[ns,yT,d.R0b]}],YO=[{provide:kO,useFactory:()=>new EQ},{provide:d.QbO,useValue:"BrowserAnimations"},...LH],VH=[{provide:kO,useClass:uH},{provide:d.QbO,useValue:"NoopAnimations"},...LH];let PQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?VH:YO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:YO,imports:[_a]}),n})(),LQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[SL,Vi,SL,Vi]}),n})();const UH="firebasestorage.googleapis.com",HH="storageBucket";class Xi extends rn.ZR{constructor(e,t,i=0){super(QO(e),`Firebase Storage: ${t} (${QO(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var yi=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(yi||(yi={})),yi))();function QO(n){return"storage/"+n}function XO(){return new Xi(yi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jH(){return new Xi(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zH(){return new Xi(yi.CANCELED,"User canceled the upload/download.")}function $H(){return new Xi(yi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vv(n){return new Xi(yi.INVALID_ARGUMENT,n)}function GH(){return new Xi(yi.APP_DELETED,"The Firebase app was deleted.")}function qH(n){return new Xi(yi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wE(n,e){return new Xi(yi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function xE(n){throw new Xi(yi.INTERNAL_ERROR,"Internal error: "+n)}class Qs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Qs.makeFromUrl(e,t)}catch{return new Qs(e,"")}if(""===i.path)return i;throw function WQ(n){return new Xi(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function p(re){re.path_=decodeURIComponent(re.path)}const x=t.replace(/[.]/g,"\\."),ee=[{regex:c,indices:{bucket:1,path:3},postModify:function s(re){"/"===re.path.charAt(re.path.length-1)&&(re.path_=re.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${t===UH?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<ee.length;re++){const ce=ee[re],ge=ce.regex.exec(e);if(ge){let Ve=ge[ce.indices.path];Ve||(Ve=""),i=new Qs(ge[ce.indices.bucket],Ve),ce.postModify(i);break}}if(null==i)throw function qQ(n){return new Xi(yi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class XQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function vT(n){return"string"==typeof n||n instanceof String}function WH(n){return JO()&&n instanceof Blob}function JO(){return typeof Blob<"u"&&!(0,rn.UG)()}function eP(n,e,t,i){if(i<e)throw vv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw vv(`Invalid value for '${n}'. Expected ${t} or less.`)}function Hh(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function KH(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var am=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(am||(am={})),am))();function ZH(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class rX{constructor(e,t,i,r,s,o,c,h,p,b,x,I=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=b,this.connectionFactory_=x,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,P)=>{this.resolve_=M,this.reject_=P,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());!function tX(n){return void 0!==n}(h)?s():s(h)}catch(h){o(h)}else if(null!==c){const h=XO();h.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,h):h)}else o(r.canceled?this.appDelete_?GH():zH():jH())};this.canceled_?t(0,new wT(!1,null,!0)):this.backoffId_=function JQ(n,e,t){let i=1,r=null,s=null,o=!1,c=0;function h(){return 2===c}let p=!1;function b(...L){p||(p=!0,e.apply(null,L))}function x(L){r=setTimeout(()=>{r=null,n(M,h())},L)}function I(){s&&clearTimeout(s)}function M(L,...$){if(p)return void I();if(L)return I(),void b.call(null,L,...$);if(h()||o)return I(),void b.call(null,L,...$);let ee;i<64&&(i*=2),1===c?(c=2,ee=0):ee=1e3*(i+Math.random()),x(ee)}let P=!1;function F(L){P||(P=!0,I(),!p&&(null!==r?(L||(c=2),clearTimeout(r),x(0)):L||(c=1)))}return x(0),s=setTimeout(()=>{o=!0,F(!0)},t),F}((i,r)=>{if(r)return void i(!1,new wT(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===am.NO_ERROR,h=s.getStatus();if(!c||ZH(h,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===am.ABORT;return void i(!1,new wT(!1,null,b))}const p=-1!==this.successCodes_.indexOf(h);i(!0,new wT(p,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function eX(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class wT{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function dX(...n){const e=function uX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(JO())return new Blob(n);throw new Xi(yi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tP{constructor(e,t){this.data=e,this.contentType=t||null}}function nP(n,e){switch(n){case Ka.RAW:return new tP(YH(e));case Ka.BASE64:case Ka.BASE64URL:return new tP(QH(n,e));case Ka.DATA_URL:return new tP(function mX(n){const e=new XH(n);return e.base64?QH(Ka.BASE64,e.rest):function pX(n){let e;try{e=decodeURIComponent(n)}catch{throw wE(Ka.DATA_URL,"Malformed data URL.")}return YH(e)}(e.rest)}(e),function gX(n){return new XH(n).contentType}(e))}throw XO()}function YH(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function QH(n,e){switch(n){case Ka.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw wE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ka.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw wE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function fX(n){if(typeof atob>"u")throw function QQ(n){return new Xi(yi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:wE(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class XH{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw wE(Ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function _X(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class od{constructor(e,t){let i=0,r="";WH(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(WH(this.data_)){const r=function hX(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new od(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new od(i,!0)}}static getBlob(...e){if(JO()){const t=e.map(i=>i instanceof od?i.data_:i);return new od(dX.apply(null,t))}{const t=e.map(o=>vT(o)?nP(Ka.RAW,o).data:o.data_);let i=0;t.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new od(r,!0)}}uploadData(){return this.data_}}function iP(n){let e;try{e=JSON.parse(n)}catch{return null}return function iX(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function JH(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function vX(n,e){return e}class Io{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||vX}}let xT=null;function EE(){if(xT)return xT;const n=[];n.push(new Io("bucket")),n.push(new Io("generation")),n.push(new Io("metageneration")),n.push(new Io("name","fullPath",!0));const t=new Io("name");t.xform=function e(s,o){return function wX(n){return!vT(n)||n.length<2?n:JH(n)}(o)},n.push(t);const r=new Io("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new Io("timeCreated")),n.push(new Io("updated")),n.push(new Io("md5Hash",null,!0)),n.push(new Io("cacheControl",null,!0)),n.push(new Io("contentDisposition",null,!0)),n.push(new Io("contentEncoding",null,!0)),n.push(new Io("contentLanguage",null,!0)),n.push(new Io("contentType",null,!0)),n.push(new Io("metadata","customMetadata",!0)),xT=n,xT}function ej(n,e,t){const i=iP(e);return null===i?null:function EX(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const o=t[s];i[o.local]=o.xform(i,e[o.server])}return function xX(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Qs(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function rP(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const tj="prefixes",nj="items";class ad{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ld(n){if(!n)throw XO()}function ET(n,e){return function t(i,r){const s=ej(n,r,e);return ld(null!==s),s}}function wv(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function $Q(){return new Xi(yi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function zQ(){return new Xi(yi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function jQ(n){return new Xi(yi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function GQ(n){return new Xi(yi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function CE(n){const e=wv(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function HQ(n){return new Xi(yi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function ij(n,e,t){const r=Hh(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new ad(r,"GET",ET(n,t),o);return c.errorHandler=CE(e),c}function MX(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const c=Hh(e.bucketOnlyServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,b=new ad(c,"GET",function SX(n,e){return function t(i,r){const s=function IX(n,e,t){const i=iP(t);return null===i?null:function DX(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[tj])for(const r of t[tj]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new Qs(e,s));i.prefixes.push(o)}if(t[nj])for(const r of t[nj]){const s=n._makeStorageReference(new Qs(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return ld(null!==s),s}}(n,e.bucket),p);return b.urlParams=s,b.errorHandler=wv(e),b}function sj(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function OX(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class CT{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function sP(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ld(!1)}return ld(!!t&&-1!==(e||["active"]).indexOf(t)),t}const LX={STATE_CHANGED:"state_changed"},So={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oP(n){switch(n){case"running":case"pausing":case"canceling":return So.RUNNING;case"paused":return So.PAUSED;case"success":return So.SUCCESS;case"canceled":return So.CANCELED;default:return So.ERROR}}class VX{constructor(e,t,i){if(function nX(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function xv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let lj=null;class BX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=am.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=am.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=am.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw xE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class UX extends BX{initXhr(){this.xhr_.responseType="text"}}function Bc(){return lj?lj():new UX}class cj{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=EE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(yi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(ZH(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=jH()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(yi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function PX(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),o=sj(e,i,r),c={name:o.fullPath},h=Hh(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},x=rP(o,t),P=new ad(h,"POST",function M(F){let L;sP(F);try{L=F.getResponseHeader("X-Goog-Upload-URL")}catch{ld(!1)}return ld(vT(L)),L},n.maxUploadRetryTime);return P.urlParams=c,P.headers=b,P.body=x,P.errorHandler=wv(e),P}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Bc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function FX(n,e,t,i){const h=new ad(t,"POST",function s(p){const b=sP(p,["active","final"]);let x=null;try{x=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ld(!1)}x||ld(!1);const I=Number(x);return ld(!isNaN(I)),new CT(I,i.size(),"final"===b)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=wv(e),h}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Bc,t,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new CT(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function NX(n,e,t,i,r,s,o,c){const h=new CT(0,0);if(o?(h.current=o.current,h.total=o.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw function ZQ(){return new Xi(yi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const p=h.total-h.current;let b=p;r>0&&(b=Math.min(b,r));const x=h.current;let M="";M=0===b?"finalize":p===b?"upload, finalize":"upload";const P={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${h.current}`},F=i.slice(x,x+b);if(null===F)throw $H();const ee=new ad(t,"POST",function L(re,ce){const ge=sP(re,["active","final"]),Be=h.current+b,Ve=i.size();let gt;return gt="final"===ge?ET(e,s)(re,ce):null,new CT(Be,Ve,"final"===ge,gt)},e.maxUploadRetryTime);return ee.headers=P,ee.body=F.uploadData(),ee.progressCallback=c||null,ee.errorHandler=wv(n),ee}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const c=this._ref.storage._makeRequest(o,Bc,r,s,!1);this._request=c,c.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=ij(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Bc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function oj(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},h=function c(){let ee="";for(let re=0;re<2;re++)ee+=Math.random().toString().slice(2);return ee}();o["Content-Type"]="multipart/related; boundary="+h;const p=sj(e,i,r),b=rP(p,t),M=od.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+h+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",i,"\r\n--"+h+"--");if(null===M)throw $H();const P={name:p.fullPath},F=Hh(s,n.host,n._protocol),$=n.maxUploadRetryTime,W=new ad(F,"POST",ET(n,t),$);return W.urlParams=P,W.headers=o,W.body=M.uploadData(),W.errorHandler=wv(e),W}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Bc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=zH(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=oP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new VX(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(oP(this._state)){case So.SUCCESS:xv(this._resolve.bind(null,this.snapshot))();break;case So.CANCELED:case So.ERROR:xv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(oP(this._state)){case So.RUNNING:case So.PAUSED:e.next&&xv(e.next.bind(e,this.snapshot))();break;case So.SUCCESS:e.complete&&xv(e.complete.bind(e))();break;default:e.error&&xv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class x_{constructor(e,t){this._service=e,this._location=t instanceof Qs?t:Qs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new x_(e,t)}get root(){const e=new Qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JH(this._location.path)}get storage(){return this._service}get parent(){const e=function yX(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Qs(this._location.bucket,e);return new x_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw qH(e)}}function dj(n,e,t){return aP.apply(this,arguments)}function aP(){return aP=(0,Ce.Z)(function*(n,e,t){const r=yield hj(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield dj(n,e,r.nextPageToken))}),aP.apply(this,arguments)}function hj(n,e){null!=e&&"number"==typeof e.maxResults&&eP("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=MX(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Bc)}function XX(n){n._throwIfRoot("getDownloadURL");const e=function AX(n,e,t){const r=Hh(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new ad(r,"GET",function TX(n,e){return function t(i,r){const s=ej(n,r,e);return ld(null!==s),function CX(n,e,t,i){const r=iP(e);if(null===r||!vT(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(p=>{const x=n.fullPath;return Hh("/b/"+o(n.bucket)+"/o/"+o(x),t,i)+KH({alt:"media",token:p})})[0]}(s,r,n.host,n._protocol)}}(n,t),o);return c.errorHandler=CE(e),c}(n.storage,n._location,EE());return n.storage.makeRequestWithTokens(e,Bc).then(t=>{if(null===t)throw function YQ(){return new Xi(yi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function fj(n,e){const t=function bX(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Qs(n._location.bucket,t);return new x_(n.storage,i)}function pj(n,e){if(n instanceof lP){const t=n;if(null==t._bucket)throw function KQ(){return new Xi(yi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HH+"' property when initializing the app?")}();const i=new x_(t,t._bucket);return null!=e?pj(i,e):i}return void 0!==e?fj(n,e):n}function nJ(n,e){if(e&&function eJ(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof lP)return function tJ(n,e){return new x_(n,e)}(n,e);throw vv("To use ref(service, url), the first argument must be a Storage instance.")}return pj(n,e)}function mj(n,e){const t=e?.[HH];return null==t?null:Qs.makeFromBucketSpec(t,n)}class lP{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=UH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Qs.makeFromBucketSpec(r,this._host):mj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Qs.makeFromBucketSpec(this._url,e):mj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ce.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ce.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new x_(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new XQ(GH());{const o=function cX(n,e,t,i,r,s,o=!0){const c=KH(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return function aX(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function sX(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function oX(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function lX(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new rX(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var i=this;return(0,Ce.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const gj="@firebase/storage";function bj(n,e){return nJ(n=(0,rn.m9)(n),e)}function hJ(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new lP(t,i,r,e,Aa.SDK_VERSION)}!function fJ(){(0,Aa._registerComponent)(new Jd.wA("storage",hJ,"PUBLIC").setMultipleInstances(!0)),(0,Aa.registerVersion)(gj,"0.11.2",""),(0,Aa.registerVersion)(gj,"0.11.2","esm2017")}();class DT{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class wj{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new DT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new DT(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?o=>t(new DT(o,this,this._ref)):{next:t.next?o=>t.next(new DT(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class xj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new jh(e,this._service))}get items(){return this._delegate.items.map(e=>new jh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class jh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function dJ(n,e){return fj(n,e)}(this._delegate,e);return new jh(t,this.storage)}get root(){return new jh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new jh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new wj(function rJ(n,e,t){return function WX(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new cj(n,new od(e),t)}(n=(0,rn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ka.RAW,i){this._throwIfRoot("putString");const r=nP(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new wj(new cj(this._delegate,new od(r.data,!0),s),this)}listAll(){return function lJ(n){return function ZX(n){const e={prefixes:[],items:[]};return dj(n,e).then(()=>e)}(n=(0,rn.m9)(n))}(this._delegate).then(e=>new xj(e,this.storage))}list(e){return function aJ(n,e){return hj(n=(0,rn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new xj(t,this.storage))}getMetadata(){return function sJ(n){return function YX(n){n._throwIfRoot("getMetadata");const e=ij(n.storage,n._location,EE());return n.storage.makeRequestWithTokens(e,Bc)}(n=(0,rn.m9)(n))}(this._delegate)}updateMetadata(e){return function oJ(n,e){return function QX(n,e){n._throwIfRoot("updateMetadata");const t=function RX(n,e,t,i){const s=Hh(e.fullServerUrl(),n.host,n._protocol),c=rP(t,i),p=n.maxOperationRetryTime,b=new ad(s,"PATCH",ET(n,i),p);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=c,b.errorHandler=CE(e),b}(n.storage,n._location,e,EE());return n.storage.makeRequestWithTokens(t,Bc)}(n=(0,rn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function cJ(n){return XX(n=(0,rn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function uJ(n){return function JX(n){n._throwIfRoot("deleteObject");const e=function kX(n,e){const i=Hh(e.fullServerUrl(),n.host,n._protocol),c=new ad(i,"DELETE",function o(h,p){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=CE(e),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Bc)}(n=(0,rn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw qH(e)}}class Ej{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Cj(e))throw vv("ref() expected a child path but got a URL, use refFromURL instead.");return new jh(bj(this._delegate,e),this)}refFromURL(e){if(!Cj(e))throw vv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qs.makeFromUrl(e,this._delegate.host)}catch{throw vv("refFromUrl() expected a valid full URL but got an invalid one.")}return new jh(bj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function vj(n,e,t,i={}){!function iJ(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,rn.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function Cj(n){return/^[A-Za-z]+:\/\//.test(n)}function _J(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Ej(t,i)}function Dj(n){const e=function bJ(n){return new ni.y(e=>{const t=o=>e.next(o);t(n.snapshot);const s=n.on("state_changed",t);return n.then(o=>{t(o),e.complete()},o=>{t(n.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(Qk(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,wt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function IT(n){return{getDownloadURL:()=>ot(void 0).pipe(Xn.fc,ii(()=>n.getDownloadURL()),Xn.iC),getMetadata:()=>ot(void 0).pipe(Xn.fc,ii(()=>n.getMetadata()),Xn.iC),delete:()=>(0,gn.D)(n.delete()),child:e=>IT(n.child(e)),updateMetadata:e=>(0,gn.D)(n.updateMetadata(e)),put:(e,t)=>Dj(n.put(e,t)),putString:(e,t,i)=>Dj(n.putString(e,t,i)),list:e=>(0,gn.D)(n.list(e)),listAll:()=>(0,gn.D)(n.listAll())}}!function yJ(n){const e={TaskState:So,TaskEvent:LX,StringFormat:Ka,Storage:Ej,Reference:jh};n.INTERNAL.registerComponent(new Jd.wA("storage-compat",_J,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(sy.Z);const vJ=new d.OlP("angularfire2.storageBucket"),wJ=new d.OlP("angularfire2.storage.maxUploadRetryTime"),xJ=new d.OlP("angularfire2.storage.maxOperationRetryTime"),EJ=new d.OlP("angularfire2.storage.use-emulator");let CJ=(()=>{class n{constructor(t,i,r,s,o,c,h,p,b,x){const I=(0,Gr.on)(t,o,i);this.storage=(0,Gr.cc)(`${I.name}.storage.${r}`,"AngularFireStorage",I.name,()=>{const M=o.runOutsideAngular(()=>I.storage(r||void 0)),P=b;return P&&M.useEmulator(...P),h&&M.setMaxUploadRetryTime(h),p&&M.setMaxOperationRetryTime(p),M},[h,p])}ref(t){return IT(this.storage.ref(t))}refFromURL(t){return IT(this.storage.refFromURL(t))}upload(t,i,r){return IT(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gr.Dh),d.LFG(Gr.xv,8),d.LFG(vJ,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Xn.HU),d.LFG(wJ,8),d.LFG(xJ,8),d.LFG(EJ,8),d.LFG(qI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),IJ=(()=>{class n{constructor(){MN.Z.registerVersion("angularfire",Xn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[CJ],imports:[DJ]}),n})(),WJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vi,er,Vi]}),n})(),KJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[EZ]}),n.\u0275inj=d.cJS({imports:[_a,Jm,Gr.hO.initializeApp(CZ_firebase),Q4.enablePersistence(),IJ,PQ,FZ,j5,I9,LQ,DK,jK,wZ,FK,WJ]}),n})();Dd().bootstrapModule(KJ).catch(n=>console.error(n))},9751:(At,Re,H)=>{H.d(Re,{y:()=>Te});var d=H(930),se=H(727),U=H(8822),pe=H(9635),me=H(2416),oe=H(576),Se=H(2806);let Te=(()=>{class te{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const rt=new te;return rt.source=this,rt.operator=Pe,rt}subscribe(Pe,rt,Et){const xe=function K(te){return te&&te instanceof d.Lv||function Y(te){return te&&(0,oe.m)(te.next)&&(0,oe.m)(te.error)&&(0,oe.m)(te.complete)}(te)&&(0,se.Nn)(te)}(Pe)?Pe:new d.Hp(Pe,rt,Et);return(0,Se.x)(()=>{const{operator:Ue,source:He}=this;xe.add(Ue?Ue.call(xe,He):He?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(rt){Pe.error(rt)}}forEach(Pe,rt){return new(rt=ve(rt))((Et,xe)=>{const Ue=new d.Hp({next:He=>{try{Pe(He)}catch(Ke){xe(Ke),Ue.unsubscribe()}},error:xe,complete:Et});this.subscribe(Ue)})}_subscribe(Pe){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(Pe)}[U.L](){return this}pipe(...Pe){return(0,pe.U)(Pe)(this)}toPromise(Pe){return new(Pe=ve(Pe))((rt,Et)=>{let xe;this.subscribe(Ue=>xe=Ue,Ue=>Et(Ue),()=>rt(xe))})}}return te.create=Xe=>new te(Xe),te})();function ve(te){var Xe;return null!==(Xe=te??me.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(At,Re,H)=>{H.d(Re,{x:()=>Se});var d=H(9751),se=H(727);const pe=(0,H(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=H(8737),oe=H(2806);let Se=(()=>{class ve extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const te=new Te(this,this);return te.operator=K,te}_throwIfClosed(){if(this.closed)throw new pe}next(K){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(K)}})}error(K){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:te}=this;for(;te.length;)te.shift().error(K)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:te,isStopped:Xe,observers:Pe}=this;return te||Xe?se.Lc:(this.currentObservers=null,Pe.push(K),new se.w0(()=>{this.currentObservers=null,(0,me.P)(Pe,K)}))}_checkFinalizedStatuses(K){const{hasError:te,thrownError:Xe,isStopped:Pe}=this;te?K.error(Xe):Pe&&K.complete()}asObservable(){const K=new d.y;return K.source=this,K}}return ve.create=(Y,K)=>new Te(Y,K),ve})();class Te extends Se{constructor(Y,K){super(),this.destination=Y,this.source=K}next(Y){var K,te;null===(te=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===te||te.call(K,Y)}error(Y){var K,te;null===(te=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===te||te.call(K,Y)}complete(){var Y,K;null===(K=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===K||K.call(Y)}_subscribe(Y){var K,te;return null!==(te=null===(K=this.source)||void 0===K?void 0:K.subscribe(Y))&&void 0!==te?te:se.Lc}}},930:(At,Re,H)=>{H.d(Re,{Hp:()=>Et,Lv:()=>te});var d=H(576),se=H(727),U=H(2416),pe=H(7849),me=H(5032);const oe=ve("C",void 0,void 0);function ve(je,Me,Ae){return{kind:je,value:Me,error:Ae}}var Y=H(3410),K=H(2806);class te extends se.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,se.Nn)(Me)&&Me.add(this)):this.destination=Ke}static create(Me,Ae,Je){return new Et(Me,Ae,Je)}next(Me){this.isStopped?He(function Te(je){return ve("N",je,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?He(function Se(je){return ve("E",void 0,je)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?He(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Pe(je,Me){return Xe.call(je,Me)}class rt{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Me)}catch(Je){xe(Je)}}error(Me){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Me)}catch(Je){xe(Je)}else xe(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Ae){xe(Ae)}}}class Et extends te{constructor(Me,Ae,Je){let $e;if(super(),(0,d.m)(Me)||!Me)$e={next:Me??void 0,error:Ae??void 0,complete:Je??void 0};else{let _t;this&&U.v.useDeprecatedNextContext?(_t=Object.create(Me),_t.unsubscribe=()=>this.unsubscribe(),$e={next:Me.next&&Pe(Me.next,_t),error:Me.error&&Pe(Me.error,_t),complete:Me.complete&&Pe(Me.complete,_t)}):$e=Me}this.destination=new rt($e)}}function xe(je){U.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(je):(0,pe.h)(je)}function He(je,Me){const{onStoppedNotification:Ae}=U.v;Ae&&Y.z.setTimeout(()=>Ae(je,Me))}const Ke={closed:!0,next:me.Z,error:function Ue(je){throw je},complete:me.Z}},727:(At,Re,H)=>{H.d(Re,{Lc:()=>oe,w0:()=>me,Nn:()=>Se});var d=H(576);const U=(0,H(3888).d)(ve=>function(K){ve(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((te,Xe)=>`${Xe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var pe=H(8737);class me{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Pe of K)Pe.remove(this);else K.remove(this);const{initialTeardown:te}=this;if((0,d.m)(te))try{te()}catch(Pe){Y=Pe instanceof U?Pe.errors:[Pe]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Pe of Xe)try{Te(Pe)}catch(rt){Y=Y??[],rt instanceof U?Y=[...Y,...rt.errors]:Y.push(rt)}}if(Y)throw new U(Y)}}add(Y){var K;if(Y&&Y!==this)if(this.closed)Te(Y);else{if(Y instanceof me){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(Y)}}_hasParent(Y){const{_parentage:K}=this;return K===Y||Array.isArray(K)&&K.includes(Y)}_addParent(Y){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(Y),K):K?[K,Y]:Y}_removeParent(Y){const{_parentage:K}=this;K===Y?this._parentage=null:Array.isArray(K)&&(0,pe.P)(K,Y)}remove(Y){const{_finalizers:K}=this;K&&(0,pe.P)(K,Y),Y instanceof me&&Y._removeParent(this)}}me.EMPTY=(()=>{const ve=new me;return ve.closed=!0,ve})();const oe=me.EMPTY;function Se(ve){return ve instanceof me||ve&&"closed"in ve&&(0,d.m)(ve.remove)&&(0,d.m)(ve.add)&&(0,d.m)(ve.unsubscribe)}function Te(ve){(0,d.m)(ve)?ve():ve.unsubscribe()}},2416:(At,Re,H)=>{H.d(Re,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(At,Re,H)=>{H.d(Re,{E:()=>se});const se=new(H(9751).y)(me=>me.complete())},8996:(At,Re,H)=>{H.d(Re,{D:()=>Me});var d=H(8421),se=H(5363),U=H(9468),oe=H(9751),Te=H(2202),ve=H(576),Y=H(9672);function te(Ae,Je){if(!Ae)throw new Error("Iterable cannot be null");return new oe.y($e=>{(0,Y.f)($e,Je,()=>{const _t=Ae[Symbol.asyncIterator]();(0,Y.f)($e,Je,()=>{_t.next().then(fe=>{fe.done?$e.complete():$e.next(fe.value)})},0,!0)})})}var Xe=H(3670),Pe=H(8239),rt=H(1144),Et=H(6495),xe=H(2206),Ue=H(4532),He=H(3260);function Me(Ae,Je){return Je?function je(Ae,Je){if(null!=Ae){if((0,Xe.c)(Ae))return function pe(Ae,Je){return(0,d.Xf)(Ae).pipe((0,U.R)(Je),(0,se.Q)(Je))}(Ae,Je);if((0,rt.z)(Ae))return function Se(Ae,Je){return new oe.y($e=>{let _t=0;return Je.schedule(function(){_t===Ae.length?$e.complete():($e.next(Ae[_t++]),$e.closed||this.schedule())})})}(Ae,Je);if((0,Pe.t)(Ae))return function me(Ae,Je){return(0,d.Xf)(Ae).pipe((0,U.R)(Je),(0,se.Q)(Je))}(Ae,Je);if((0,xe.D)(Ae))return te(Ae,Je);if((0,Et.T)(Ae))return function K(Ae,Je){return new oe.y($e=>{let _t;return(0,Y.f)($e,Je,()=>{_t=Ae[Te.h](),(0,Y.f)($e,Je,()=>{let fe,Lt;try{({value:fe,done:Lt}=_t.next())}catch(ht){return void $e.error(ht)}Lt?$e.complete():$e.next(fe)},0,!0)}),()=>(0,ve.m)(_t?.return)&&_t.return()})}(Ae,Je);if((0,He.L)(Ae))return function Ke(Ae,Je){return te((0,He.Q)(Ae),Je)}(Ae,Je)}throw(0,Ue.z)(Ae)}(Ae,Je):(0,d.Xf)(Ae)}},8421:(At,Re,H)=>{H.d(Re,{Xf:()=>Xe});var d=H(655),se=H(1144),U=H(8239),pe=H(9751),me=H(3670),oe=H(2206),Se=H(4532),Te=H(6495),ve=H(3260),Y=H(576),K=H(7849),te=H(8822);function Xe(je){if(je instanceof pe.y)return je;if(null!=je){if((0,me.c)(je))return function Pe(je){return new pe.y(Me=>{const Ae=je[te.L]();if((0,Y.m)(Ae.subscribe))return Ae.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,se.z)(je))return function rt(je){return new pe.y(Me=>{for(let Ae=0;Ae<je.length&&!Me.closed;Ae++)Me.next(je[Ae]);Me.complete()})}(je);if((0,U.t)(je))return function Et(je){return new pe.y(Me=>{je.then(Ae=>{Me.closed||(Me.next(Ae),Me.complete())},Ae=>Me.error(Ae)).then(null,K.h)})}(je);if((0,oe.D)(je))return Ue(je);if((0,Te.T)(je))return function xe(je){return new pe.y(Me=>{for(const Ae of je)if(Me.next(Ae),Me.closed)return;Me.complete()})}(je);if((0,ve.L)(je))return function He(je){return Ue((0,ve.Q)(je))}(je)}throw(0,Se.z)(je)}function Ue(je){return new pe.y(Me=>{(function Ke(je,Me){var Ae,Je,$e,_t;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,d.KL)(je);!(Je=yield Ae.next()).done;)if(Me.next(Je.value),Me.closed)return}catch(fe){$e={error:fe}}finally{try{Je&&!Je.done&&(_t=Ae.return)&&(yield _t.call(Ae))}finally{if($e)throw $e.error}}Me.complete()})})(je,Me).catch(Ae=>Me.error(Ae))})}},6451:(At,Re,H)=>{H.d(Re,{T:()=>oe});var d=H(8189),se=H(8421),U=H(515),pe=H(3269),me=H(8996);function oe(...Se){const Te=(0,pe.yG)(Se),ve=(0,pe._6)(Se,1/0),Y=Se;return Y.length?1===Y.length?(0,se.Xf)(Y[0]):(0,d.J)(ve)((0,me.D)(Y,Te)):U.E}},5403:(At,Re,H)=>{H.d(Re,{x:()=>se});var d=H(930);function se(pe,me,oe,Se,Te){return new U(pe,me,oe,Se,Te)}class U extends d.Lv{constructor(me,oe,Se,Te,ve,Y){super(me),this.onFinalize=ve,this.shouldUnsubscribe=Y,this._next=oe?function(K){try{oe(K)}catch(te){me.error(te)}}:super._next,this._error=Te?function(K){try{Te(K)}catch(te){me.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(K){me.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},4004:(At,Re,H)=>{H.d(Re,{U:()=>U});var d=H(4482),se=H(5403);function U(pe,me){return(0,d.e)((oe,Se)=>{let Te=0;oe.subscribe((0,se.x)(Se,ve=>{Se.next(pe.call(me,ve,Te++))}))})}},8189:(At,Re,H)=>{H.d(Re,{J:()=>U});var d=H(5577),se=H(4671);function U(pe=1/0){return(0,d.z)(se.y,pe)}},5577:(At,Re,H)=>{H.d(Re,{z:()=>Te});var d=H(4004),se=H(8421),U=H(4482),pe=H(9672),me=H(5403),Se=H(576);function Te(ve,Y,K=1/0){return(0,Se.m)(Y)?Te((te,Xe)=>(0,d.U)((Pe,rt)=>Y(te,Pe,Xe,rt))((0,se.Xf)(ve(te,Xe))),K):("number"==typeof Y&&(K=Y),(0,U.e)((te,Xe)=>function oe(ve,Y,K,te,Xe,Pe,rt,Et){const xe=[];let Ue=0,He=0,Ke=!1;const je=()=>{Ke&&!xe.length&&!Ue&&Y.complete()},Me=Je=>Ue<te?Ae(Je):xe.push(Je),Ae=Je=>{Pe&&Y.next(Je),Ue++;let $e=!1;(0,se.Xf)(K(Je,He++)).subscribe((0,me.x)(Y,_t=>{Xe?.(_t),Pe?Me(_t):Y.next(_t)},()=>{$e=!0},void 0,()=>{if($e)try{for(Ue--;xe.length&&Ue<te;){const _t=xe.shift();rt?(0,pe.f)(Y,rt,()=>Ae(_t)):Ae(_t)}je()}catch(_t){Y.error(_t)}}))};return ve.subscribe((0,me.x)(Y,Me,()=>{Ke=!0,je()})),()=>{Et?.()}}(te,Xe,ve,K)))}},5363:(At,Re,H)=>{H.d(Re,{Q:()=>pe});var d=H(9672),se=H(4482),U=H(5403);function pe(me,oe=0){return(0,se.e)((Se,Te)=>{Se.subscribe((0,U.x)(Te,ve=>(0,d.f)(Te,me,()=>Te.next(ve),oe),()=>(0,d.f)(Te,me,()=>Te.complete(),oe),ve=>(0,d.f)(Te,me,()=>Te.error(ve),oe)))})}},3099:(At,Re,H)=>{H.d(Re,{B:()=>me});var d=H(8421),se=H(7579),U=H(930),pe=H(4482);function me(Se={}){const{connector:Te=(()=>new se.x),resetOnError:ve=!0,resetOnComplete:Y=!0,resetOnRefCountZero:K=!0}=Se;return te=>{let Xe,Pe,rt,Et=0,xe=!1,Ue=!1;const He=()=>{Pe?.unsubscribe(),Pe=void 0},Ke=()=>{He(),Xe=rt=void 0,xe=Ue=!1},je=()=>{const Me=Xe;Ke(),Me?.unsubscribe()};return(0,pe.e)((Me,Ae)=>{Et++,!Ue&&!xe&&He();const Je=rt=rt??Te();Ae.add(()=>{Et--,0===Et&&!Ue&&!xe&&(Pe=oe(je,K))}),Je.subscribe(Ae),!Xe&&Et>0&&(Xe=new U.Hp({next:$e=>Je.next($e),error:$e=>{Ue=!0,He(),Pe=oe(Ke,ve,$e),Je.error($e)},complete:()=>{xe=!0,He(),Pe=oe(Ke,Y),Je.complete()}}),(0,d.Xf)(Me).subscribe(Xe))})(te)}}function oe(Se,Te,...ve){if(!0===Te)return void Se();if(!1===Te)return;const Y=new U.Hp({next:()=>{Y.unsubscribe(),Se()}});return(0,d.Xf)(Te(...ve)).subscribe(Y)}},9468:(At,Re,H)=>{H.d(Re,{R:()=>se});var d=H(4482);function se(U,pe=0){return(0,d.e)((me,oe)=>{oe.add(U.schedule(()=>me.subscribe(oe),pe))})}},8505:(At,Re,H)=>{H.d(Re,{b:()=>me});var d=H(576),se=H(4482),U=H(5403),pe=H(4671);function me(oe,Se,Te){const ve=(0,d.m)(oe)||Se||Te?{next:oe,error:Se,complete:Te}:oe;return ve?(0,se.e)((Y,K)=>{var te;null===(te=ve.subscribe)||void 0===te||te.call(ve);let Xe=!0;Y.subscribe((0,U.x)(K,Pe=>{var rt;null===(rt=ve.next)||void 0===rt||rt.call(ve,Pe),K.next(Pe)},()=>{var Pe;Xe=!1,null===(Pe=ve.complete)||void 0===Pe||Pe.call(ve),K.complete()},Pe=>{var rt;Xe=!1,null===(rt=ve.error)||void 0===rt||rt.call(ve,Pe),K.error(Pe)},()=>{var Pe,rt;Xe&&(null===(Pe=ve.unsubscribe)||void 0===Pe||Pe.call(ve)),null===(rt=ve.finalize)||void 0===rt||rt.call(ve)}))}):pe.y}},4408:(At,Re,H)=>{H.d(Re,{o:()=>me});var d=H(727);class se extends d.w0{constructor(Se,Te){super()}schedule(Se,Te=0){return this}}const U={setInterval(oe,Se,...Te){const{delegate:ve}=U;return ve?.setInterval?ve.setInterval(oe,Se,...Te):setInterval(oe,Se,...Te)},clearInterval(oe){const{delegate:Se}=U;return(Se?.clearInterval||clearInterval)(oe)},delegate:void 0};var pe=H(8737);class me extends se{constructor(Se,Te){super(Se,Te),this.scheduler=Se,this.work=Te,this.pending=!1}schedule(Se,Te=0){var ve;if(this.closed)return this;this.state=Se;const Y=this.id,K=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(K,Y,Te)),this.pending=!0,this.delay=Te,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(K,this.id,Te),this}requestAsyncId(Se,Te,ve=0){return U.setInterval(Se.flush.bind(Se,this),ve)}recycleAsyncId(Se,Te,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return Te;null!=Te&&U.clearInterval(Te)}execute(Se,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(Se,Te);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Te){let Y,ve=!1;try{this.work(Se)}catch(K){ve=!0,Y=K||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Te}=this,{actions:ve}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(ve,this),null!=Se&&(this.id=this.recycleAsyncId(Te,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(At,Re,H)=>{H.d(Re,{v:()=>U});var d=H(6063);class se{constructor(me,oe=se.now){this.schedulerActionCtor=me,this.now=oe}schedule(me,oe=0,Se){return new this.schedulerActionCtor(this,me).schedule(Se,oe)}}se.now=d.l.now;class U extends se{constructor(me,oe=se.now){super(me,oe),this.actions=[],this._active=!1}flush(me){const{actions:oe}=this;if(this._active)return void oe.push(me);let Se;this._active=!0;do{if(Se=me.execute(me.state,me.delay))break}while(me=oe.shift());if(this._active=!1,Se){for(;me=oe.shift();)me.unsubscribe();throw Se}}}},4986:(At,Re,H)=>{H.d(Re,{P:()=>pe,z:()=>U});var d=H(4408);const U=new(H(7565).v)(d.o),pe=U},6063:(At,Re,H)=>{H.d(Re,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(At,Re,H)=>{H.d(Re,{z:()=>d});const d={setTimeout(se,U,...pe){const{delegate:me}=d;return me?.setTimeout?me.setTimeout(se,U,...pe):setTimeout(se,U,...pe)},clearTimeout(se){const{delegate:U}=d;return(U?.clearTimeout||clearTimeout)(se)},delegate:void 0}},2202:(At,Re,H)=>{H.d(Re,{h:()=>se});const se=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,Re,H)=>{H.d(Re,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(At,Re,H)=>{H.d(Re,{_6:()=>oe,jO:()=>pe,yG:()=>me});var d=H(576),se=H(3532);function U(Se){return Se[Se.length-1]}function pe(Se){return(0,d.m)(U(Se))?Se.pop():void 0}function me(Se){return(0,se.K)(U(Se))?Se.pop():void 0}function oe(Se,Te){return"number"==typeof U(Se)?Se.pop():Te}},8737:(At,Re,H)=>{function d(se,U){if(se){const pe=se.indexOf(U);0<=pe&&se.splice(pe,1)}}H.d(Re,{P:()=>d})},3888:(At,Re,H)=>{function d(se){const pe=se(me=>{Error.call(me),me.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}H.d(Re,{d:()=>d})},2806:(At,Re,H)=>{H.d(Re,{O:()=>pe,x:()=>U});var d=H(2416);let se=null;function U(me){if(d.v.useDeprecatedSynchronousErrorHandling){const oe=!se;if(oe&&(se={errorThrown:!1,error:null}),me(),oe){const{errorThrown:Se,error:Te}=se;if(se=null,Se)throw Te}}else me()}function pe(me){d.v.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=me)}},9672:(At,Re,H)=>{function d(se,U,pe,me=0,oe=!1){const Se=U.schedule(function(){pe(),oe?se.add(this.schedule(null,me)):this.unsubscribe()},me);if(se.add(Se),!oe)return Se}H.d(Re,{f:()=>d})},4671:(At,Re,H)=>{function d(se){return se}H.d(Re,{y:()=>d})},1144:(At,Re,H)=>{H.d(Re,{z:()=>d});const d=se=>se&&"number"==typeof se.length&&"function"!=typeof se},2206:(At,Re,H)=>{H.d(Re,{D:()=>se});var d=H(576);function se(U){return Symbol.asyncIterator&&(0,d.m)(U?.[Symbol.asyncIterator])}},576:(At,Re,H)=>{function d(se){return"function"==typeof se}H.d(Re,{m:()=>d})},3670:(At,Re,H)=>{H.d(Re,{c:()=>U});var d=H(8822),se=H(576);function U(pe){return(0,se.m)(pe[d.L])}},6495:(At,Re,H)=>{H.d(Re,{T:()=>U});var d=H(2202),se=H(576);function U(pe){return(0,se.m)(pe?.[d.h])}},8239:(At,Re,H)=>{H.d(Re,{t:()=>se});var d=H(576);function se(U){return(0,d.m)(U?.then)}},3260:(At,Re,H)=>{H.d(Re,{L:()=>pe,Q:()=>U});var d=H(655),se=H(576);function U(me){return(0,d.FC)(this,arguments,function*(){const Se=me.getReader();try{for(;;){const{value:Te,done:ve}=yield(0,d.qq)(Se.read());if(ve)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Te)}}finally{Se.releaseLock()}})}function pe(me){return(0,se.m)(me?.getReader)}},3532:(At,Re,H)=>{H.d(Re,{K:()=>se});var d=H(576);function se(U){return U&&(0,d.m)(U.schedule)}},4482:(At,Re,H)=>{H.d(Re,{A:()=>se,e:()=>U});var d=H(576);function se(pe){return(0,d.m)(pe?.lift)}function U(pe){return me=>{if(se(me))return me.lift(function(oe){try{return pe(oe,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(At,Re,H)=>{function d(){}H.d(Re,{Z:()=>d})},9635:(At,Re,H)=>{H.d(Re,{U:()=>U,z:()=>se});var d=H(4671);function se(...pe){return U(pe)}function U(pe){return 0===pe.length?d.y:1===pe.length?pe[0]:function(oe){return pe.reduce((Se,Te)=>Te(Se),oe)}}},7849:(At,Re,H)=>{H.d(Re,{h:()=>U});var d=H(2416),se=H(3410);function U(pe){se.z.setTimeout(()=>{const{onUnhandledError:me}=d.v;if(!me)throw pe;me(pe)})}},4532:(At,Re,H)=>{function d(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Re,{z:()=>d})},655:(At,Re,H)=>{function pe(we,Ee){var ke={};for(var Fe in we)Object.prototype.hasOwnProperty.call(we,Fe)&&Ee.indexOf(Fe)<0&&(ke[Fe]=we[Fe]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Fe=Object.getOwnPropertySymbols(we);et<Fe.length;et++)Ee.indexOf(Fe[et])<0&&Object.prototype.propertyIsEnumerable.call(we,Fe[et])&&(ke[Fe[et]]=we[Fe[et]])}return ke}function te(we,Ee,ke,Fe){return new(ke||(ke=Promise))(function(Ze,It){function Dt(sn){try{ut(Fe.next(sn))}catch(Nt){It(Nt)}}function Gt(sn){try{ut(Fe.throw(sn))}catch(Nt){It(Nt)}}function ut(sn){sn.done?Ze(sn.value):function et(Ze){return Ze instanceof ke?Ze:new ke(function(It){It(Ze)})}(sn.value).then(Dt,Gt)}ut((Fe=Fe.apply(we,Ee||[])).next())})}function je(we){return this instanceof je?(this.v=we,this):new je(we)}function Me(we,Ee,ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Fe=ke.apply(we,Ee||[]),Ze=[];return et={},It("next"),It("throw"),It("return"),et[Symbol.asyncIterator]=function(){return this},et;function It(xn){Fe[xn]&&(et[xn]=function(Nn){return new Promise(function($n,ur){Ze.push([xn,Nn,$n,ur])>1||Dt(xn,Nn)})})}function Dt(xn,Nn){try{!function Gt(xn){xn.value instanceof je?Promise.resolve(xn.value.v).then(ut,sn):Nt(Ze[0][2],xn)}(Fe[xn](Nn))}catch($n){Nt(Ze[0][3],$n)}}function ut(xn){Dt("next",xn)}function sn(xn){Dt("throw",xn)}function Nt(xn,Nn){xn(Nn),Ze.shift(),Ze.length&&Dt(Ze[0][0],Ze[0][1])}}function Je(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Ee=we[Symbol.asyncIterator];return Ee?Ee.call(we):(we=function Et(we){var Ee="function"==typeof Symbol&&Symbol.iterator,ke=Ee&&we[Ee],Fe=0;if(ke)return ke.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Fe>=we.length&&(we=void 0),{value:we&&we[Fe++],done:!we}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),ke={},Fe("next"),Fe("throw"),Fe("return"),ke[Symbol.asyncIterator]=function(){return this},ke);function Fe(Ze){ke[Ze]=we[Ze]&&function(It){return new Promise(function(Dt,Gt){!function et(Ze,It,Dt,Gt){Promise.resolve(Gt).then(function(ut){Ze({value:ut,done:Dt})},It)}(Dt,Gt,(It=we[Ze](It)).done,It.value)})}}}H.d(Re,{FC:()=>Me,KL:()=>Je,_T:()=>pe,mG:()=>te,qq:()=>je})},4650:(At,Re,H)=>{H.d(Re,{$8M:()=>cl,$WT:()=>Hi,$Z:()=>eC,AFp:()=>Bg,ALo:()=>ww,AaK:()=>Te,BQk:()=>ug,CHM:()=>$l,CRH:()=>ab,CZH:()=>kp,CqO:()=>F0,D6c:()=>Vb,EJc:()=>YD,EiD:()=>_o,EpF:()=>Iy,F$t:()=>My,F4k:()=>Sy,FYo:()=>Qv,FiY:()=>ac,Gf:()=>bh,GfV:()=>PE,GkF:()=>P0,Gpc:()=>K,Hsn:()=>xC,Ikx:()=>pp,JOm:()=>Pt,JVY:()=>U_,JZr:()=>Et,KtG:()=>Gl,L6k:()=>H_,LAX:()=>qi,LFG:()=>Cn,Lbi:()=>zw,Lck:()=>vD,MAs:()=>xy,MMx:()=>Jy,NdJ:()=>Ty,O4$:()=>Yl,OlP:()=>fn,Oqu:()=>dp,P3R:()=>Ff,PXZ:()=>_A,Q6J:()=>Ey,QGY:()=>sp,QbO:()=>Ug,Qsj:()=>FT,R0b:()=>Qi,RDi:()=>V_,Rgc:()=>yh,SBq:()=>Hf,Sil:()=>dA,Suo:()=>Aw,TTD:()=>fd,TgZ:()=>ip,Udp:()=>uh,W1O:()=>Rg,X6Q:()=>Tb,XFs:()=>Tt,Xpm:()=>gs,Xts:()=>Hv,Y36:()=>qf,YKP:()=>Dc,YNc:()=>ag,Yjl:()=>nn,Yz7:()=>Nt,Z0I:()=>ur,ZZ4:()=>ax,_Bn:()=>br,_UZ:()=>cg,_Vd:()=>Uf,_c5:()=>dI,_uU:()=>K0,aQg:()=>Il,c2e:()=>Hg,cJS:()=>Nn,cg1:()=>iw,dDg:()=>gA,dqk:()=>vn,eBb:()=>j_,eFA:()=>Yw,eJc:()=>ja,ekj:()=>cp,eoX:()=>qw,f3M:()=>ei,g9A:()=>jw,h0i:()=>mh,hGG:()=>IA,hij:()=>Ly,iGM:()=>Mw,ifc:()=>De,ip1:()=>Uw,jDz:()=>Ss,kL8:()=>YC,kcU:()=>Lo,lG2:()=>Ft,lcZ:()=>Jn,lqb:()=>Qd,lri:()=>Op,mCW:()=>yc,n5z:()=>fu,oAB:()=>ue,oxw:()=>ap,pB0:()=>Af,q3G:()=>Kn,q4F:()=>FE,qLn:()=>qm,qOj:()=>D0,qZA:()=>rp,qzn:()=>$r,rWj:()=>xb,sBO:()=>yA,s_b:()=>Tg,soG:()=>jg,tBr:()=>dl,tb:()=>nI,tp0:()=>wt,uIk:()=>wy,vHH:()=>xe,vpe:()=>yn,wAp:()=>Ut,xp6:()=>qE,ynx:()=>Bu,z2F:()=>qg,z3N:()=>ir,zSh:()=>Fu,zs3:()=>zf});var d=H(7579),se=H(727),U=H(9751),pe=H(6451),me=H(3099);function oe(a){for(let l in a)if(a[l]===oe)return l;throw Error("Could not find renamed property on target object.")}function Se(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function Te(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Te).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ve(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Y=oe({__forward_ref__:oe});function K(a){return a.__forward_ref__=K,a.toString=function(){return Te(this())},a}function te(a){return Xe(a)?a():a}function Xe(a){return"function"==typeof a&&a.hasOwnProperty(Y)&&a.__forward_ref__===K}function Pe(a){return a&&!!a.\u0275providers}const Et="https://g.co/ng/security#xss";class xe extends Error{constructor(l,u){super(Ue(l,u)),this.code=l}}function Ue(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}function He(a){return"string"==typeof a?a:null==a?"":String(a)}function Je(a,l){throw new xe(-201,!1)}function It(a,l){null==a&&function Dt(a,l,u,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${u} ${f} ${l} <=Actual]`))}(l,a,null,"!=")}function Nt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Nn(a){return{providers:a.providers||[],imports:a.imports||[]}}function $n(a){return Cr(a,Kr)||Cr(a,ta)}function ur(a){return null!==$n(a)}function Cr(a,l){return a.hasOwnProperty(l)?a[l]:null}function Mo(a){return a&&(a.hasOwnProperty(Za)||a.hasOwnProperty(hr))?a[Za]:null}const Kr=oe({\u0275prov:oe}),Za=oe({\u0275inj:oe}),ta=oe({ngInjectableDef:oe}),hr=oe({ngInjectorDef:oe});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Lr;function Ji(a){const l=Lr;return Lr=a,l}function Dr(a,l,u){const f=$n(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&Tt.Optional?null:void 0!==l?l:void Je(Te(a))}const vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zr={},Vr="__NG_DI_FLAG__",Ui="ngTempTokenPath",Ir="ngTokenPath",Qn=/\n/gm,Br="\u0275",kn="__source";let Ao;function hn(a){const l=Ao;return Ao=a,l}function Ps(a,l=Tt.Default){if(void 0===Ao)throw new xe(-203,!1);return null===Ao?Dr(a,void 0,l):Ao.get(a,l&Tt.Optional?null:void 0,l)}function Cn(a,l=Tt.Default){return(function cd(){return Lr}()||Ps)(te(a),l)}function ei(a,l=Tt.Default){return Cn(a,bi(l))}function bi(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function ps(a){const l=[];for(let u=0;u<a.length;u++){const f=te(a[u]);if(Array.isArray(f)){if(0===f.length)throw new xe(900,!1);let m,y=Tt.Default;for(let w=0;w<f.length;w++){const D=f[w],T=ms(D);"number"==typeof T?-1===T?m=D.token:y|=T:m=D}l.push(Cn(m,y))}else l.push(Cn(f))}return l}function Hn(a,l){return a[Vr]=l,a.prototype[Vr]=l,a}function ms(a){return a[Vr]}function z(a){return{toString:a}.toString()}var J=(()=>((J=J||{})[J.OnPush=0]="OnPush",J[J.Default=1]="Default",J))(),De=(()=>{return(a=De||(De={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",De;var a})();const le={},qe=[],Vt=oe({\u0275cmp:oe}),pn=oe({\u0275dir:oe}),hi=oe({\u0275pipe:oe}),Gn=oe({\u0275mod:oe}),Mn=oe({\u0275fac:oe}),cn=oe({__NG_ELEMENT_ID__:oe});let fr=0;function gs(a){return z(()=>{const l=Uc(a),u={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||De.Emulated,id:"c"+fr++,styles:a.styles||qe,_:null,schemas:a.schemas||null,tView:null};cm(u);const f=a.dependencies;return u.directiveDefs=Ya(f,!1),u.pipeDefs=Ya(f,!0),u})}function Pl(a){return Mt(a)||wn(a)}function ye(a){return null!==a}function ue(a){return z(()=>({type:a.type,bootstrap:a.bootstrap||qe,declarations:a.declarations||qe,imports:a.imports||qe,exports:a.exports||qe,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function St(a,l){if(null==a)return le;const u={};for(const f in a)if(a.hasOwnProperty(f)){let m=a[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),u[m]=f,l&&(l[m]=y)}return u}function Ft(a){return z(()=>{const l=Uc(a);return cm(l),l})}function nn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Mt(a){return a[Vt]||null}function wn(a){return a[pn]||null}function mn(a){return a[hi]||null}function Hi(a){const l=Mt(a)||wn(a)||mn(a);return null!==l&&l.standalone}function vi(a,l){const u=a[Gn]||null;if(!u&&!0===l)throw new Error(`Type ${Te(a)} does not have '\u0275mod' property.`);return u}function Uc(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||qe,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:St(a.inputs,l),outputs:St(a.outputs)}}function cm(a){a.features?.forEach(l=>l(a))}function Ya(a,l){if(!a)return null;const u=l?mn:Pl;return()=>("function"==typeof a?a():a).map(f=>u(f)).filter(ye)}const Qr=0,it=1,Zt=2,jn=3,Xr=4,An=5,wi=6,Fl=7,ti=8,Nl=9,Ro=10,en=11,Ll=12,na=13,Ns=14,ko=15,fi=16,Qa=17,eo=18,_s=19,ia=20,Ai=21,Ln=22,Vl=1,ud=2,Xa=7,Oo=8,ra=9,ji=10;function Hr(a){return Array.isArray(a)&&"object"==typeof a[Vl]}function jr(a){return Array.isArray(a)&&!0===a[Vl]}function Bl(a){return 0!=(4&a.flags)}function Ja(a){return a.componentOffset>-1}function dd(a){return 1==(1&a.flags)}function Jr(a){return!!a.template}function jc(a){return 0!=(256&a[Zt])}function Ls(a,l){return a.hasOwnProperty(Mn)?a[Mn]:null}class sa{constructor(l,u,f){this.previousValue=l,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function fd(){return Ul}function Ul(a){return a.type.prototype.ngOnChanges&&(a.setInput=pd),Zh}function Zh(){const a=hm(this),l=a?.current;if(l){const u=a.previous;if(u===le)a.previous=l;else for(let f in l)u[f]=l[f];a.current=null,this.ngOnChanges(l)}}function pd(a,l,u,f){const m=this.declaredInputs[u],y=hm(a)||function Gc(a,l){return a[Po]=l}(a,{previous:le,current:null}),w=y.current||(y.current={}),D=y.previous,T=D[m];w[m]=new sa(T&&T.currentValue,l,D===le),a[f]=l}fd.ngInherit=!0;const Po="__ngSimpleChanges__";function hm(a){return a[Po]||null}const Tr=function(a,l,u){},pr="svg";function zi(a){for(;Array.isArray(a);)a=a[Qr];return a}function io(a,l){return zi(l[a])}function $i(a,l){return zi(l[a.index])}function Qh(a,l){return a.data[l]}function mr(a,l){return a[l]}function Ri(a,l){const u=l[a];return Hr(u)?u:u[Qr]}function ro(a){return 64==(64&a[Zt])}function No(a,l){return null==l?null:a[l]}function nl(a){a[eo]=0}function jl(a,l){a[An]+=l;let u=a,f=a[jn];for(;null!==f&&(1===l&&1===u[An]||-1===l&&0===u[An]);)f[An]+=l,u=f,f=f[jn]}const $t={lFrame:_d(null),bindingsEnabled:!0};function Zc(){return $t.bindingsEnabled}function be(){return $t.lFrame.lView}function Yt(){return $t.lFrame.tView}function $l(a){return $t.lFrame.contextLView=a,a[ti]}function Gl(a){return $t.lFrame.contextLView=null,a}function ki(){let a=oa();for(;null!==a&&64===a.type;)a=a.parent;return a}function oa(){return $t.lFrame.currentTNode}function Mr(a,l){const u=$t.lFrame;u.currentTNode=a,u.isParent=l}function nf(){return $t.lFrame.isParent}function Qc(){$t.lFrame.isParent=!1}function aa(){return $t.lFrame.bindingIndex++}function Xc(a,l){const u=$t.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ei(l)}function Ei(a){$t.lFrame.currentDirectiveIndex=a}function gd(){return $t.lFrame.currentQueryIndex}function Jc(a){$t.lFrame.currentQueryIndex=a}function sf(a){const l=a[it];return 2===l.type?l.declTNode:1===l.type?a[wi]:null}function eu(a,l,u){if(u&Tt.SkipSelf){let m=l,y=a;for(;!(m=m.parent,null!==m||u&Tt.Host||(m=sf(y),null===m||(y=y[ko],10&m.type))););if(null===m)return!1;l=m,a=y}const f=$t.lFrame=Kl();return f.currentTNode=l,f.lView=a,!0}function tu(a){const l=Kl(),u=a[it];$t.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Kl(){const a=$t.lFrame,l=null===a?null:a.child;return null===l?_d(a):l}function _d(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Zl(){const a=$t.lFrame;return $t.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const af=Zl;function nu(){const a=Zl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function tr(){return $t.lFrame.selectedIndex}function oo(a){$t.lFrame.selectedIndex=a}function qn(){const a=$t.lFrame;return Qh(a.tView,a.selectedIndex)}function Yl(){$t.lFrame.currentNamespace=pr}function Lo(){!function mm(){$t.lFrame.currentNamespace=null}()}function ru(a,l){for(let u=l.directiveStart,f=l.directiveEnd;u<f;u++){const y=a.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:O,ngOnDestroy:V}=y;w&&(a.contentHooks??(a.contentHooks=[])).push(-u,w),D&&((a.contentHooks??(a.contentHooks=[])).push(u,D),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(u,D)),T&&(a.viewHooks??(a.viewHooks=[])).push(-u,T),O&&((a.viewHooks??(a.viewHooks=[])).push(u,O),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(u,O)),null!=V&&(a.destroyHooks??(a.destroyHooks=[])).push(u,V)}}function yd(a,l,u){vd(a,l,3,u)}function bd(a,l,u,f){(3&a[Zt])===u&&vd(a,l,u,f)}function cf(a,l){let u=a[Zt];(3&u)===l&&(u&=2047,u+=1,a[Zt]=u)}function vd(a,l,u,f){const y=f??-1,w=l.length-1;let D=0;for(let T=void 0!==f?65535&a[eo]:0;T<w;T++)if("number"==typeof l[T+1]){if(D=l[T],null!=f&&D>=f)break}else l[T]<0&&(a[eo]+=65536),(D<y||-1==y)&&(rl(a,u,l,T),a[eo]=(4294901760&a[eo])+T+2),T++}function rl(a,l,u,f){const m=u[f]<0,y=u[f+1],D=a[m?-u[f]:u[f]];if(m){if(a[Zt]>>11<a[eo]>>16&&(3&a[Zt])===l){a[Zt]+=2048,Tr(4,D,y);try{y.call(D)}finally{Tr(5,D,y)}}}else{Tr(4,D,y);try{y.call(D)}finally{Tr(5,D,y)}}}const sl=-1;class ao{constructor(l,u,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function ol(a,l,u){let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const y=u[f++],w=u[f++],D=u[f++];a.setAttribute(l,w,D,y)}else{const y=m,w=u[++f];ua(y)?a.setProperty(l,y,w):a.setAttribute(l,y,w),f++}}return f}function wd(a){return 3===a||4===a||6===a}function ua(a){return 64===a.charCodeAt(0)}function da(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let f=0;f<l.length;f++){const m=l[f];"number"==typeof m?u=m:0===u||au(a,u,m,null,-1===u||2===u?l[++f]:null)}}return a}function au(a,l,u,f,m){let y=0,w=a.length;if(-1===l)w=-1;else for(;y<a.length;){const D=a[y++];if("number"==typeof D){if(D===l){w=-1;break}if(D>l){w=y-1;break}}}for(;y<a.length;){const D=a[y];if("number"==typeof D)break;if(D===u){if(null===f)return void(null!==m&&(a[y+1]=m));if(f===a[y+1])return void(a[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==w&&(a.splice(w,0,l),y=w+1),a.splice(y++,0,u),null!==f&&a.splice(y++,0,f),null!==m&&a.splice(y++,0,m)}function ha(a){return a!==sl}function Vo(a){return 32767&a}function fa(a,l){let u=function uf(a){return a>>16}(a),f=l;for(;u>0;)f=f[ko],u--;return f}let lu=!0;function Xl(a){const l=lu;return lu=a,l}const cu=255,df=5;let pa=0;const ns={};function xd(a,l){const u=ll(a,l);if(-1!==u)return u;const f=l[it];f.firstCreatePass&&(a.injectorIndex=l.length,al(f.data,a),al(l,null),al(f.blueprint,null));const m=hf(a,l),y=a.injectorIndex;if(ha(m)){const w=Vo(m),D=fa(m,l),T=D[it].data;for(let O=0;O<8;O++)l[y+O]=D[w+O]|T[w+O]}return l[y+8]=m,y}function al(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ll(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function hf(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,f=null,m=l;for(;null!==m;){if(f=tc(m),null===f)return sl;if(u++,m=m[ko],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return sl}function On(a,l,u){!function lo(a,l,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(cn)&&(f=u[cn]),null==f&&(f=u[cn]=pa++);const m=f&cu;l.data[a+(m>>df)]|=1<<m}(a,l,u)}function uu(a,l,u){if(u&Tt.Optional||void 0!==a)return a;Je()}function Ed(a,l,u,f){if(u&Tt.Optional&&void 0===f&&(f=null),!(u&(Tt.Self|Tt.Host))){const m=a[Nl],y=Ji(void 0);try{return m?m.get(l,f,u&Tt.Optional):Dr(l,f,u&Tt.Optional)}finally{Ji(y)}}return uu(f,0,u)}function du(a,l,u,f=Tt.Default,m){if(null!==a){if(1024&l[Zt]){const w=function Dd(a,l,u,f,m){let y=a,w=l;for(;null!==y&&null!==w&&1024&w[Zt]&&!(256&w[Zt]);){const D=hu(y,w,u,f|Tt.Self,ns);if(D!==ns)return D;let T=y.parent;if(!T){const O=w[Ai];if(O){const V=O.get(u,ns,f);if(V!==ns)return V}T=tc(w),w=w[ko]}y=T}return m}(a,l,u,f,ns);if(w!==ns)return w}const y=hu(a,l,u,f,ns);if(y!==ns)return y}return Ed(l,u,f,m)}function hu(a,l,u,f,m){const y=function Cd(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(cn)?a[cn]:void 0;return"number"==typeof l?l>=0?l&cu:ym:l}(u);if("function"==typeof y){if(!eu(l,a,f))return f&Tt.Host?uu(m,0,f):Ed(l,u,f,m);try{const w=y(f);if(null!=w||f&Tt.Optional)return w;Je()}finally{af()}}else if("number"==typeof y){let w=null,D=ll(a,l),T=sl,O=f&Tt.Host?l[fi][wi]:null;for((-1===D||f&Tt.SkipSelf)&&(T=-1===D?hf(a,l):l[D+8],T!==sl&&ec(f,!1)?(w=l[it],D=Vo(T),l=fa(T,l)):D=-1);-1!==D;){const V=l[it];if(Jl(y,D,V.data)){const j=Oi(D,l,u,w,f,O);if(j!==ns)return j}T=l[D+8],T!==sl&&ec(f,l[it].data[D+8]===O)&&Jl(y,D,l)?(w=V,D=Vo(T),l=fa(T,l)):D=-1}}return m}function Oi(a,l,u,f,m,y){const w=l[it],D=w.data[a+8],V=ma(D,w,u,null==f?Ja(D)&&lu:f!=w&&0!=(3&D.type),m&Tt.Host&&y===D);return null!==V?pi(l,w,V,D):ns}function ma(a,l,u,f,m){const y=a.providerIndexes,w=l.data,D=1048575&y,T=a.directiveStart,V=y>>20,X=m?D+V:a.directiveEnd;for(let ae=f?D:D+V;ae<X;ae++){const Ie=w[ae];if(ae<T&&u===Ie||ae>=T&&Ie.type===u)return ae}if(m){const ae=w[T];if(ae&&Jr(ae)&&ae.type===u)return T}return null}function pi(a,l,u,f){let m=a[u];const y=l.data;if(function R_(a){return a instanceof ao}(m)){const w=m;w.resolving&&function je(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new xe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function Ke(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():He(a)}(y[u]));const D=Xl(w.canSeeViewProviders);w.resolving=!0;const T=w.injectImpl?Ji(w.injectImpl):null;eu(a,f,Tt.Default);try{m=a[u]=w.factory(void 0,y,a,f),l.firstCreatePass&&u>=f.directiveStart&&function A_(a,l,u){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=l.type.prototype;if(f){const w=Ul(l);(u.preOrderHooks??(u.preOrderHooks=[])).push(a,w),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(a,w)}m&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-a,m),y&&((u.preOrderHooks??(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(a,y))}(u,y[u],l)}finally{null!==T&&Ji(T),Xl(D),w.resolving=!1,af()}}return m}function Jl(a,l,u){return!!(u[l+(a>>df)]&1<<a)}function ec(a,l){return!(a&Tt.Self||a&Tt.Host&&l)}class co{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,f){return du(this._tNode,this._lView,l,bi(f),u)}}function ym(){return new co(ki(),be())}function fu(a){return z(()=>{const l=a.prototype.constructor,u=l[Mn]||ga(l),f=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==f;){const y=m[Mn]||ga(m);if(y&&y!==u)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function ga(a){return Xe(a)?()=>{const l=ga(te(a));return l&&l()}:Ls(a)}function tc(a){const l=a[it],u=l.type;return 2===u?l.declTNode:1===u?a[wi]:null}function cl(a){return function ff(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const f=u.length;let m=0;for(;m<f;){const y=u[m];if(wd(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof u[m];)m++;else{if(y===l)return u[m+1];m+=2}}}return null}(ki(),a)}const _a="__parameters__";function ba(a,l,u){return z(()=>{const f=function ya(a){return function(...u){if(a){const f=a(...u);for(const m in f)this[m]=f[m]}}}(l);function m(...y){if(this instanceof m)return f.apply(this,y),this;const w=new m(...y);return D.annotation=w,D;function D(T,O,V){const j=T.hasOwnProperty(_a)?T[_a]:Object.defineProperty(T,_a,{value:[]})[_a];for(;j.length<=V;)j.push(null);return(j[V]=j[V]||[]).push(w),T}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class fn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Nt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Bs(a,l){a.forEach(u=>Array.isArray(u)?Bs(u,l):l(u))}function Em(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function wa(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function mu(a,l){const u=[];for(let f=0;f<a;f++)u.push(l);return u}function Ar(a,l,u){let f=zr(a,l);return f>=0?a[1|f]=u:(f=~f,function yu(a,l,u,f){let m=a.length;if(m==l)a.push(u,f);else if(1===m)a.push(f,a[0]),a[0]=u;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=u,a[l+1]=f}}(a,f,l,u)),f}function gn(a,l){const u=zr(a,l);if(u>=0)return a[1|u]}function zr(a,l){return function Dn(a,l,u){let f=0,m=a.length>>u;for(;m!==f;){const y=f+(m-f>>1),w=a[y<<u];if(l===w)return y<<u;w>l?m=y:f=y+1}return~(m<<u)}(a,l,1)}const dl=Hn(ba("Inject",a=>({token:a})),-1),ac=Hn(ba("Optional"),8),wt=Hn(ba("SkipSelf"),4);var Pt=(()=>((Pt=Pt||{})[Pt.Important=1]="Important",Pt[Pt.DashCase=2]="DashCase",Pt))();const bf=new Map;let xs=0;const ne="__ngContext__";function he(a,l){Hr(l)?(a[ne]=l[ia],function wf(a){bf.set(a[ia],a)}(l)):a[ne]=l}let Es;function Go(a,l){return Es(a,l)}function Nd(a){const l=a[jn];return jr(l)?l[jn]:l}function Ld(a){return Sm(a[na])}function Ia(a){return Sm(a[Xr])}function Sm(a){for(;null!==a&&!jr(a);)a=a[Xr];return a}function Sa(a,l,u,f,m){if(null!=f){let y,w=!1;jr(f)?y=f:Hr(f)&&(w=!0,f=f[Qr]);const D=zi(f);0===a&&null!==u?null==m?Bd(l,u,D):ml(l,u,D,m||null,!0):1===a&&null!==u?ml(l,u,D,m||null,!0):2===a?function Rm(a,l,u){const f=Ta(a,l);f&&function Ud(a,l,u,f){a.removeChild(l,u,f)}(a,f,l,u)}(l,D,w):3===a&&l.destroyNode(D),null!=y&&function $d(a,l,u,f,m){const y=u[Xa];y!==zi(u)&&Sa(l,a,f,y,m);for(let D=ji;D<u.length;D++){const T=u[D];zd(T[it],T,a,l,f,y)}}(l,a,y,u,m)}}function Mm(a,l,u){return a.createElement(l,u)}function F_(a,l){const u=a[ra],f=u.indexOf(l),m=l[jn];512&l[Zt]&&(l[Zt]&=-513,jl(m,-1)),u.splice(f,1)}function Vd(a,l){if(a.length<=ji)return;const u=ji+l,f=a[u];if(f){const m=f[Qa];null!==m&&m!==a&&F_(m,f),l>0&&(a[u-1][Xr]=f[Xr]);const y=wa(a,ji+l);!function Mv(a,l){zd(a,l,l[en],2,null,null),l[Qr]=null,l[wi]=null}(f[it],f);const w=y[_s];null!==w&&w.detachView(y[it]),f[jn]=null,f[Xr]=null,f[Zt]&=-65}return f}function Cf(a,l){if(!(128&l[Zt])){const u=l[en];u.destroyNode&&zd(a,l,u,3,null,null),function DE(a){let l=a[na];if(!l)return pl(a[it],a);for(;l;){let u=null;if(Hr(l))u=l[na];else{const f=l[ji];f&&(u=f)}if(!u){for(;l&&!l[Xr]&&l!==a;)Hr(l)&&pl(l[it],l),l=l[jn];null===l&&(l=a),Hr(l)&&pl(l[it],l),u=l&&l[Xr]}l=u}}(l)}}function pl(a,l){if(!(128&l[Zt])){l[Zt]&=-65,l[Zt]|=128,function hc(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let f=0;f<u.length;f+=2){const m=l[u[f]];if(!(m instanceof ao)){const y=u[f+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const D=m[y[w]],T=y[w+1];Tr(4,D,T);try{T.call(D)}finally{Tr(5,D,T)}}else{Tr(4,m,y);try{y.call(m)}finally{Tr(5,m,y)}}}}}(a,l),function Rv(a,l){const u=a.cleanup,f=l[Fl];let m=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const w=u[y+3];w>=0?f[m=w]():f[m=-w].unsubscribe(),y+=2}else{const w=f[m=u[y+1]];u[y].call(w)}if(null!==f){for(let y=m+1;y<f.length;y++)(0,f[y])();l[Fl]=null}}(a,l),1===l[it].type&&l[en].destroy();const u=l[Qa];if(null!==u&&jr(l[jn])){u!==l[jn]&&F_(u,l);const f=l[_s];null!==f&&f.detachView(a)}!function C(a){bf.delete(a[ia])}(l)}}function Mu(a,l,u){return function kv(a,l,u){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return u[Qr];{const{componentOffset:m}=f;if(m>-1){const{encapsulation:y}=a.data[f.directiveStart+m];if(y===De.None||y===De.Emulated)return null}return $i(f,u)}}(a,l.parent,u)}function ml(a,l,u,f,m){a.insertBefore(l,u,f,m)}function Bd(a,l,u){a.appendChild(l,u)}function N_(a,l,u,f,m){null!==f?ml(a,l,u,f,m):Bd(a,l,u)}function Ta(a,l){return a.parentNode(l)}function If(a,l,u){return fc(a,l,u)}let Am,gl,Wd,Ru,fc=function Hd(a,l,u){return 40&a.type?$i(a,u):null};function pc(a,l,u,f){const m=Mu(a,f,l),y=l[en],D=If(f.parent||l[wi],f,l);if(null!=m)if(Array.isArray(u))for(let T=0;T<u.length;T++)N_(y,m,u[T],D,!1);else N_(y,m,u,D,!1);void 0!==Am&&Am(y,f,l,u,m)}function Tf(a,l){if(null!==l){const u=l.type;if(3&u)return $i(l,a);if(4&u)return mo(-1,a[l.index]);if(8&u){const f=l.child;if(null!==f)return Tf(a,f);{const m=a[l.index];return jr(m)?mo(-1,m):zi(m)}}if(32&u)return Go(l,a)()||zi(a[l.index]);{const f=Mf(a,l);return null!==f?Array.isArray(f)?f[0]:Tf(Nd(a[fi]),f):Tf(a,l.next)}}return null}function Mf(a,l){return null!==l?a[fi][wi].projection[l.projection]:null}function mo(a,l){const u=ji+a+1;if(u<l.length){const f=l[u],m=f[it].firstChild;if(null!==m)return Tf(f,m)}return l[Xa]}function jd(a,l,u,f,m,y,w){for(;null!=u;){const D=f[u.index],T=u.type;if(w&&0===l&&(D&&he(zi(D),f),u.flags|=2),32!=(32&u.flags))if(8&T)jd(a,l,u.child,f,m,y,!1),Sa(l,a,m,D,y);else if(32&T){const O=Go(u,f);let V;for(;V=O();)Sa(l,a,m,V,y);Sa(l,a,m,D,y)}else 16&T?Om(a,l,f,u,m,y):Sa(l,a,m,D,y);u=w?u.projectionNext:u.next}}function zd(a,l,u,f,m,y){jd(u,f,a.firstChild,l,m,y,!1)}function Om(a,l,u,f,m,y){const w=u[fi],T=w[wi].projection[f.projection];if(Array.isArray(T))for(let O=0;O<T.length;O++)Sa(l,a,m,T[O],y);else jd(a,l,T,w[jn],m,y,!0)}function Hs(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function Gd(a,l,u){const{mergedAttrs:f,classes:m,styles:y}=u;null!==f&&ol(a,l,f),null!==m&&Hs(a,l,m),null!==y&&function Pm(a,l,u){a.setAttribute(l,"style",u)}(a,l,y)}function Au(a){return function qd(){if(void 0===gl&&(gl=null,vn.trustedTypes))try{gl=vn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return gl}()?.createHTML(a)||a}function V_(a){Wd=a}function Lm(a){return function Nm(){if(void 0===Ru&&(Ru=null,vn.trustedTypes))try{Ru=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Ru}()?.createScriptURL(a)||a}class gc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Et})`}}class Vm extends gc{getTypeName(){return"HTML"}}class Bm extends gc{getTypeName(){return"Style"}}class Nv extends gc{getTypeName(){return"Script"}}class Um extends gc{getTypeName(){return"URL"}}class Hm extends gc{getTypeName(){return"ResourceURL"}}function ir(a){return a instanceof gc?a.changingThisBreaksApplicationSecurity:a}function $r(a,l){const u=function ku(a){return a instanceof gc&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${Et})`)}return u===l}function U_(a){return new Vm(a)}function H_(a){return new Bm(a)}function j_(a){return new Nv(a)}function qi(a){return new Um(a)}function Af(a){return new Hm(a)}class kf{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Au(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class Wo{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const u=this.inertDocument.createElement("template");return u.innerHTML=Au(l),u}}const jm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yc(a){return(a=String(a)).match(jm)?a:"unsafe:"+a}function go(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function bc(...a){const l={};for(const u of a)for(const f in u)u.hasOwnProperty(f)&&(l[f]=!0);return l}const Ou=go("area,br,col,hr,img,wbr"),z_=go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$_=go("rp,rt"),_=bc(Ou,bc(z_,go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bc($_,go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bc($_,z_)),E=go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),G=bc(E,go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ie=go("script,style,template");class Ne{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!_.hasOwnProperty(u))return this.sanitizedSomething=!0,!ie.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=l.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),w=y.name,D=w.toLowerCase();if(!G.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=y.value;E[D]&&(T=yc(T)),this.buf.push(" ",w,'="',pt(T),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();_.hasOwnProperty(u)&&!Ou.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(pt(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dt=/([^\#-~ |!])/g;function pt(a){return a.replace(/&/g,"&amp;").replace(Qe,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(dt,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wn;function _o(a,l){let u=null;try{Wn=Wn||function Rf(a){const l=new Wo(a);return function _c(){try{return!!(new window.DOMParser).parseFromString(Au(""),"text/html")}catch{return!1}}()?new kf(l):l}(a);let f=l?String(l):"";u=Wn.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=u.innerHTML,u=Wn.getInertBodyElement(f)}while(f!==y);return Au((new Ne).sanitizeChildren(Kd(u)||u))}finally{if(u){const f=Kd(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Kd(a){return"content"in a&&function Lv(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function Of(a){const l=zm();return l?l.sanitize(Kn.URL,a)||"":$r(a,"URL")?ir(a):yc(He(a))}function Zd(a){const l=zm();if(l)return Lm(l.sanitize(Kn.RESOURCE_URL,a)||"");if($r(a,"ResourceURL"))return Lm(ir(a));throw new xe(904,!1)}function Ff(a,l,u){return function Vv(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?Zd:Of}(l,u)(a)}function zm(){const a=be();return a&&a[Ll]}const Hv=new fn("ENVIRONMENT_INITIALIZER"),Yd=new fn("INJECTOR",-1),Nf=new fn("INJECTOR_DEF_TYPES");class IE{get(l,u=Zr){if(u===Zr){const f=new Error(`NullInjectorError: No provider for ${Te(l)}!`);throw f.name="NullInjectorError",f}return u}}function $m(...a){return{\u0275providers:Lf(0,a),\u0275fromNgModule:!0}}function Lf(a,...l){const u=[],f=new Set;let m;return Bs(l,y=>{const w=y;jv(w,u,[],f)&&(m||(m=[]),m.push(w))}),void 0!==m&&SE(m,u),u}function SE(a,l){for(let u=0;u<a.length;u++){const{providers:m}=a[u];zv(m,y=>{l.push(y)})}}function jv(a,l,u,f){if(!(a=te(a)))return!1;let m=null,y=Mo(a);const w=!y&&Mt(a);if(y||w){if(w&&!w.standalone)return!1;m=a}else{const T=a.ngModule;if(y=Mo(T),!y)return!1;m=T}const D=f.has(m);if(w){if(D)return!1;if(f.add(m),w.dependencies){const T="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const O of T)jv(O,l,u,f)}}else{if(!y)return!1;{if(null!=y.imports&&!D){let O;f.add(m);try{Bs(y.imports,V=>{jv(V,l,u,f)&&(O||(O=[]),O.push(V))})}finally{}void 0!==O&&SE(O,l)}if(!D){const O=Ls(m)||(()=>new m);l.push({provide:m,useFactory:O,deps:qe},{provide:Nf,useValue:m,multi:!0},{provide:Hv,useValue:()=>Cn(m),multi:!0})}const T=y.providers;null==T||D||zv(T,V=>{l.push(V)})}}return m!==a&&void 0!==a.providers}function zv(a,l){for(let u of a)Pe(u)&&(u=u.\u0275providers),Array.isArray(u)?zv(u,l):l(u)}const TT=oe({provide:String,useValue:oe});function $v(a){return null!==a&&"object"==typeof a&&TT in a}function vc(a){return"function"==typeof a}const Fu=new fn("Set Injector scope."),Z_={},AT={};let Gv;function Y_(){return void 0===Gv&&(Gv=new IE),Gv}class Qd{}class ME extends Qd{get destroyed(){return this._destroyed}constructor(l,u,f,m){super(),this.parent=u,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(l,w=>this.processProvider(w)),this.records.set(Yd,Vf(void 0,this)),m.has("environment")&&this.records.set(Qd,Vf(void 0,this));const y=this.records.get(Fu);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Nf.multi,qe,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=hn(this),f=Ji(void 0);try{return l()}finally{hn(u),Ji(f)}}get(l,u=Zr,f=Tt.Default){this.assertNotDestroyed(),f=bi(f);const m=hn(this),y=Ji(void 0);try{if(!(f&Tt.SkipSelf)){let D=this.records.get(l);if(void 0===D){const T=function Zv(a){return"function"==typeof a||"object"==typeof a&&a instanceof fn}(l)&&$n(l);D=T&&this.injectableDefInScope(T)?Vf(qv(l),Z_):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(f&Tt.Self?Y_():this.parent).get(l,u=f&Tt.Optional&&u===Zr?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[Ui]=w[Ui]||[]).unshift(Te(l)),m)throw w;return function Sr(a,l,u,f){const m=a[Ui];throw l[kn]&&m.unshift(l[kn]),a.message=function q(a,l,u,f=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Br?a.slice(2):a;let m=Te(l);if(Array.isArray(l))m=l.map(Te).join(" -> ");else if("object"==typeof l){let y=[];for(let w in l)if(l.hasOwnProperty(w)){let D=l[w];y.push(w+":"+("string"==typeof D?JSON.stringify(D):Te(D)))}m=`{${y.join(", ")}}`}return`${u}${f?"("+f+")":""}[${m}]: ${a.replace(Qn,"\n  ")}`}("\n"+a.message,m,u,f),a[Ir]=m,a[Ui]=null,a}(w,l,"R3InjectorError",this.source)}throw w}finally{Ji(y),hn(m)}}resolveInjectorInitializers(){const l=hn(this),u=Ji(void 0);try{const f=this.get(Hv.multi,qe,Tt.Self);for(const m of f)m()}finally{hn(l),Ji(u)}}toString(){const l=[],u=this.records;for(const f of u.keys())l.push(Te(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(l){let u=vc(l=te(l))?l:te(l&&l.provide);const f=function kT(a){return $v(a)?Vf(void 0,a.useValue):Vf(Wv(a),Z_)}(l);if(vc(l)||!0!==l.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=Vf(void 0,Z_,!0),m.factory=()=>ps(m.multi),this.records.set(u,m)),u=l,m.multi.push(l)}this.records.set(u,f)}hydrate(l,u){return u.value===Z_&&(u.value=AT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function AE(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=te(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function qv(a){const l=$n(a),u=null!==l?l.factory:Ls(a);if(null!==u)return u;if(a instanceof fn)throw new xe(204,!1);if(a instanceof Function)return function RT(a){const l=a.length;if(l>0)throw mu(l,"?"),new xe(204,!1);const u=function dr(a){return a&&(a[Kr]||a[ta])||null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new xe(204,!1)}function Wv(a,l,u){let f;if(vc(a)){const m=te(a);return Ls(m)||qv(m)}if($v(a))f=()=>te(a.useValue);else if(function TE(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...ps(a.deps||[]));else if(function MT(a){return!(!a||!a.useExisting)}(a))f=()=>Cn(te(a.useExisting));else{const m=te(a&&(a.useClass||a.provide));if(!function Kv(a){return!!a.deps}(a))return Ls(m)||qv(m);f=()=>new m(...ps(a.deps))}return f}function Vf(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function Bf(a,l){for(const u of a)Array.isArray(u)?Bf(u,l):u&&Pe(u)?Bf(u.\u0275providers,l):l(u)}class OT{}class RE{}class OE{resolveComponentFactory(l){throw function PT(a){const l=Error(`No component factory found for ${Te(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Uf=(()=>{class a{}return a.NULL=new OE,a})();function Q_(){return wc(ki(),be())}function wc(a,l){return new Hf($i(a,l))}let Hf=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Q_,a})();function Gm(a){return a instanceof Hf?a.nativeElement:a}class Qv{}let FT=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function NT(){const a=be(),u=Ri(ki().index,a);return(Hr(u)?u:a)[en]}(),a})(),LT=(()=>{class a{}return a.\u0275prov=Nt({token:a,providedIn:"root",factory:()=>null}),a})();class PE{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const FE=new PE("15.2.8"),X_={},Xv="ngOriginalError";function Jv(a){return a[Xv]}class qm{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Jv(l);for(;u&&Jv(u);)u=Jv(u);return u||null}}function _l(a){return a instanceof Function?a():a}function HE(a,l,u){let f=a.length;for(;;){const m=a.indexOf(l,u);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const y=l.length;if(m+y===f||a.charCodeAt(m+y)<=32)return m}u=m+1}}const e0="ng-template";function t0(a,l,u){let f=0,m=!0;for(;f<a.length;){let y=a[f++];if("string"==typeof y&&m){const w=a[f++];if(u&&"class"===y&&-1!==HE(w.toLowerCase(),l,0))return!0}else{if(1===y){for(;f<a.length&&"string"==typeof(y=a[f++]);)if(y.toLowerCase()===l)return!0;return!1}"number"==typeof y&&(m=!1)}}return!1}function n0(a){return 4===a.type&&a.value!==e0}function jf(a,l,u){return l===(4!==a.type||u?a.value:e0)}function r0(a,l,u){let f=4;const m=a.attrs||[],y=function zE(a){for(let l=0;l<a.length;l++)if(wd(a[l]))return l;return a.length}(m);let w=!1;for(let D=0;D<l.length;D++){const T=l[D];if("number"!=typeof T){if(!w)if(4&f){if(f=2|1&f,""!==T&&!jf(a,T,u)||""===T&&1===l.length){if(Ma(f))return!1;w=!0}}else{const O=8&f?T:l[++D];if(8&f&&null!==a.attrs){if(!t0(a.attrs,O,u)){if(Ma(f))return!1;w=!0}continue}const j=jE(8&f?"class":T,m,n0(a),u);if(-1===j){if(Ma(f))return!1;w=!0;continue}if(""!==O){let X;X=j>y?"":m[j+1].toLowerCase();const ae=8&f?X:null;if(ae&&-1!==HE(ae,O,0)||2&f&&O!==X){if(Ma(f))return!1;w=!0}}}}else{if(!w&&!Ma(f)&&!Ma(T))return!1;if(w&&Ma(T))continue;w=!1,f=T|1&f}}return Ma(f)||w}function Ma(a){return 0==(1&a)}function jE(a,l,u,f){if(null===l)return-1;let m=0;if(f||!u){let y=!1;for(;m<l.length;){const w=l[m];if(w===a)return m;if(3===w||6===w)y=!0;else{if(1===w||2===w){let D=l[++m];for(;"string"==typeof D;)D=l[++m];continue}if(4===w)break;if(0===w){m+=4;continue}}m+=y?1:2}return-1}return function $E(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const f=a[u];if("number"==typeof f)return-1;if(f===l)return u;u++}return-1}(l,a)}function Km(a,l,u=!1){for(let f=0;f<l.length;f++)if(r0(a,l[f],u))return!0;return!1}function $T(a,l){e:for(let u=0;u<l.length;u++){const f=l[u];if(a.length===f.length){for(let m=0;m<a.length;m++)if(a[m]!==f[m])continue e;return!0}}return!1}function GE(a,l){return a?":not("+l.trim()+")":l}function GT(a){let l=a[0],u=1,f=2,m="",y=!1;for(;u<a.length;){let w=a[u];if("string"==typeof w)if(2&f){const D=a[++u];m+="["+w+(D.length>0?'="'+D+'"':"")+"]"}else 8&f?m+="."+w:4&f&&(m+=" "+w);else""!==m&&!Ma(w)&&(l+=GE(y,m),m=""),f=w,y=y||!Ma(f);u++}return""!==m&&(l+=GE(y,m)),l}const Qt={};function qE(a){WE(Yt(),be(),tr()+a,!1)}function WE(a,l,u,f){if(!f)if(3==(3&l[Zt])){const y=a.preOrderCheckHooks;null!==y&&yd(l,y,u)}else{const y=a.preOrderHooks;null!==y&&bd(l,y,0,u)}oo(u)}function ZE(a,l=null,u=null,f){const m=o0(a,l,u,f);return m.resolveInjectorInitializers(),m}function o0(a,l=null,u=null,f,m=new Set){const y=[u||qe,$m(a)];return f=f||("object"==typeof a?void 0:Te(a)),new ME(y,l||Y_(),f||null,m)}let zf=(()=>{class a{static create(u,f){if(Array.isArray(u))return ZE({name:""},f,u,"");{const m=u.name??"";return ZE({name:m},u.parent,u.providers,m)}}}return a.THROW_IF_NOT_FOUND=Zr,a.NULL=new IE,a.\u0275prov=Nt({token:a,providedIn:"any",factory:()=>Cn(Yd)}),a.__NG_ELEMENT_ID__=-1,a})();function qf(a,l=Tt.Default){const u=be();return null===u?Cn(a,l):du(ki(),u,te(a),l)}function eC(){throw new Error("invalid")}function tC(a,l){const u=a.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const y=u[f+1];if(-1!==y){const w=a.data[y];Jc(u[f]),w.contentQueries(2,l[y],y)}}}function ny(a,l,u,f,m,y,w,D,T,O,V){const j=l.blueprint.slice();return j[Qr]=m,j[Zt]=76|f,(null!==V||a&&1024&a[Zt])&&(j[Zt]|=1024),nl(j),j[jn]=j[ko]=a,j[ti]=u,j[Ro]=w||a&&a[Ro],j[en]=D||a&&a[en],j[Ll]=T||a&&a[Ll]||null,j[Nl]=O||a&&a[Nl]||null,j[wi]=y,j[ia]=function vf(){return xs++}(),j[Ai]=V,j[fi]=2==l.type?a[fi]:j,j}function Xm(a,l,u,f,m){let y=a.data[l];if(null===y)y=function d0(a,l,u,f,m){const y=oa(),w=nf(),T=a.data[l]=function Nu(a,l,u,f,m,y){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,u,l,f,m);return null===a.firstChild&&(a.firstChild=T),null!==y&&(w?null==y.child&&null!==T.parent&&(y.child=T):null===y.next&&(y.next=T,T.prev=y)),T}(a,l,u,f,m),function rf(){return $t.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=u,y.value=f,y.attrs=m;const w=function Yc(){const a=$t.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return Mr(y,!0),y}function Jm(a,l,u,f){if(0===u)return-1;const m=l.length;for(let y=0;y<u;y++)l.push(f),a.blueprint.push(f),a.data.push(null);return m}function Wf(a,l,u){tu(l);try{const f=a.viewQuery;null!==f&&hy(1,f,u);const m=a.template;null!==m&&iy(a,l,m,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&tC(a,l),a.staticViewQueries&&hy(2,a.viewQuery,u);const y=a.components;null!==y&&function nC(a,l){for(let u=0;u<l.length;u++)pM(a,l[u])}(l,y)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[Zt]&=-5,nu()}}function Xn(a,l,u,f){const m=l[Zt];if(128!=(128&m)){tu(l);try{nl(l),function Vs(a){return $t.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&iy(a,l,u,2,f);const w=3==(3&m);if(w){const O=a.preOrderCheckHooks;null!==O&&yd(l,O,null)}else{const O=a.preOrderHooks;null!==O&&bd(l,O,0,null),cf(l,0)}if(function yl(a){for(let l=Ld(a);null!==l;l=Ia(l)){if(!l[ud])continue;const u=l[ra];for(let f=0;f<u.length;f++){const m=u[f];512&m[Zt]||jl(m[jn],1),m[Zt]|=512}}}(l),function uy(a){for(let l=Ld(a);null!==l;l=Ia(l))for(let u=ji;u<l.length;u++){const f=l[u],m=f[it];ro(f)&&Xn(m,f,m.template,f[ti])}}(l),null!==a.contentQueries&&tC(a,l),w){const O=a.contentCheckHooks;null!==O&&yd(l,O)}else{const O=a.contentHooks;null!==O&&bd(l,O,1),cf(l,1)}!function lM(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const m=u[f];if(m<0)oo(~m);else{const y=m,w=u[++f],D=u[++f];Xc(w,y),D(2,l[y])}}}finally{oo(-1)}}(a,l);const D=a.components;null!==D&&function cM(a,l){for(let u=0;u<l.length;u++)_0(a,l[u])}(l,D);const T=a.viewQuery;if(null!==T&&hy(2,T,f),w){const O=a.viewCheckHooks;null!==O&&yd(l,O)}else{const O=a.viewHooks;null!==O&&bd(l,O,2),cf(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Zt]&=-41,512&l[Zt]&&(l[Zt]&=-513,jl(l[jn],-1))}finally{nu()}}}function iy(a,l,u,f,m){const y=tr(),w=2&f;try{oo(-1),w&&l.length>Ln&&WE(a,l,Ln,!1),Tr(w?2:0,m),u(f,m)}finally{oo(y),Tr(w?3:1,m)}}function ry(a,l,u){if(Bl(l)){const m=l.directiveEnd;for(let y=l.directiveStart;y<m;y++){const w=a.data[y];w.contentQueries&&w.contentQueries(1,u[y],y)}}}function h0(a,l,u){Zc()&&(function hM(a,l,u,f){const m=u.directiveStart,y=u.directiveEnd;Ja(u)&&function aC(a,l,u){const f=$i(l,a),m=uM(u),y=a[Ro],w=eg(a,ny(a,m,null,u.onPush?32:16,f,l,y,y.createRenderer(f,u),null,null,null));a[l.index]=w}(l,u,a.data[m+u.componentOffset]),a.firstCreatePass||xd(u,l),he(f,l);const w=u.initialInputs;for(let D=m;D<y;D++){const T=a.data[D],O=pi(l,a,D,u);he(O,l),null!==w&&ly(0,D-m,O,T,0,w),Jr(T)&&(Ri(u.index,l)[ti]=pi(l,a,D,u))}}(a,l,u,$i(u,l)),64==(64&u.flags)&&sC(a,l,u))}function Gr(a,l,u=$i){const f=l.localNames;if(null!==f){let m=l.index+1;for(let y=0;y<f.length;y+=2){const w=f[y+1],D=-1===w?u(l,a):a[w];a[m++]=D}}}function uM(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=sy(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function sy(a,l,u,f,m,y,w,D,T,O){const V=Ln+f,j=V+m,X=function Ce(a,l){const u=[];for(let f=0;f<l;f++)u.push(f<a?null:Qt);return u}(V,j),ae="function"==typeof O?O():O;return X[it]={type:a,blueprint:X,template:u,queries:null,viewQuery:D,declTNode:l,data:X.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:T,consts:ae,incompleteFirstPass:!1}}function Jd(a,l,u,f){const m=fy(l);null===u?m.push(f):(m.push(u),a.firstCreatePass&&py(a).push(f,m.length-1))}function rn(a,l,u,f){for(let m in a)if(a.hasOwnProperty(m)){u=null===u?{}:u;const y=a[m];null===f?iC(u,l,m,y):f.hasOwnProperty(m)&&iC(u,l,f[m],y)}return u}function iC(a,l,u,f){a.hasOwnProperty(u)?a[u].push(l,f):a[u]=[l,f]}function Ds(a,l,u,f,m,y,w,D){const T=$i(l,u);let V,O=l.inputs;!D&&null!=O&&(V=O[f])?(b0(a,u,V,f,m),Ja(l)&&function tn(a,l){const u=Ri(l,a);16&u[Zt]||(u[Zt]|=32)}(u,l.index)):3&l.type&&(f=function mt(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),m=null!=w?w(m,l.value||"",f):m,y.setProperty(T,f,m))}function eh(a,l,u,f){if(Zc()){const m=null===f?null:{"":-1},y=function ay(a,l){const u=a.directiveRegistry;let f=null,m=null;if(u)for(let y=0;y<u.length;y++){const w=u[y];if(Km(l,w.selectors,!1))if(f||(f=[]),Jr(w))if(null!==w.findHostDirectiveDefs){const D=[];m=m||new Map,w.findHostDirectiveDefs(w,D,m),f.unshift(...D,w),rr(a,l,D.length)}else f.unshift(w),rr(a,l,0);else m=m||new Map,w.findHostDirectiveDefs?.(w,f,m),f.push(w)}return null===f?null:[f,m]}(a,u);let w,D;null===y?w=D=null:[w,D]=y,null!==w&&rC(a,l,u,w,m,D),m&&function Lu(a,l,u){if(l){const f=a.localNames=[];for(let m=0;m<l.length;m+=2){const y=u[l[m+1]];if(null==y)throw new xe(-301,!1);f.push(l[m],y)}}}(u,f,m)}u.mergedAttrs=da(u.mergedAttrs,u.attrs)}function rC(a,l,u,f,m,y){for(let O=0;O<f.length;O++)On(xd(u,l),a,f[O].type);!function oC(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}(u,a.data.length,f.length);for(let O=0;O<f.length;O++){const V=f[O];V.providersResolver&&V.providersResolver(V)}let w=!1,D=!1,T=Jm(a,l,f.length,null);for(let O=0;O<f.length;O++){const V=f[O];u.mergedAttrs=da(u.mergedAttrs,V.hostAttrs),m0(a,u,l,T,V),fM(T,V,m),null!==V.contentQueries&&(u.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(u.flags|=64);const j=V.type.prototype;!w&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(u.index),w=!0),!D&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(u.index),D=!0),T++}!function Ra(a,l,u){const m=l.directiveEnd,y=a.data,w=l.attrs,D=[];let T=null,O=null;for(let V=l.directiveStart;V<m;V++){const j=y[V],X=u?u.get(j):null,Ie=X?X.outputs:null;T=rn(j.inputs,V,T,X?X.inputs:null),O=rn(j.outputs,V,O,Ie);const We=null===T||null===w||n0(l)?null:lC(T,V,w);D.push(We)}null!==T&&(T.hasOwnProperty("class")&&(l.flags|=8),T.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=D,l.inputs=T,l.outputs=O}(a,u,y)}function sC(a,l,u){const f=u.directiveStart,m=u.directiveEnd,y=u.index,w=function M_(){return $t.lFrame.currentDirectiveIndex}();try{oo(y);for(let D=f;D<m;D++){const T=a.data[D],O=l[D];Ei(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&ls(T,O)}}finally{oo(-1),Ei(w)}}function ls(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function rr(a,l,u){l.componentOffset=u,(a.components??(a.components=[])).push(l.index)}function fM(a,l,u){if(u){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)u[l.exportAs[f]]=a;Jr(l)&&(u[""]=a)}}function m0(a,l,u,f,m){a.data[f]=m;const y=m.factory||(m.factory=Ls(m.type)),w=new ao(y,Jr(m),qf);a.blueprint[f]=w,u[f]=w,function p0(a,l,u,f,m){const y=m.hostBindings;if(y){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const D=~l.index;(function dM(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(w)!=D&&w.push(D),w.push(u,f,y)}}(a,l,f,Jm(a,u,m.hostVars,Qt),m)}function oi(a,l,u,f,m,y){const w=$i(a,l);!function g0(a,l,u,f,m,y,w){if(null==y)a.removeAttribute(l,m,u);else{const D=null==w?He(y):w(y,f||"",m);a.setAttribute(l,m,D,u)}}(l[en],w,y,a.value,u,f,m)}function ly(a,l,u,f,m,y){const w=y[l];if(null!==w){const D=f.setInput;for(let T=0;T<w.length;){const O=w[T++],V=w[T++],j=w[T++];null!==D?f.setInput(u,j,O,V):u[V]=j}}}function lC(a,l,u){let f=null,m=0;for(;m<u.length;){const y=u[m];if(0!==y)if(5!==y){if("number"==typeof y)break;if(a.hasOwnProperty(y)){null===f&&(f=[]);const w=a[y];for(let D=0;D<w.length;D+=2)if(w[D]===l){f.push(y,w[D+1],u[m+1]);break}}m+=2}else m+=2;else m+=4}return f}function cy(a,l,u,f){return[a,!0,!1,l,null,0,f,u,null,null]}function _0(a,l){const u=Ri(l,a);if(ro(u)){const f=u[it];48&u[Zt]?Xn(f,u,f.template,u[ti]):u[An]>0&&dy(u)}}function dy(a){for(let f=Ld(a);null!==f;f=Ia(f))for(let m=ji;m<f.length;m++){const y=f[m];if(ro(y))if(512&y[Zt]){const w=y[it];Xn(w,y,w.template,y[ti])}else y[An]>0&&dy(y)}const u=a[it].components;if(null!==u)for(let f=0;f<u.length;f++){const m=Ri(u[f],a);ro(m)&&m[An]>0&&dy(m)}}function pM(a,l){const u=Ri(l,a),f=u[it];(function Kf(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(f,u),Wf(f,u,u[ti])}function eg(a,l){return a[na]?a[Ns][Xr]=l:a[na]=l,a[Ns]=l,l}function Zf(a){for(;a;){a[Zt]|=32;const l=Nd(a);if(jc(a)&&!l)return a;a=l}return null}function tg(a,l,u,f=!0){const m=l[Ro];m.begin&&m.begin();try{Xn(a,l,a.template,u)}catch(w){throw f&&cC(l,w),w}finally{m.end&&m.end()}}function hy(a,l,u){Jc(0),l(a,u)}function fy(a){return a[Fl]||(a[Fl]=[])}function py(a){return a.cleanup||(a.cleanup=[])}function cC(a,l){const u=a[Nl],f=u?u.get(qm,null):null;f&&f.handleError(l)}function b0(a,l,u,f,m){for(let y=0;y<u.length;){const w=u[y++],D=u[y++],T=l[w],O=a.data[w];null!==O.setInput?O.setInput(T,m,f,D):T[D]=m}}function ng(a,l,u){let f=u?a.styles:null,m=u?a.classes:null,y=0;if(null!==l)for(let w=0;w<l.length;w++){const D=l[w];"number"==typeof D?y=D:1==y?m=ve(m,D):2==y&&(f=ve(f,D+": "+l[++w]+";"))}u?a.styles=f:a.stylesWithoutHost=f,u?a.classes=m:a.classesWithoutHost=m}function gy(a,l,u,f,m=!1){for(;null!==u;){const y=l[u.index];if(null!==y&&f.push(zi(y)),jr(y))for(let D=ji;D<y.length;D++){const T=y[D],O=T[it].firstChild;null!==O&&gy(T[it],T,O,f)}const w=u.type;if(8&w)gy(a,l,u.child,f);else if(32&w){const D=Go(u,l);let T;for(;T=D();)f.push(T)}else if(16&w){const D=Mf(l,u);if(Array.isArray(D))f.push(...D);else{const T=Nd(l[fi]);gy(T[it],T,D,f,!0)}}u=m?u.projectionNext:u.next}return f}class xc{get rootNodes(){const l=this._lView,u=l[it];return gy(u,l,u.firstChild,[])}constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(l){this._lView[ti]=l}get destroyed(){return 128==(128&this._lView[Zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[jn];if(jr(l)){const u=l[Oo],f=u?u.indexOf(this):-1;f>-1&&(Vd(l,f),wa(u,f))}this._attachedToViewContainer=!1}Cf(this._lView[it],this._lView)}onDestroy(l){Jd(this._lView[it],this._lView,null,l)}markForCheck(){Zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zt]&=-65}reattach(){this._lView[Zt]|=64}detectChanges(){tg(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ef(a,l){zd(a,l,l[en],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=l}}class mM extends xc{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;tg(l[it],l,l[ti],!1)}checkNoChanges(){}get context(){return null}}class Yf extends Uf{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Mt(l);return new th(u,this.ngModule)}}function uC(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class _y{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,f){f=bi(f);const m=this.injector.get(l,X_,f);return m!==X_||u===X_?m:this.parentInjector.get(l,u,f)}}class th extends RE{get inputs(){return uC(this.componentDef.inputs)}get outputs(){return uC(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function qT(a){return a.map(GT).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,f,m){let y=(m=m||this.ngModule)instanceof Qd?m:m?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const w=y?new _y(l,y):l,D=w.get(Qv,null);if(null===D)throw new xe(407,!1);const T=w.get(LT,null),O=D.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",j=f?function Aa(a,l,u){return a.selectRootElement(l,u===De.ShadowDom)}(O,f,this.componentDef.encapsulation):Mm(O,V,function gM(a){const l=a.toLowerCase();return"svg"===l?pr:"math"===l?"math":null}(V)),X=this.componentDef.onPush?288:272,ae=sy(0,null,null,1,0,null,null,null,null,null),Ie=ny(null,ae,null,X,null,null,D,O,T,w,null);let We,st;tu(Ie);try{const vt=this.componentDef;let Bt,Le=null;vt.findHostDirectiveDefs?(Bt=[],Le=new Map,vt.findHostDirectiveDefs(vt,Bt,Le),Bt.push(vt)):Bt=[vt];const Jt=function hC(a,l){const u=a[it],f=Ln;return a[f]=l,Xm(u,f,2,"#host",null)}(Ie,j),gi=function yy(a,l,u,f,m,y,w,D){const T=m[it];!function v0(a,l,u,f){for(const m of a)l.mergedAttrs=da(l.mergedAttrs,m.hostAttrs);null!==l.mergedAttrs&&(ng(l,l.mergedAttrs,!0),null!==u&&Gd(f,u,l))}(f,a,l,w);const O=y.createRenderer(l,u),V=ny(m,uM(u),null,u.onPush?32:16,m[a.index],a,y,O,D||null,null,null);return T.firstCreatePass&&rr(T,a,f.length-1),eg(m,V),m[a.index]=V}(Jt,j,vt,Bt,Ie,D,O);st=Qh(ae,Ln),j&&function x0(a,l,u,f){if(f)ol(a,u,["ng-version",FE.full]);else{const{attrs:m,classes:y}=function WT(a){const l=[],u=[];let f=1,m=2;for(;f<a.length;){let y=a[f];if("string"==typeof y)2===m?""!==y&&l.push(y,a[++f]):8===m&&u.push(y);else{if(!Ma(m))break;m=y}f++}return{attrs:l,classes:u}}(l.selectors[0]);m&&ol(a,u,m),y&&y.length>0&&Hs(a,u,y.join(" "))}}(O,vt,j,f),void 0!==u&&function E0(a,l,u){const f=a.projection=[];for(let m=0;m<l.length;m++){const y=u[m];f.push(null!=y?Array.from(y):null)}}(st,this.ngContentSelectors,u),We=function w0(a,l,u,f,m,y){const w=ki(),D=m[it],T=$i(w,m);rC(D,m,w,u,null,f);for(let V=0;V<u.length;V++)he(pi(m,D,w.directiveStart+V,w),m);sC(D,m,w),T&&he(T,m);const O=pi(m,D,w.directiveStart+w.componentOffset,w);if(a[ti]=m[ti]=O,null!==y)for(const V of y)V(O,l);return ry(D,w,a),O}(gi,vt,Bt,Le,Ie,[fC]),Wf(ae,Ie,null)}finally{nu()}return new dC(this.componentType,We,wc(st,Ie),Ie,st)}}class dC extends OT{constructor(l,u,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new mM(m),this.componentType=l}setInput(l,u){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[l])){const y=this._rootLView;b0(y[it],y,m,l,u),Zf(Ri(this._tNode.index,y))}}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function fC(){const a=ki();ru(be()[it],a)}function D0(a){let l=function C0(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const f=[a];for(;l;){let m;if(Jr(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new xe(903,!1);m=l.\u0275dir}if(m){if(u){f.push(m);const w=a;w.inputs=by(a.inputs),w.declaredInputs=by(a.declaredInputs),w.outputs=by(a.outputs);const D=m.hostBindings;D&&yM(a,D);const T=m.viewQuery,O=m.contentQueries;if(T&&I0(a,T),O&&mC(a,O),Se(a.inputs,m.inputs),Se(a.declaredInputs,m.declaredInputs),Se(a.outputs,m.outputs),Jr(m)&&m.data.animation){const V=a.data;V.animation=(V.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let w=0;w<y.length;w++){const D=y[w];D&&D.ngInherit&&D(a),D===D0&&(u=!1)}}l=Object.getPrototypeOf(l)}!function pC(a){let l=0,u=null;for(let f=a.length-1;f>=0;f--){const m=a[f];m.hostVars=l+=m.hostVars,m.hostAttrs=da(m.hostAttrs,u=da(u,m.hostAttrs))}}(f)}function by(a){return a===le?{}:a===qe?[]:a}function I0(a,l){const u=a.viewQuery;a.viewQuery=u?(f,m)=>{l(f,m),u(f,m)}:l}function mC(a,l){const u=a.contentQueries;a.contentQueries=u?(f,m,y)=>{l(f,m,y),u(f,m,y)}:l}function yM(a,l){const u=a.hostBindings;a.hostBindings=u?(f,m)=>{l(f,m),u(f,m)}:l}function vy(a){return!!rg(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function rg(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function cs(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function wy(a,l,u,f){const m=be();return cs(m,aa(),l)&&(Yt(),oi(qn(),m,a,l,u,f)),wy}function ag(a,l,u,f,m,y,w,D){const T=be(),O=Yt(),V=a+Ln,j=O.firstCreatePass?function og(a,l,u,f,m,y,w,D,T){const O=l.consts,V=Xm(l,a,4,w||null,No(O,D));eh(l,u,V,No(O,T)),ru(l,V);const j=V.tView=sy(2,V,f,m,y,l.directiveRegistry,l.pipeRegistry,null,l.schemas,O);return null!==l.queries&&(l.queries.template(l,V),j.queries=l.queries.embeddedTView(V)),V}(V,O,T,l,u,f,m,y,w):O.data[V];Mr(j,!1);const X=T[en].createComment("");pc(O,T,X,j),he(X,T),eg(T,T[V]=cy(X,T,X,j)),dd(j)&&h0(O,T,j),null!=w&&Gr(T,j,D)}function xy(a){return mr(function T_(){return $t.lFrame.contextLView}(),Ln+a)}function Ey(a,l,u){const f=be();return cs(f,aa(),l)&&Ds(Yt(),qn(),f,a,l,f[en],u,!1),Ey}function Cy(a,l,u,f,m){const w=m?"class":"style";b0(a,u,l.inputs[w],w,f)}function ip(a,l,u,f){const m=be(),y=Yt(),w=Ln+a,D=m[en],T=y.firstCreatePass?function lg(a,l,u,f,m,y){const w=l.consts,T=Xm(l,a,2,f,No(w,m));return eh(l,u,T,No(w,y)),null!==T.attrs&&ng(T,T.attrs,!1),null!==T.mergedAttrs&&ng(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(w,y,m,l,u,f):y.data[w],O=m[w]=Mm(D,l,function lf(){return $t.lFrame.currentNamespace}()),V=dd(T);return Mr(T,!0),Gd(D,O,T),32!=(32&T.flags)&&pc(y,m,O,T),0===function Jh(){return $t.lFrame.elementDepthCount}()&&he(O,m),function Kc(){$t.lFrame.elementDepthCount++}(),V&&(h0(y,m,T),ry(y,T,m)),null!==f&&Gr(m,T),ip}function rp(){let a=ki();nf()?Qc():(a=a.parent,Mr(a,!1));const l=a;!function ef(){$t.lFrame.elementDepthCount--}();const u=Yt();return u.firstCreatePass&&(ru(u,a),Bl(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ql(a){return 0!=(8&a.flags)}(l)&&Cy(u,l,be(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function la(a){return 0!=(16&a.flags)}(l)&&Cy(u,l,be(),l.stylesWithoutHost,!1),rp}function cg(a,l,u,f){return ip(a,l,u,f),rp(),cg}function Bu(a,l,u){const f=be(),m=Yt(),y=a+Ln,w=m.firstCreatePass?function Dy(a,l,u,f,m){const y=l.consts,w=No(y,f),D=Xm(l,a,8,"ng-container",w);return null!==w&&ng(D,w,!0),eh(l,u,D,No(y,m)),null!==l.queries&&l.queries.elementStart(l,D),D}(y,m,f,l,u):m.data[y];Mr(w,!0);const D=f[y]=f[en].createComment("");return pc(m,f,D,w),he(D,f),dd(w)&&(h0(m,f,w),ry(m,w,f)),null!=u&&Gr(f,w),Bu}function ug(){let a=ki();const l=Yt();return nf()?Qc():(a=a.parent,Mr(a,!1)),l.firstCreatePass&&(ru(l,a),Bl(a)&&l.queries.elementEnd(a)),ug}function P0(a,l,u){return Bu(a,l,u),ug(),P0}function Iy(){return be()}function sp(a){return!!a&&"function"==typeof a.then}function Sy(a){return!!a&&"function"==typeof a.subscribe}const F0=Sy;function Ty(a,l,u,f){const m=be(),y=Yt(),w=ki();return function op(a,l,u,f,m,y,w){const D=dd(f),O=a.firstCreatePass&&py(a),V=l[ti],j=fy(l);let X=!0;if(3&f.type||w){const We=$i(f,l),st=w?w(We):We,vt=j.length,Bt=w?Jt=>w(zi(Jt[f.index])):f.index;let Le=null;if(!w&&D&&(Le=function xM(a,l,u,f){const m=a.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const w=m[y];if(w===u&&m[y+1]===f){const D=l[Fl],T=m[y+2];return D.length>T?D[T]:null}"string"==typeof w&&(y+=2)}return null}(a,l,m,f.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=y,Le.__ngLastListenerFn__=y,X=!1;else{y=dg(f,l,V,y,!1);const Jt=u.listen(st,m,y);j.push(y,Jt),O&&O.push(m,Bt,vt,vt+1)}}else y=dg(f,l,V,y,!1);const ae=f.outputs;let Ie;if(X&&null!==ae&&(Ie=ae[m])){const We=Ie.length;if(We)for(let st=0;st<We;st+=2){const gi=l[Ie[st]][Ie[st+1]].subscribe(y),Li=j.length;j.push(y,gi),O&&O.push(m,f.index,Li,-(Li+1))}}}(y,m,m[en],w,a,l,f),Ty}function L0(a,l,u,f){try{return Tr(6,l,u),!1!==u(f)}catch(m){return cC(a,m),!1}finally{Tr(7,l,u)}}function dg(a,l,u,f,m){return function y(w){if(w===Function)return f;Zf(a.componentOffset>-1?Ri(a.index,l):l);let T=L0(l,u,f,w),O=y.__ngNextListenerFn__;for(;O;)T=L0(l,u,O,w)&&T,O=O.__ngNextListenerFn__;return m&&!1===T&&(w.preventDefault(),w.returnValue=!1),T}}function ap(a=1){return function fm(a){return($t.lFrame.contextLView=function iu(a,l){for(;a>0;)l=l[ko],a--;return l}(a,$t.lFrame.contextLView))[ti]}(a)}function sh(a,l){let u=null;const f=function J_(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(a);for(let m=0;m<l.length;m++){const y=l[m];if("*"!==y){if(null===f?Km(a,y,!0):$T(f,y))return m}else u=m}return u}function My(a){const l=be()[fi][wi];if(!l.projection){const f=l.projection=mu(a?a.length:1,null),m=f.slice();let y=l.child;for(;null!==y;){const w=a?sh(y,a):0;null!==w&&(m[w]?m[w].projectionNext=y:f[w]=y,m[w]=y),y=y.next}}}function xC(a,l=0,u){const f=be(),m=Yt(),y=Xm(m,Ln+a,16,null,u||null);null===y.projection&&(y.projection=l),Qc(),32!=(32&y.flags)&&function km(a,l,u){Om(l[en],0,l,u,Mu(a,u,l),If(u.parent||l[wi],u,l))}(m,f,y)}function oh(a,l){return a<<17|l<<2}function Yo(a){return a>>17&32767}function Ry(a){return 2|a}function ah(a){return(131068&a)>>2}function U0(a,l){return-131069&a|l<<2}function H0(a){return 1|a}function j0(a,l,u,f,m){const y=a[u+1],w=null===l;let D=f?Yo(y):ah(y),T=!1;for(;0!==D&&(!1===T||w);){const V=a[D+1];lp(a[D],l)&&(T=!0,a[D+1]=f?H0(V):Ry(V)),D=f?Yo(V):ah(V)}T&&(a[u+1]=f?Ry(y):H0(y))}function lp(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&zr(a,l)>=0}function uh(a,l,u){return Pa(a,l,u,!1),uh}function cp(a,l){return Pa(a,l,null,!0),cp}function Pa(a,l,u,f){const m=be(),y=Yt(),w=function ts(a){const l=$t.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}(2);y.firstUpdatePass&&function PC(a,l,u,f){const m=a.data;if(null===m[u+1]){const y=m[tr()],w=function q0(a,l){return l>=a.expandoStartIndex}(a,u);(function _g(a,l){return 0!=(a.flags&(l?8:16))})(y,f)&&null===l&&!w&&(l=!1),l=function SM(a,l,u,f){const m=function il(a){const l=$t.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let y=f?l.residualClasses:l.residualStyles;if(null===m)0===(f?l.classBindings:l.styleBindings)&&(u=Hu(u=Fy(null,a,l,u,f),l.attrs,f),y=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==m)if(u=Fy(m,a,l,u,f),null===y){let T=function TM(a,l,u){const f=u?l.classBindings:l.styleBindings;if(0!==ah(f))return a[Yo(f)]}(a,l,f);void 0!==T&&Array.isArray(T)&&(T=Fy(null,a,l,T[1],f),T=Hu(T,l.attrs,f),function FC(a,l,u,f){a[Yo(u?l.classBindings:l.styleBindings)]=f}(a,l,f,T))}else y=function NC(a,l,u){let f;const m=l.directiveEnd;for(let y=1+l.directiveStylingLast;y<m;y++)f=Hu(f,a[y].hostAttrs,u);return Hu(f,l.attrs,u)}(a,l,f)}return void 0!==y&&(f?l.residualClasses=y:l.residualStyles=y),u}(m,y,l,f),function DC(a,l,u,f,m,y){let w=y?l.classBindings:l.styleBindings,D=Yo(w),T=ah(w);a[f]=u;let V,O=!1;if(Array.isArray(u)?(V=u[1],(null===V||zr(u,V)>0)&&(O=!0)):V=u,m)if(0!==T){const X=Yo(a[D+1]);a[f+1]=oh(X,D),0!==X&&(a[X+1]=U0(a[X+1],f)),a[D+1]=function EM(a,l){return 131071&a|l<<17}(a[D+1],f)}else a[f+1]=oh(D,0),0!==D&&(a[D+1]=U0(a[D+1],f)),D=f;else a[f+1]=oh(T,0),0===D?D=f:a[T+1]=U0(a[T+1],f),T=f;O&&(a[f+1]=Ry(a[f+1])),j0(a,V,f,!0),j0(a,V,f,!1),function IC(a,l,u,f,m){const y=m?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof l&&zr(y,l)>=0&&(u[f+1]=H0(u[f+1]))}(l,V,a,f,y),w=oh(D,T),y?l.classBindings=w:l.styleBindings=w}(m,y,l,u,w,f)}}(y,a,w,f),l!==Qt&&cs(m,w,l)&&function Ny(a,l,u,f,m,y,w,D){if(!(3&l.type))return;const T=a.data,O=T[D+1],V=function CM(a){return 1==(1&a)}(O)?up(T,l,u,m,ah(O),w):void 0;gg(V)||(gg(y)||function pg(a){return 2==(2&a)}(O)&&(y=up(T,null,u,m,D,w)),function qo(a,l,u,f,m){if(l)m?a.addClass(u,f):a.removeClass(u,f);else{let y=-1===f.indexOf("-")?void 0:Pt.DashCase;null==m?a.removeStyle(u,f,y):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),y|=Pt.Important),a.setStyle(u,f,m,y))}}(f,w,io(tr(),u),m,y))}(y,y.data[tr()],m,m[en],a,m[w+1]=function W0(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Te(ir(a)))),a}(l,u),f,w)}function Fy(a,l,u,f,m){let y=null;const w=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<w&&(y=l[D],f=Hu(f,y.hostAttrs,m),y!==a);)D++;return null!==a&&(u.directiveStylingLast=D),f}function Hu(a,l,u){const f=u?1:2;let m=-1;if(null!==l)for(let y=0;y<l.length;y++){const w=l[y];"number"==typeof w?m=w:m===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ar(a,w,!!u||l[++y]))}return void 0===a?null:a}function up(a,l,u,f,m,y){const w=null===l;let D;for(;m>0;){const T=a[m],O=Array.isArray(T),V=O?T[1]:T,j=null===V;let X=u[m+1];X===Qt&&(X=j?qe:void 0);let ae=j?gn(X,f):V===f?X:void 0;if(O&&!gg(ae)&&(ae=gn(T,f)),gg(ae)&&(D=ae,w))return D;const Ie=a[m+1];m=w?Yo(Ie):ah(Ie)}if(null!==l){let T=y?l.residualClasses:l.residualStyles;null!=T&&(D=gn(T,f))}return D}function gg(a){return void 0!==a}function K0(a,l=""){const u=be(),f=Yt(),m=a+Ln,y=f.firstCreatePass?Xm(f,m,1,l,null):f.data[m],w=u[m]=function Tu(a,l){return a.createText(l)}(u[en],l);pc(f,u,w,y),Mr(y,!1)}function dp(a){return Ly("",a,""),dp}function Ly(a,l,u){const f=be(),m=function vl(a,l,u,f){return cs(a,aa(),u)?l+He(u)+f:Qt}(f,a,l,u);return m!==Qt&&function ka(a,l,u){const f=io(l,a);!function Tm(a,l,u){a.setValue(l,u)}(a[en],f,u)}(f,tr(),m),Ly}function pp(a,l,u){const f=be();return cs(f,aa(),l)&&Ds(Yt(),qn(),f,a,l,f[en],u,!0),pp}const La=void 0;var KC=["en",[["a","p"],["AM","PM"],La],[["AM","PM"],La,La],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],La,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],La,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",La,"{1} 'at' {0}",La],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zy(a){const u=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Va={};function iw(a){const l=function $y(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=QC(l);if(u)return u;const f=l.split("-")[0];if(u=QC(f),u)return u;if("en"===f)return KC;throw new xe(701,!1)}function YC(a){return iw(a)[Ut.PluralCase]}function QC(a){return a in Va||(Va[a]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[a]),Va[a]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const Ba="en-US";let eD=Ba;function dw(a,l,u,f,m){if(a=te(a),Array.isArray(a))for(let y=0;y<a.length;y++)dw(a[y],l,u,f,m);else{const y=Yt(),w=be();let D=vc(a)?a:te(a.provide),T=Wv(a);const O=ki(),V=1048575&O.providerIndexes,j=O.directiveStart,X=O.providerIndexes>>20;if(vc(a)||!a.multi){const ae=new ao(T,m,qf),Ie=pw(D,l,m?V:V+X,j);-1===Ie?(On(xd(O,w),y,D),hw(y,a,l.length),l.push(D),O.directiveStart++,O.directiveEnd++,m&&(O.providerIndexes+=1048576),u.push(ae),w.push(ae)):(u[Ie]=ae,w[Ie]=ae)}else{const ae=pw(D,l,V+X,j),Ie=pw(D,l,V,V+X),st=Ie>=0&&u[Ie];if(m&&!st||!m&&!(ae>=0&&u[ae])){On(xd(O,w),y,D);const vt=function gw(a,l,u,f,m){const y=new ao(a,u,qf);return y.multi=[],y.index=l,y.componentProviders=0,fw(y,m,f&&!u),y}(m?bD:yD,u.length,m,f,T);!m&&st&&(u[Ie].providerFactory=vt),hw(y,a,l.length,0),l.push(D),O.directiveStart++,O.directiveEnd++,m&&(O.providerIndexes+=1048576),u.push(vt),w.push(vt)}else hw(y,a,ae>-1?ae:Ie,fw(u[m?Ie:ae],T,!m&&f));!m&&f&&st&&u[Ie].componentProviders++}}}function hw(a,l,u,f){const m=vc(l),y=function K_(a){return!!a.useClass}(l);if(m||y){const T=(y?te(l.useClass):l).prototype.ngOnDestroy;if(T){const O=a.destroyHooks||(a.destroyHooks=[]);if(!m&&l.multi){const V=O.indexOf(u);-1===V?O.push(u,[f,T]):O[V+1].push(f,T)}else O.push(u,T)}}}function fw(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function pw(a,l,u,f){for(let m=u;m<f;m++)if(l[m]===a)return m;return-1}function yD(a,l,u,f){return mw(this.multi,[])}function bD(a,l,u,f){const m=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,D=pi(u,u[it],this.providerFactory.index,f);y=D.slice(0,w),mw(m,y);for(let T=w;T<D.length;T++)y.push(D[T])}else y=[],mw(m,y);return y}function mw(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function br(a,l=[]){return u=>{u.providersResolver=(f,m)=>function QM(a,l,u){const f=Yt();if(f.firstCreatePass){const m=Jr(a);dw(u,f.data,f.blueprint,m,!0),dw(l,f.data,f.blueprint,m,!1)}}(f,m?m(a):a,l)}}class mh{}class Dc{}function vD(a,l){return new xg(a,l??null)}class xg extends mh{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yf(this);const f=vi(l);this._bootstrapComponents=_l(f.bootstrap),this._r3Injector=o0(l,u,[{provide:mh,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],Te(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class vr extends Dc{constructor(l){super(),this.moduleType=l}create(l){return new xg(this.moduleType,l)}}class ui extends mh{constructor(l,u,f){super(),this.componentFactoryResolver=new Yf(this),this.instance=null;const m=new ME([...l,{provide:mh,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],u||Y_(),f,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Jy(a,l,u=null){return new ui(a,l,u).injector}let vp=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const f=Lf(0,u.type),m=f.length>0?Jy([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,m)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Nt({token:a,providedIn:"environment",factory:()=>new a(Cn(Qd))}),a})();function Ss(a){a.getStandaloneInjector=l=>l.get(vp).getOrCreateStandaloneInjector(a)}function Ep(a,l,u,f,m,y){const w=l+u;return cs(a,w,m)?function Zo(a,l,u){return a[l]=u}(a,w+1,y?f.call(y,m):f(m)):function Wu(a,l){const u=a[l];return u===Qt?void 0:u}(a,w+1)}function ww(a,l){const u=Yt();let f;const m=a+Ln;u.firstCreatePass?(f=function qr(a,l){if(l)for(let u=l.length-1;u>=0;u--){const f=l[u];if(a===f.name)return f}}(l,u.pipeRegistry),u.data[m]=f,f.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(m,f.onDestroy)):f=u.data[m];const y=f.factory||(f.factory=Ls(f.type)),w=Ji(qf);try{const D=Xl(!1),T=y();return Xl(D),function wC(a,l,u,f){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=f}(u,be(),m,T),T}finally{Ji(w)}}function Jn(a,l,u){const f=a+Ln,m=be(),y=mr(m,f);return function Dg(a,l){return a[it].data[l].pure}(m,f)?Ep(m,function xi(){const a=$t.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}(),l,y.transform,u,y):y.transform(u)}function _n(a){return l=>{setTimeout(a,void 0,l)}}const yn=class AD extends d.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,f){let m=l,y=u||(()=>null),w=f;if(l&&"object"==typeof l){const T=l;m=T.next?.bind(T),y=T.error?.bind(T),w=T.complete?.bind(T)}this.__isAsync&&(y=_n(y),m&&(m=_n(m)),w&&(w=_n(w)));const D=super.subscribe({next:m,error:y,complete:w});return l instanceof se.w0&&l.add(D),D}};function Dp(){return this._results[Symbol.iterator]()}class Ig{get changes(){return this._changes||(this._changes=new yn)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ig.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Dp)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const f=this;f.dirty=!1;const m=function bs(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Td(a,l,u){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let m=a[f],y=l[f];if(u&&(m=u(m),y=u(y)),y!==m)return!1}return!0}(f._results,m,u))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yh=(()=>{class a{}return a.__NG_ELEMENT_ID__=kD,a})();const RD=yh,xw=class extends RD{constructor(l,u,f){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(l,u){const f=this._declarationTContainer.tView,m=ny(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null,u||null);m[Qa]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[_s];return null!==w&&(m[_s]=w.createEmbeddedView(f)),Wf(f,m,l),new xc(m)}};function kD(){return Sg(ki(),be())}function Sg(a,l){return 4&a.type?new xw(l,a,wc(a,l)):null}let Tg=(()=>{class a{}return a.__NG_ELEMENT_ID__=JM,a})();function JM(){return Dw(ki(),be())}const eA=Tg,OD=class extends eA{constructor(l,u,f){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=f}get element(){return wc(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){const l=hf(this._hostTNode,this._hostLView);if(ha(l)){const u=fa(l,this._hostLView),f=Vo(l);return new co(u[it].data[f+8],u)}return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=Ew(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(l,u,f){let m,y;"number"==typeof f?m=f:null!=f&&(m=f.index,y=f.injector);const w=l.createEmbeddedView(u||{},y);return this.insert(w,m),w}createComponent(l,u,f,m,y){const w=l&&!function pu(a){return"function"==typeof a}(l);let D;if(w)D=u;else{const j=u||{};D=j.index,f=j.injector,m=j.projectableNodes,y=j.environmentInjector||j.ngModuleRef}const T=w?l:new th(Mt(l)),O=f||this.parentInjector;if(!y&&null==T.ngModule){const X=(w?O:this.parentInjector).get(Qd,null);X&&(y=X)}const V=T.create(O,m,void 0,y);return this.insert(V.hostView,D),V}insert(l,u){const f=l._lView,m=f[it];if(function md(a){return jr(a[jn])}(f)){const V=this.indexOf(l);if(-1!==V)this.detach(V);else{const j=f[jn],X=new OD(j,j[wi],j[jn]);X.detach(X.indexOf(l))}}const y=this._adjustIndex(u),w=this._lContainer;!function dc(a,l,u,f){const m=ji+f,y=u.length;f>0&&(u[m-1][Xr]=l),f<y-ji?(l[Xr]=u[m],Em(u,ji+f,l)):(u.push(l),l[Xr]=null),l[jn]=u;const w=l[Qa];null!==w&&u!==w&&function Av(a,l){const u=a[ra];l[fi]!==l[jn][jn][fi]&&(a[ud]=!0),null===u?a[ra]=[l]:u.push(l)}(w,l);const D=l[_s];null!==D&&D.insertView(a),l[Zt]|=64}(m,f,w,y);const D=mo(y,w),T=f[en],O=Ta(T,w[Xa]);return null!==O&&function P_(a,l,u,f,m,y){f[Qr]=m,f[wi]=l,zd(a,f,u,1,m,y)}(m,w[wi],T,f,O,D),l.attachToViewContainerRef(),Em(Cw(w),y,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=Ew(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),f=Vd(this._lContainer,u);f&&(wa(Cw(this._lContainer),u),Cf(f[it],f))}detach(l){const u=this._adjustIndex(l,-1),f=Vd(this._lContainer,u);return f&&null!=wa(Cw(this._lContainer),u)?new xc(f):null}_adjustIndex(l,u=0){return l??this.length+u}};function Ew(a){return a[Oo]}function Cw(a){return a[Oo]||(a[Oo]=[])}function Dw(a,l){let u;const f=l[a.index];if(jr(f))u=f;else{let m;if(8&a.type)m=zi(f);else{const y=l[en];m=y.createComment("");const w=$i(a,l);ml(y,Ta(y,w),m,function L_(a,l){return a.nextSibling(l)}(y,w),!1)}l[a.index]=u=cy(f,l,m,a),eg(l,u)}return new OD(u,a,l)}class Iw{constructor(l){this.queryList=l,this.matches=null}clone(){return new Iw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sw{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const f=null!==l.contentQueries?l.contentQueries[0]:u.length,m=[];for(let y=0;y<f;y++){const w=u.getByIndex(y);m.push(this.queries[w.indexInDeclarationView].clone())}return new Sw(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==ub(l,u).matches&&this.queries[u].setDirty()}}class PD{constructor(l,u,f=null){this.predicate=l,this.flags=u,this.read=f}}class Mg{constructor(l=[]){this.queries=l}elementStart(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let f=0;f<this.length;f++){const m=null!==u?u.length:0,y=this.getByIndex(f).embeddedTView(l,m);y&&(y.indexInDeclarationView=f,null!==u?u.push(y):u=[y])}return null!==u?new Mg(u):null}template(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Mc{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Mc(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(l,u,Ag(u,y)),this.matchTNodeWithReadOption(l,u,ma(u,l,y,!1,!1))}else f===yh?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,ma(u,l,f,!1,!1))}matchTNodeWithReadOption(l,u,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===Hf||m===Tg||m===yh&&4&u.type)this.addMatch(u.index,-2);else{const y=ma(u,l,m,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,f)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function Ag(a,l){const u=a.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===l)return u[f+1];return null}function ob(a,l,u,f){return-1===u?function sb(a,l){return 11&a.type?wc(a,l):4&a.type?Sg(a,l):null}(l,a):-2===u?function FD(a,l,u){return u===Hf?wc(l,a):u===yh?Sg(l,a):u===Tg?Dw(l,a):void 0}(a,l,f):pi(a,a[it],u,l)}function Tw(a,l,u,f){const m=l[_s].queries[f];if(null===m.matches){const y=a.data,w=u.matches,D=[];for(let T=0;T<w.length;T+=2){const O=w[T];D.push(O<0?null:ob(l,y[O],w[T+1],u.metadata.read))}m.matches=D}return m.matches}function Ha(a,l,u,f){const m=a.queries.getByIndex(u),y=m.matches;if(null!==y){const w=Tw(a,l,m,u);for(let D=0;D<y.length;D+=2){const T=y[D];if(T>0)f.push(w[D/2]);else{const O=y[D+1],V=l[-T];for(let j=ji;j<V.length;j++){const X=V[j];X[Qa]===X[jn]&&Ha(X[it],X,O,f)}if(null!==V[ra]){const j=V[ra];for(let X=0;X<j.length;X++){const ae=j[X];Ha(ae[it],ae,O,f)}}}}}return f}function Mw(a){const l=be(),u=Yt(),f=gd();Jc(f+1);const m=ub(u,f);if(a.dirty&&function Wc(a){return 4==(4&a[Zt])}(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const y=m.crossesNgTemplate?Ha(u,l,f,[]):Tw(u,l,m,f);a.reset(y,Gm),a.notifyOnChanges()}return!0}return!1}function bh(a,l,u){const f=Yt();f.firstCreatePass&&(Zu(f,new PD(a,l,u),-1),2==(2&l)&&(f.staticViewQueries=!0)),cb(f,be(),l)}function Aw(a,l,u,f){const m=Yt();if(m.firstCreatePass){const y=ki();Zu(m,new PD(l,u,f),y.index),function Ts(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(m,a),2==(2&u)&&(m.staticContentQueries=!0)}cb(m,be(),u)}function ab(){return function lb(a,l){return a[_s].queries[l].queryList}(be(),gd())}function cb(a,l,u){const f=new Ig(4==(4&u));Jd(a,l,f,f.destroy),null===l[_s]&&(l[_s]=new Sw),l[_s].queries.push(new Iw(f))}function Zu(a,l,u){null===a.queries&&(a.queries=new Mg),a.queries.track(new Mc(l,u))}function ub(a,l){return a.queries.getByIndex(l)}function Rg(a,l){return Sg(a,l)}function ja(a){return!!vi(a)}function bn(...a){}const Uw=new fn("Application Initializer");let kp=(()=>{class a{constructor(u){this.appInits=u,this.resolve=bn,this.reject=bn,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(sp(y))u.push(y);else if(F0(y)){const w=new Promise((D,T)=>{y.subscribe({complete:D,error:T})});u.push(w)}}Promise.all(u).then(()=>{f()}).catch(m=>{this.reject(m)}),0===u.length&&f(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Cn(Uw,8))},a.\u0275prov=Nt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Bg=new fn("AppId",{providedIn:"root",factory:function Hw(){return`${mb()}${mb()}${mb()}`}});function mb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jw=new fn("Platform Initializer"),zw=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ug=new fn("AnimationModuleType");let Hg=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Nt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const jg=new fn("LocaleId",{providedIn:"root",factory:()=>ei(jg,Tt.Optional|Tt.SkipSelf)||function _b(){return typeof $localize<"u"&&$localize.locale||Ba}()}),YD=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class QD{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let dA=(()=>{class a{compileModuleSync(u){return new vr(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=_l(vi(u).declarations).reduce((w,D)=>{const T=Mt(D);return T&&w.push(new th(T)),w},[]);return new QD(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Nt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Yi=(()=>Promise.resolve(0))();function zg(a){typeof Zone>"u"?Yi.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Qi{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yn(!1),this.onMicrotaskEmpty=new yn(!1),this.onStable=new yn(!1),this.onError=new yn(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&u,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function XD(){let a=vn.requestAnimationFrame,l=vn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function JD(a){const l=()=>{!function $g(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(vn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,wb(a),a.isCheckStableRunning=!0,vb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),wb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,m,y,w,D)=>{try{return Gw(a),u.invokeTask(m,y,w,D)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||a.shouldCoalesceRunChangeDetection)&&l(),eI(a)}},onInvoke:(u,f,m,y,w,D,T)=>{try{return Gw(a),u.invoke(m,y,w,D,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),eI(a)}},onHasTask:(u,f,m,y)=>{u.hasTask(m,y),f===m&&("microTask"==y.change?(a._hasPendingMicrotasks=y.microTask,wb(a),vb(a)):"macroTask"==y.change&&(a.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,f,m,y)=>(u.handleError(m,y),a.runOutsideAngular(()=>a.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qi.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Qi.isInAngularZone())throw new xe(909,!1)}run(l,u,f){return this._inner.run(l,u,f)}runTask(l,u,f,m){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+m,l,$w,bn,bn);try{return y.runTask(w,u,f)}finally{y.cancelTask(w)}}runGuarded(l,u,f){return this._inner.runGuarded(l,u,f)}runOutsideAngular(l){return this._outer.run(l)}}const $w={};function vb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function wb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Gw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function eI(a){a._nesting--,vb(a)}class mA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yn,this.onMicrotaskEmpty=new yn,this.onStable=new yn,this.onError=new yn}run(l,u,f){return l.apply(u,f)}runGuarded(l,u,f){return l.apply(u,f)}runOutsideAngular(l){return l()}runTask(l,u,f,m){return l.apply(u,f)}}const Op=new fn(""),xb=new fn("");let Eb,gA=(()=>{class a{constructor(u,f,m){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Eb||(function Ww(a){Eb=a}(m),m.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qi.assertNotInAngularZone(),zg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zg(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:m})}whenStable(u,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,m){return[]}}return a.\u0275fac=function(u){return new(u||a)(Cn(Qi),Cn(qw),Cn(xb))},a.\u0275prov=Nt({token:a,factory:a.\u0275fac}),a})(),qw=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return Eb?.findTestabilityInTree(this,u,f)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Nt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Rc=!1;let kc=null;const tI=new fn("AllowMultipleToken"),Kw=new fn("PlatformDestroyListeners"),nI=new fn("appBootstrapListener");class _A{constructor(l,u){this.name=l,this.token=u}}function Yw(a,l,u=[]){const f=`Platform: ${l}`,m=new fn(f);return(y=[])=>{let w=Pc();if(!w||w.injector.get(tI,!1)){const D=[...u,...y,{provide:m,useValue:!0}];a?a(D):function rI(a){if(kc&&!kc.get(tI,!1))throw new xe(400,!1);kc=a;const l=a.get(Fp);(function Zw(a){const l=a.get(jw,null);l&&l.forEach(u=>u())})(a)}(function Xu(a=[],l){return zf.create({name:l,providers:[{provide:Fu,useValue:"platform"},{provide:Kw,useValue:new Set([()=>kc=null])},...a]})}(D,f))}return function Cb(a){const l=Pc();if(!l)throw new xe(401,!1);return l}()}}function Pc(){return kc?.get(Fp)??null}let Fp=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const m=function Db(a,l){let u;return u="noop"===a?new mA:("zone.js"===a?void 0:a)||new Qi(l),u}(f?.ngZone,function Qw(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),y=[{provide:Qi,useValue:m}];return m.run(()=>{const w=zf.create({providers:y,parent:this.injector,name:u.moduleType.name}),D=u.create(w),T=D.injector.get(qm,null);if(!T)throw new xe(402,!1);return m.runOutsideAngular(()=>{const O=m.onError.subscribe({next:V=>{T.handleError(V)}});D.onDestroy(()=>{Sb(this._modules,D),O.unsubscribe()})}),function Ib(a,l,u){try{const f=u();return sp(f)?f.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(T,m,()=>{const O=D.injector.get(kp);return O.runInitializers(),O.donePromise.then(()=>(function Ge(a){It(a,"Expected localeId to be defined"),"string"==typeof a&&(eD=a.toLowerCase().replace(/_/g,"-"))}(D.injector.get(jg,Ba)||Ba),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,f=[]){const m=Xw({},f);return function Qu(a,l,u){const f=new vr(u);return Promise.resolve(f)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(u){const f=u.injector.get(qg);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new xe(-403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(Kw,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Cn(zf))},a.\u0275prov=Nt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Xw(a,l){return Array.isArray(l)?l.reduce(Xw,a):{...a,...l}}let qg=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,f,m){this._zone=u,this._injector=f,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new U.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new U.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Qi.assertNotInAngularZone(),zg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),O.unsubscribe()}});this.isStable=(0,pe.T)(y,w.pipe((0,me.B)()))}bootstrap(u,f){const m=u instanceof RE;if(!this._injector.get(kp).done){!m&&Hi(u);throw new xe(405,Rc)}let w;w=m?u:this._injector.get(Uf).resolveComponentFactory(u),this.componentTypes.push(w.componentType);const D=function iI(a){return a.isBoundToModule}(w)?void 0:this._injector.get(mh),O=w.create(zf.NULL,[],f||w.selector,D),V=O.location.nativeElement,j=O.injector.get(Op,null);return j?.registerApplication(V),O.onDestroy(()=>{this.detachView(O.hostView),Sb(this.components,O),j?.unregisterApplication(V)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;Sb(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(nI,[]);f.push(...this._bootstrapListeners),f.forEach(m=>m(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Sb(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Cn(Qi),Cn(Qd),Cn(qm))},a.\u0275prov=Nt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Sb(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}function Tb(){return!1}let yA=(()=>{class a{}return a.__NG_ELEMENT_ID__=bA,a})();function bA(a){return function vA(a,l,u){if(Ja(a)&&!u){const f=Ri(a.index,l);return new xc(f,f)}return 47&a.type?new xc(l[fi],l):null}(ki(),be(),16==(16&a))}class sx{constructor(){}supports(l){return vy(l)}create(l){return new hs(l)}}const aI=(a,l)=>l;class hs{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||aI}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,f=this._removalsHead,m=0,y=null;for(;u||f;){const w=!f||u&&u.currentIndex<ox(f,m,y)?u:f,D=ox(w,m,y),T=w.currentIndex;if(w===f)m--,f=f._nextRemoved;else if(u=u._next,null==w.previousIndex)m++;else{y||(y=[]);const O=D-m,V=T-m;if(O!=V){for(let X=0;X<O;X++){const ae=X<y.length?y[X]:y[X]=0,Ie=ae+X;V<=Ie&&Ie<O&&(y[X]=ae+1)}y[w.previousIndex]=V-O}}D!==T&&l(w,D,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!vy(l))throw new xe(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,y,w,u=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)y=l[D],w=this._trackByFn(D,y),null!==u&&Object.is(u.trackById,w)?(f&&(u=this._verifyReinsertion(u,y,w,D)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,w,D),f=!0),u=u._next}else m=0,function _C(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Symbol.iterator]();let f;for(;!(f=u.next()).done;)l(f.value)}}(l,D=>{w=this._trackByFn(m,D),null!==u&&Object.is(u.trackById,w)?(f&&(u=this._verifyReinsertion(u,D,w,m)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,w,m),f=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,f,m){let y;return null===l?y=this._itTail:(y=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,y,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,y,m)):l=this._addAfter(new lI(u,f),y,m),l}_verifyReinsertion(l,u,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?l=this._reinsertAfter(y,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,y=l._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(l,u,f),this._addToMoves(l,f),l}_moveAfter(l,u,f){return this._unlink(l),this._insertAfter(l,u,f),this._addToMoves(l,f),l}_addAfter(l,u,f){return this._insertAfter(l,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,f){const m=null===u?this._itHead:u._next;return l._next=m,l._prev=u,null===m?this._itTail=l:m._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Kg),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,f=l._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kg),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class lI{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lb{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const u=l._prevDup,f=l._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class Kg{constructor(){this.map=new Map}put(l){const u=l.trackById;let f=this.map.get(u);f||(f=new Lb,this.map.set(u,f)),f.add(l)}get(l,u){const m=this.map.get(l);return m?m.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ox(a,l,u){const f=a.previousIndex;if(null===f)return f;let m=0;return u&&f<u.length&&(m=u[f]),f+l+m}class Nc{constructor(){}supports(l){return l instanceof Map||rg(l)}create(){return new Up}}class Up{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||rg(l)))throw new xe(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(m,f);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const f=l._prev;return u._next=l,u._prev=f,l._prev=u,f&&(f._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,u);const y=m._prev,w=m._next;return y&&(y._next=w),w&&(w._prev=y),m._next=null,m._prev=null,m}const f=new cI(l);return this._records.set(l,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(f=>u(l[f],f))}}class cI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ju(){return new ax([new sx])}let ax=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(null!=f){const m=f.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||Ju()),deps:[[a,new wt,new ac]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(null!=f)return f;throw new xe(901,!1)}}return a.\u0275prov=Nt({token:a,providedIn:"root",factory:Ju}),a})();function lx(){return new Il([new Nc])}let Il=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(f){const m=f.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||lx()),deps:[[a,new wt,new ac]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(f)return f;throw new xe(901,!1)}}return a.\u0275prov=Nt({token:a,providedIn:"root",factory:lx}),a})();const dI=Yw(null,"core",[]);let IA=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Cn(qg))},a.\u0275mod=ue({type:a}),a.\u0275inj=Nn({}),a})();function Vb(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(At,Re,H)=>{H.d(Re,{Z:()=>rt});var d=H(2090),se=H(4859),U=H(6881),pe=H(1877);class me{constructor(xe,Ue){this._delegate=xe,this.firebase=Ue,(0,U._addComponent)(xe,new se.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(xe,Ue=U._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(xe);return!Ke.isInitialized()&&"EXPLICIT"===(null===(He=Ke.getComponent())||void 0===He?void 0:He.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:Ue})}_removeServiceInstance(xe,Ue=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Ue)}_addComponent(xe){(0,U._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,U._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function ve(){const Et=function Te(Et){const xe={},Ue={__esModule:!0,initializeApp:function je($e,_t={}){const fe=U.initializeApp($e,_t);if((0,d.r3)(xe,fe.name))return xe[fe.name];const Lt=new Et(fe,Ue);return xe[fe.name]=Lt,Lt},app:Ke,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ae($e){const _t=$e.name,fe=_t.replace("-compat","");if(U._registerComponent($e)&&"PUBLIC"===$e.type){const Lt=(ht=Ke())=>{if("function"!=typeof ht[fe])throw Se.create("invalid-app-argument",{appName:_t});return ht[fe]()};void 0!==$e.serviceProps&&(0,d.ZB)(Lt,$e.serviceProps),Ue[fe]=Lt,Et.prototype[fe]=function(...ht){return this._getService.bind(this,_t).apply(this,$e.multipleInstances?ht:[])}}return"PUBLIC"===$e.type?Ue[fe]:null},removeApp:function He($e){delete xe[$e]},useAsService:function Je($e,_t){return"serverAuth"===_t?null:_t},modularAPIs:U}};function Ke($e){if(!(0,d.r3)(xe,$e=$e||U._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:$e});return xe[$e]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function Me(){return Object.keys(xe).map($e=>xe[$e])}}),Ke.App=Et,Ue}(me);return Et.INTERNAL=Object.assign(Object.assign({},Et.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function xe(Ue){(0,d.ZB)(Et,Ue)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Et}(),K=new pe.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Et=self.firebase.SDK_VERSION;Et&&Et.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=Y;!function Pe(Et){(0,U.registerVersion)("@firebase/app-compat","0.2.9",Et)}()},6881:(At,Re,H)=>{H.r(Re),H.d(Re,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ao,_DEFAULT_ENTRY_NAME:()=>Dr,_addComponent:()=>yt,_addOrOverwriteComponent:()=>zt,_apps:()=>vn,_clearComponents:()=>Ir,_components:()=>En,_getProvider:()=>Vr,_registerComponent:()=>Zr,_removeServiceInstance:()=>Ui,deleteApp:()=>Yr,getApp:()=>Ps,getApps:()=>Cn,initializeApp:()=>hn,onLog:()=>ps,registerVersion:()=>bi,setLogLevel:()=>Hn});var d=H(5861),se=H(4859),U=H(1877),pe=H(2090);const me=(ye,ue)=>ue.some(ze=>ye instanceof ze);let oe,Se;const Y=new WeakMap,K=new WeakMap,te=new WeakMap,Xe=new WeakMap,Pe=new WeakMap;let xe={get(ye,ue,ze){if(ye instanceof IDBTransaction){if("done"===ue)return K.get(ye);if("objectStoreNames"===ue)return ye.objectStoreNames||te.get(ye);if("store"===ue)return ze.objectStoreNames[1]?void 0:ze.objectStore(ze.objectStoreNames[0])}return je(ye[ue])},set:(ye,ue,ze)=>(ye[ue]=ze,!0),has:(ye,ue)=>ye instanceof IDBTransaction&&("done"===ue||"store"===ue)||ue in ye};function Ke(ye){return"function"==typeof ye?function He(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...ue){return ye.apply(Me(this),ue),je(Y.get(this))}:function(...ue){return je(ye.apply(Me(this),ue))}:function(ue,...ze){const St=ye.call(Me(this),ue,...ze);return te.set(St,ue.sort?ue.sort():[ue]),je(St)}}(ye):(ye instanceof IDBTransaction&&function Et(ye){if(K.has(ye))return;const ue=new Promise((ze,St)=>{const Ft=()=>{ye.removeEventListener("complete",nn),ye.removeEventListener("error",Mt),ye.removeEventListener("abort",Mt)},nn=()=>{ze(),Ft()},Mt=()=>{St(ye.error||new DOMException("AbortError","AbortError")),Ft()};ye.addEventListener("complete",nn),ye.addEventListener("error",Mt),ye.addEventListener("abort",Mt)});K.set(ye,ue)}(ye),me(ye,function Te(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,xe):ye)}function je(ye){if(ye instanceof IDBRequest)return function rt(ye){const ue=new Promise((ze,St)=>{const Ft=()=>{ye.removeEventListener("success",nn),ye.removeEventListener("error",Mt)},nn=()=>{ze(je(ye.result)),Ft()},Mt=()=>{St(ye.error),Ft()};ye.addEventListener("success",nn),ye.addEventListener("error",Mt)});return ue.then(ze=>{ze instanceof IDBCursor&&Y.set(ze,ye)}).catch(()=>{}),Pe.set(ue,ye),ue}(ye);if(Xe.has(ye))return Xe.get(ye);const ue=Ke(ye);return ue!==ye&&(Xe.set(ye,ue),Pe.set(ue,ye)),ue}const Me=ye=>Pe.get(ye),$e=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],fe=new Map;function Lt(ye,ue){if(!(ye instanceof IDBDatabase)||ue in ye||"string"!=typeof ue)return;if(fe.get(ue))return fe.get(ue);const ze=ue.replace(/FromIndex$/,""),St=ue!==ze,Ft=_t.includes(ze);if(!(ze in(St?IDBIndex:IDBObjectStore).prototype)||!Ft&&!$e.includes(ze))return;const nn=function(){var Mt=(0,d.Z)(function*(wn,...mn){const Hi=this.transaction(wn,Ft?"readwrite":"readonly");let vi=Hi.store;return St&&(vi=vi.index(mn.shift())),(yield Promise.all([vi[ze](...mn),Ft&&Hi.done]))[0]});return function(mn){return Mt.apply(this,arguments)}}();return fe.set(ue,nn),nn}!function Ue(ye){xe=ye(xe)}(ye=>({...ye,get:(ue,ze,St)=>Lt(ue,ze)||ye.get(ue,ze,St),has:(ue,ze)=>!!Lt(ue,ze)||ye.has(ue,ze)}));class ht{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function an(ye){return"VERSION"===ye.getComponent()?.type}(ze)){const St=ze.getImmediate();return`${St.library}/${St.version}`}return null}).filter(ze=>ze).join(" ")}}const Ct="@firebase/app",Ee=new U.Yd("@firebase/app"),Dr="[DEFAULT]",Os={[Ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,En=new Map;function yt(ye,ue){try{ye.container.addComponent(ue)}catch(ze){Ee.debug(`Component ${ue.name} failed to register with FirebaseApp ${ye.name}`,ze)}}function zt(ye,ue){ye.container.addOrOverwriteComponent(ue)}function Zr(ye){const ue=ye.name;if(En.has(ue))return Ee.debug(`There were multiple attempts to register component ${ue}.`),!1;En.set(ue,ye);for(const ze of vn.values())yt(ze,ye);return!0}function Vr(ye,ue){const ze=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),ye.container.getProvider(ue)}function Ui(ye,ue,ze=Dr){Vr(ye,ue).clearInstance(ze)}function Ir(){En.clear()}const Br=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kn{constructor(ue,ze,St){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const Ao="9.21.0";function hn(ye,ue={}){let ze=ye;"object"!=typeof ue&&(ue={name:ue});const St=Object.assign({name:Dr,automaticDataCollectionEnabled:!1},ue),Ft=St.name;if("string"!=typeof Ft||!Ft)throw Br.create("bad-app-name",{appName:String(Ft)});if(ze||(ze=(0,pe.aH)()),!ze)throw Br.create("no-options");const nn=vn.get(Ft);if(nn){if((0,pe.vZ)(ze,nn.options)&&(0,pe.vZ)(St,nn.config))return nn;throw Br.create("duplicate-app",{appName:Ft})}const Mt=new se.H0(Ft);for(const mn of En.values())Mt.addComponent(mn);const wn=new kn(ze,St,Mt);return vn.set(Ft,wn),wn}function Ps(ye=Dr){const ue=vn.get(ye);if(!ue&&ye===Dr)return hn();if(!ue)throw Br.create("no-app",{appName:ye});return ue}function Cn(){return Array.from(vn.values())}function Yr(ye){return ei.apply(this,arguments)}function ei(){return(ei=(0,d.Z)(function*(ye){const ue=ye.name;vn.has(ue)&&(vn.delete(ue),yield Promise.all(ye.container.getProviders().map(ze=>ze.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function bi(ye,ue,ze){var St;let Ft=null!==(St=Os[ye])&&void 0!==St?St:ye;ze&&(Ft+=`-${ze}`);const nn=Ft.match(/\s|\//),Mt=ue.match(/\s|\//);if(nn||Mt){const wn=[`Unable to register library "${Ft}" with version "${ue}":`];return nn&&wn.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),nn&&Mt&&wn.push("and"),Mt&&wn.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void Ee.warn(wn.join(" "))}Zr(new se.wA(`${Ft}-version`,()=>({library:Ft,version:ue}),"VERSION"))}function ps(ye,ue){if(null!==ye&&"function"!=typeof ye)throw Br.create("invalid-log-argument");(0,U.Am)(ye,ue)}function Hn(ye){(0,U.Ub)(ye)}const ms="firebase-heartbeat-database",Sr=1,q="firebase-heartbeat-store";let z=null;function J(){return z||(z=function Ae(ye,ue,{blocked:ze,upgrade:St,blocking:Ft,terminated:nn}={}){const Mt=indexedDB.open(ye,ue),wn=je(Mt);return St&&Mt.addEventListener("upgradeneeded",mn=>{St(je(Mt.result),mn.oldVersion,mn.newVersion,je(Mt.transaction),mn)}),ze&&Mt.addEventListener("blocked",mn=>ze(mn.oldVersion,mn.newVersion,mn)),wn.then(mn=>{nn&&mn.addEventListener("close",()=>nn()),Ft&&mn.addEventListener("versionchange",Hi=>Ft(Hi.oldVersion,Hi.newVersion,Hi))}).catch(()=>{}),wn}(ms,Sr,{upgrade:(ye,ue)=>{0===ue&&ye.createObjectStore(q)}}).catch(ye=>{throw Br.create("idb-open",{originalErrorMessage:ye.message})})),z}function le(){return(le=(0,d.Z)(function*(ye){try{return(yield J()).transaction(q).objectStore(q).get(pn(ye))}catch(ue){if(ue instanceof pe.ZR)Ee.warn(ue.message);else{const ze=Br.create("idb-get",{originalErrorMessage:ue?.message});Ee.warn(ze.message)}}})).apply(this,arguments)}function qe(ye,ue){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(ye,ue){try{const St=(yield J()).transaction(q,"readwrite");return yield St.objectStore(q).put(ue,pn(ye)),St.done}catch(ze){if(ze instanceof pe.ZR)Ee.warn(ze.message);else{const St=Br.create("idb-set",{originalErrorMessage:ze?.message});Ee.warn(St.message)}}})).apply(this,arguments)}function pn(ye){return`${ye.name}!${ye.options.appId}`}class Mn{constructor(ue){this.container=ue,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new gs(ze),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var ue=this;return(0,d.Z)(function*(){const St=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=cn();if(null===ue._heartbeatsCache&&(ue._heartbeatsCache=yield ue._heartbeatsCachePromise),ue._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!ue._heartbeatsCache.heartbeats.some(nn=>nn.date===Ft))return ue._heartbeatsCache.heartbeats.push({date:Ft,agent:St}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(nn=>{const Mt=new Date(nn.date).valueOf();return Date.now()-Mt<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,d.Z)(function*(){if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null===ue._heartbeatsCache||0===ue._heartbeatsCache.heartbeats.length)return"";const ze=cn(),{heartbeatsToSend:St,unsentEntries:Ft}=function fr(ye,ue=1024){const ze=[];let St=ye.slice();for(const Ft of ye){const nn=ze.find(Mt=>Mt.agent===Ft.agent);if(nn){if(nn.dates.push(Ft.date),Fs(ze)>ue){nn.dates.pop();break}}else if(ze.push({agent:Ft.agent,dates:[Ft.date]}),Fs(ze)>ue){ze.pop();break}St=St.slice(1)}return{heartbeatsToSend:ze,unsentEntries:St}}(ue._heartbeatsCache.heartbeats),nn=(0,pe.L)(JSON.stringify({version:2,heartbeats:St}));return ue._heartbeatsCache.lastSentHeartbeatDate=ze,Ft.length>0?(ue._heartbeatsCache.heartbeats=Ft,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),nn})()}}function cn(){return(new Date).toISOString().substring(0,10)}class gs{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,d.Z)(function*(){return(yield ue._canUseIndexedDBPromise)&&(yield function De(ye){return le.apply(this,arguments)}(ue.app))||{heartbeats:[]}})()}overwrite(ue){var ze=this;return(0,d.Z)(function*(){var St;if(yield ze._canUseIndexedDBPromise){const nn=yield ze.read();return qe(ze.app,{lastSentHeartbeatDate:null!==(St=ue.lastSentHeartbeatDate)&&void 0!==St?St:nn.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var ze=this;return(0,d.Z)(function*(){var St;if(yield ze._canUseIndexedDBPromise){const nn=yield ze.read();return qe(ze.app,{lastSentHeartbeatDate:null!==(St=ue.lastSentHeartbeatDate)&&void 0!==St?St:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...ue.heartbeats]})}})()}}function Fs(ye){return(0,pe.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function Pl(ye){Zr(new se.wA("platform-logger",ue=>new ht(ue),"PRIVATE")),Zr(new se.wA("heartbeat",ue=>new Mn(ue),"PRIVATE")),bi(Ct,"0.9.9",ye),bi(Ct,"0.9.9","esm2017"),bi("fire-js","")}("")},4859:(At,Re,H)=>{H.d(Re,{H0:()=>Te,wA:()=>U});var d=H(5861),se=H(2090);class U{constructor(Y,K,te){this.name=Y,this.instanceFactory=K,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const pe="[DEFAULT]";class me{constructor(Y,K){this.name=Y,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const K=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(K)){const te=new se.BH;if(this.instancesDeferred.set(K,te),this.isInitialized(K)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:K});Xe&&te.resolve(Xe)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(Y){var K;const te=this.normalizeInstanceIdentifier(Y?.identifier),Xe=null!==(K=Y?.optional)&&void 0!==K&&K;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Pe){if(Xe)return null;throw Pe}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Se(ve){return"EAGER"===ve.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[K,te]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(K);try{const Pe=this.getOrInitializeService({instanceIdentifier:Xe});te.resolve(Pe)}catch{}}}}clearInstance(Y=pe){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,d.Z)(function*(){const K=Array.from(Y.instances.values());yield Promise.all([...K.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...K.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=pe){return this.instances.has(Y)}getOptions(Y=pe){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:K={}}=Y,te=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:te,options:K});for(const[Pe,rt]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Pe)&&rt.resolve(Xe);return Xe}onInit(Y,K){var te;const Xe=this.normalizeInstanceIdentifier(K),Pe=null!==(te=this.onInitCallbacks.get(Xe))&&void 0!==te?te:new Set;Pe.add(Y),this.onInitCallbacks.set(Xe,Pe);const rt=this.instances.get(Xe);return rt&&Y(rt,Xe),()=>{Pe.delete(Y)}}invokeOnInitCallbacks(Y,K){const te=this.onInitCallbacks.get(K);if(te)for(const Xe of te)try{Xe(Y,K)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:K={}}){let te=this.instances.get(Y);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=Y,ve===pe?void 0:ve),options:K}),this.instances.set(Y,te),this.instancesOptions.set(Y,K),this.invokeOnInitCallbacks(te,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,te)}catch{}var ve;return te||null}normalizeInstanceIdentifier(Y=pe){return this.component?this.component.multipleInstances?Y:pe:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const K=this.getProvider(Y.name);if(K.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);K.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const K=new me(Y,this);return this.providers.set(Y,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(At,Re,H)=>{H.d(Re,{Am:()=>ve,Ub:()=>Te,Yd:()=>Se,in:()=>se});const d=[];var se=(()=>{return(Y=se||(se={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",se;var Y})();const U={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},pe=se.INFO,me={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},oe=(Y,K,...te)=>{if(K<Y.logLevel)return;const Xe=(new Date).toISOString(),Pe=me[K];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Pe](`[${Xe}]  ${Y.name}:`,...te)};class Se{constructor(K){this.name=K,this._logLevel=pe,this._logHandler=oe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in se))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?U[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...K),this._logHandler(this,se.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...K),this._logHandler(this,se.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,se.INFO,...K),this._logHandler(this,se.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,se.WARN,...K),this._logHandler(this,se.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...K),this._logHandler(this,se.ERROR,...K)}}function Te(Y){d.forEach(K=>{K.setLogLevel(Y)})}function ve(Y,K){for(const te of d){let Xe=null;K&&K.level&&(Xe=U[K.level]),te.userLogHandler=null===Y?null:(Pe,rt,...Et)=>{const xe=Et.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");rt>=(Xe??Pe.logLevel)&&Y({level:se[rt].toLowerCase(),message:xe,args:Et,type:Pe.name})}}}},259:(At,Re,H)=>{H.d(Re,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=H(6881);(0,d.registerVersion)("firebase","9.21.0","app")},9260:(At,Re,H)=>{H.d(Re,{Z:()=>d.Z});var d=H(3942);d.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(At,Re,H)=>{H.r(Re);var d=H(5861),se=H(3942),U=H(2090),pe=H(6881),me=H(655),oe=H(1877),Se=H(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te_EMAIL_SIGNIN="EMAIL_SIGNIN",te_PASSWORD_RESET="PASSWORD_RESET",te_RECOVER_EMAIL="RECOVER_EMAIL",te_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",te_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",te_VERIFY_EMAIL="VERIFY_EMAIL";const rt=function Xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Et=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new oe.Yd("@firebase/auth");function je(v,...g){He.logLevel<=oe.in.ERROR&&He.error(`Auth (${pe.SDK_VERSION}): ${v}`,...g)}function Me(v,...g){throw _t(v,...g)}function Ae(v,...g){return _t(v,...g)}function Je(v,g,_){const E=Object.assign(Object.assign({},Et()),{[g]:_});return new U.LL("auth","Firebase",E).create(g,{appName:v.name})}function $e(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Me(v,"argument-error"),Je(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _t(v,...g){if("string"!=typeof v){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(_,...E)}return xe.create(v,...g)}function fe(v,g,..._){if(!v)throw _t(g,..._)}function Lt(v){const g="INTERNAL ASSERTION FAILED: "+v;throw je(g),new Error(g)}function ht(v,g){v||Lt(g)}function an(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ct(){return"http:"===we()||"https:"===we()}function we(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Fe{constructor(g,_){this.shortDelay=g,this.longDelay=_,ht(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Ee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(v,g){ht(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Ze{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Dt=new Fe(3e4,6e4);function Gt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function ut(v,g,_,E){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(v,g,_,E,R={}){return Nt(v,R,(0,d.Z)(function*(){let N={},G={};E&&("GET"===g?G=E:N={body:JSON.stringify(E)});const ie=(0,U.xO)(Object.assign({key:v.config.apiKey},G)).slice(1),Ne=yield v._getAdditionalHeaders();return Ne["Content-Type"]="application/json",v.languageCode&&(Ne["X-Firebase-Locale"]=v.languageCode),Ze.fetch()(ur(v,v.config.apiHost,_,ie),Object.assign({method:g,headers:Ne,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Nt(v,g,_){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(v,g,_){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},It),g);try{const R=new Cr(v),N=yield Promise.race([_(),R.promise]);R.clearNetworkTimeout();const G=yield N.json();if("needConfirmation"in G)throw dr(v,"account-exists-with-different-credential",G);if(N.ok&&!("errorMessage"in G))return G;{const ie=N.ok?G.errorMessage:G.error.message,[Ne,Qe]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw dr(v,"credential-already-in-use",G);if("EMAIL_EXISTS"===Ne)throw dr(v,"email-already-in-use",G);if("USER_DISABLED"===Ne)throw dr(v,"user-disabled",G);const dt=E[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Je(v,dt,Qe);Me(v,dt)}}catch(R){if(R instanceof U.ZR)throw R;Me(v,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function Nn(v,g,_,E){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(v,g,_,E,R={}){const N=yield ut(v,g,_,E,R);return"mfaPendingCredential"in N&&Me(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ur(v,g,_,E){const R=`${g}${_}?${E}`;return v.config.emulator?et(v.config,R):`${v.config.apiScheme}://${R}`}class Cr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Ae(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dr(v,g,_){const E={appName:v.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const R=Ae(v,g,E);return R.customData._tokenResponse=_,R}function Kr(){return(Kr=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Lr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Dr(){return(Dr=(0,d.Z)(function*(v,g=!1){const _=(0,U.m9)(v),E=yield _.getIdToken(g),R=vn(E);fe(R&&R.exp&&R.auth_time&&R.iat,_.auth,"internal-error");const N="object"==typeof R.firebase?R.firebase:void 0,G=N?.sign_in_provider;return{claims:R,token:E,authTime:Lr(Os(R.auth_time)),issuedAtTime:Lr(Os(R.iat)),expirationTime:Lr(Os(R.exp)),signInProvider:G||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Os(v){return 1e3*Number(v)}function vn(v){const[g,_,E]=v.split(".");if(void 0===g||void 0===_||void 0===E)return je("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,U.tV)(_);return R?JSON.parse(R):(je("Failed to decode base64 JWT payload"),null)}catch(R){return je("Caught error parsing JWT payload as JSON",R?.toString()),null}}function yt(v,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof U.ZR&&function Zr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class Vr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const R=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Ui{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lr(this.lastLoginAt),this.creationTime=Lr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ir(v){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,d.Z)(function*(v){var g;const _=v.auth,E=yield v.getIdToken(),R=yield yt(v,function hr(v,g){return Tt.apply(this,arguments)}(_,{idToken:E}));fe(R?.users.length,_,"internal-error");const N=R.users[0];v._notifyReloadListener(N);const G=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?function hn(v){return v.map(g=>{var{providerId:_}=g,E=(0,me._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(N.providerUserInfo):[],ie=function Ao(v,g){return[...v.filter(E=>!g.some(R=>R.providerId===E.providerId)),...g]}(v.providerData,G),dt=!!v.isAnonymous&&!(v.email&&N.passwordHash||ie?.length),pt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ie,metadata:new Ui(N.createdAt,N.lastLoginAt),isAnonymous:dt};Object.assign(v,pt)}),Qn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(v){const g=(0,U.m9)(v);yield Ir(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(v,g){const _=yield Nt(v,{},(0,d.Z)(function*(){const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:R,apiKey:N}=v.config,G=ur(v,R,"/v1/token",`key=${N}`),ie=yield v._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",Ze.fetch()(G,{method:"POST",headers:ie,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){fe(g.idToken,"internal-error"),fe(typeof g.idToken<"u","internal-error"),fe(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function En(v){const g=vn(v);return fe(g,"internal-error"),fe(typeof g.exp<"u","internal-error"),fe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,d.Z)(function*(){return fe(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,d.Z)(function*(){const{accessToken:R,refreshToken:N,expiresIn:G}=yield function Ps(v,g){return Cn.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(R,N,Number(G))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:R,expirationTime:N}=_,G=new Yr;return E&&(fe("string"==typeof E,"internal-error",{appName:g}),G.refreshToken=E),R&&(fe("string"==typeof R,"internal-error",{appName:g}),G.accessToken=R),N&&(fe("number"==typeof N,"internal-error",{appName:g}),G.expirationTime=N),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Yr,this.toJSON())}_performRefresh(){return Lt("not implemented")}}function ei(v,g){fe("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class bi{constructor(g){var{uid:_,auth:E,stsTokenManager:R}=g,N=(0,me._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Ui(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.Z)(function*(){const E=yield yt(_,_.stsTokenManager.getToken(_.auth,g));return fe(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function Ji(v){return Dr.apply(this,arguments)}(this,g)}reload(){return function Br(v){return kn.apply(this,arguments)}(this)}_assign(g){this!==g&&(fe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new bi(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,d.Z)(function*(){let R=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),R=!0),_&&(yield Ir(E)),yield E.auth._persistUserIfCurrent(E),R&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,d.Z)(function*(){const _=yield g.getIdToken();return yield yt(g,function Mo(v,g){return Kr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,R,N,G,ie,Ne,Qe,dt;const pt=null!==(E=_.displayName)&&void 0!==E?E:void 0,Wn=null!==(R=_.email)&&void 0!==R?R:void 0,_o=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,Kd=null!==(G=_.photoURL)&&void 0!==G?G:void 0,Lv=null!==(ie=_.tenantId)&&void 0!==ie?ie:void 0,Kn=null!==(Ne=_._redirectEventId)&&void 0!==Ne?Ne:void 0,q_=null!==(Qe=_.createdAt)&&void 0!==Qe?Qe:void 0,W_=null!==(dt=_.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:Of,emailVerified:Zd,isAnonymous:Cs,providerData:Pf,stsTokenManager:Pu}=_;fe(Of&&Pu,g,"internal-error");const Vv=Yr.fromJSON(this.name,Pu);fe("string"==typeof Of,g,"internal-error"),ei(pt,g.name),ei(Wn,g.name),fe("boolean"==typeof Zd,g,"internal-error"),fe("boolean"==typeof Cs,g,"internal-error"),ei(_o,g.name),ei(Kd,g.name),ei(Lv,g.name),ei(Kn,g.name),ei(q_,g.name),ei(W_,g.name);const Ff=new bi({uid:Of,auth:g,email:Wn,emailVerified:Zd,displayName:pt,isAnonymous:Cs,photoURL:Kd,phoneNumber:_o,tenantId:Lv,stsTokenManager:Vv,createdAt:q_,lastLoginAt:W_});return Pf&&Array.isArray(Pf)&&(Ff.providerData=Pf.map(Bv=>Object.assign({},Bv))),Kn&&(Ff._redirectEventId=Kn),Ff}static _fromIdTokenResponse(g,_,E=!1){return(0,d.Z)(function*(){const R=new Yr;R.updateFromServerResponse(_);const N=new bi({uid:_.localId,auth:g,stsTokenManager:R,isAnonymous:E});return yield Ir(N),N})()}}const ps=new Map;function Hn(v){ht(v instanceof Function,"Expected a class definition");let g=ps.get(v);return g?(ht(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,ps.set(v,g),g)}const Sr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,E){var R=this;return(0,d.Z)(function*(){R.storage[_]=E})()}_get(_){var E=this;return(0,d.Z)(function*(){const R=E.storage[_];return void 0===R?null:R})()}_remove(_){var E=this;return(0,d.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return v.type="NONE",v})();function q(v,g,_){return`firebase:${v}:${g}:${_}`}class z{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:R,name:N}=this.auth;this.fullUserKey=q(this.userKey,R.apiKey,N),this.fullPersistenceKey=q("persistence",R.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?bi._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,d.Z)(function*(){if(!_.length)return new z(Hn(Sr),g,E);const R=(yield Promise.all(_.map(function(){var Qe=(0,d.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let N=R[0]||Hn(Sr);const G=q(E,g.config.apiKey,g.name);let ie=null;for(const Qe of _)try{const dt=yield Qe._get(G);if(dt){const pt=bi._fromJSON(g,dt);Qe!==N&&(ie=pt),N=Qe;break}}catch{}const Ne=R.filter(Qe=>Qe._shouldAllowMigration);return N._shouldAllowMigration&&Ne.length?(N=Ne[0],ie&&(yield N._set(G,ie.toJSON())),yield Promise.all(_.map(function(){var Qe=(0,d.Z)(function*(dt){if(dt!==N)try{yield dt._remove(G)}catch{}});return function(dt){return Qe.apply(this,arguments)}}())),new z(N,g,E)):new z(N,g,E)})()}}function J(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Vt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(De(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(hi(g))return"Blackberry";if(Gn(g))return"Webos";if(le(g))return"Safari";if((g.includes("chrome/")||qe(g))&&!g.includes("edge/"))return"Chrome";if(pn(g))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function De(v=(0,U.z$)()){return/firefox\//i.test(v)}function le(v=(0,U.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function qe(v=(0,U.z$)()){return/crios\//i.test(v)}function Vt(v=(0,U.z$)()){return/iemobile/i.test(v)}function pn(v=(0,U.z$)()){return/android/i.test(v)}function hi(v=(0,U.z$)()){return/blackberry/i.test(v)}function Gn(v=(0,U.z$)()){return/webos/i.test(v)}function Mn(v=(0,U.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Fs(v=(0,U.z$)()){return Mn(v)||pn(v)||Gn(v)||hi(v)||/windows phone/i.test(v)||Vt(v)}function ye(v,g=[]){let _;switch(v){case"Browser":_=J((0,U.z$)());break;case"Worker":_=`${J((0,U.z$)())}-${v}`;break;default:_=v}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${pe.SDK_VERSION}/${E}`}function ze(){return(ze=(0,d.Z)(function*(v){return(yield ut(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function St(v,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(v,g){return ut(v,"GET","/v2/recaptchaConfig",Gt(v,g))})).apply(this,arguments)}function nn(v){return void 0!==v&&void 0!==v.getResponse}function Mt(v){return void 0!==v&&void 0!==v.enterprise}class wn{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Hi(v){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=g,E.onerror=R=>{const N=Ae("internal-error");N.customData=R,_(N)},E.type="text/javascript",E.charset="UTF-8",function mn(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(E)})}function vi(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ya="NO_RECAPTCHA";class Qr{constructor(g){this.type="recaptcha-enterprise",this.auth=An(g)}verify(g="verify",_=!1){var E=this;return(0,d.Z)(function*(){function N(){return N=(0,d.Z)(function*(ie){if(!_){if(null==ie.tenantId&&null!=ie._agentRecaptchaConfig)return ie._agentRecaptchaConfig.siteKey;if(null!=ie.tenantId&&void 0!==ie._tenantRecaptchaConfigs[ie.tenantId])return ie._tenantRecaptchaConfigs[ie.tenantId].siteKey}return new Promise(function(){var Ne=(0,d.Z)(function*(Qe,dt){St(ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pt=>{if(void 0!==pt.recaptchaKey){const Wn=new wn(pt);return null==ie.tenantId?ie._agentRecaptchaConfig=Wn:ie._tenantRecaptchaConfigs[ie.tenantId]=Wn,Qe(Wn.siteKey)}dt(new Error("recaptcha Enterprise site key undefined"))}).catch(pt=>{dt(pt)})});return function(Qe,dt){return Ne.apply(this,arguments)}}())}),N.apply(this,arguments)}function G(ie,Ne,Qe){const dt=window.grecaptcha;Mt(dt)?dt.enterprise.ready(()=>{dt.enterprise.execute(ie,{action:g}).then(pt=>{Ne(pt)}).catch(()=>{Ne(Ya)})}):Qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ie,Ne)=>{(function R(ie){return N.apply(this,arguments)})(E.auth).then(Qe=>{if(!_&&Mt(window.grecaptcha))G(Qe,ie,Ne);else{if(typeof window>"u")return void Ne(new Error("RecaptchaVerifier is only supported in browser"));Hi("https://www.google.com/recaptcha/enterprise.js?render="+Qe).then(()=>{G(Qe,ie,Ne)}).catch(dt=>{Ne(dt)})}}).catch(Qe=>{Ne(Qe)})})})()}}function it(v,g,_){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(v,g,_,E=!1){const R=new Qr(v);let N;try{N=yield R.verify(_)}catch{N=yield R.verify(_,!0)}const G=Object.assign({},g);return Object.assign(G,E?{captchaResp:N}:{captchaResponse:N}),Object.assign(G,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(G,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),G})).apply(this,arguments)}class jn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=N=>new Promise((G,ie)=>{try{G(g(N))}catch(Ne){ie(Ne)}});E.onAbort=_,this.queue.push(E);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===g)return;const E=[];try{for(const R of _.queue)yield R(g),R.onAbort&&E.push(R.onAbort)}catch(R){E.reverse();for(const N of E)try{N()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:R?.message})}})()}}class Xr{constructor(g,_,E,R){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=E,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=Hn(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var R,N;if(!E._deleted&&(E.persistenceManager=yield z.create(E,g),!E._deleted)){if(null!==(R=E._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,d.Z)(function*(){var E;const R=yield _.assertedPersistence.getCurrentUser();let N=R,G=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ie=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,Ne=N?._redirectEventId,Qe=yield _.tryRedirectSignIn(g);(!ie||ie===Ne)&&Qe?.user&&(N=Qe.user,G=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if(G)try{yield _.beforeStateQueue.runMiddleware(N)}catch(ie){N=R,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ie))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return fe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var _=this;return(0,d.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.Z)(function*(){try{yield Ir(g)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.Z)(function*(){const E=g?(0,U.m9)(g):null;return E&&fe(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return g&&fe(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(Hn(g))}))}initializeRecaptchaConfig(){var g=this;return(0,d.Z)(function*(){const _=yield St(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new wn(_);null==g.tenantId?g._agentRecaptchaConfig=E:g._tenantRecaptchaConfigs[g.tenantId]=E,E.emailPasswordEnabled&&new Qr(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,d.Z)(function*(){const R=yield E.getOrInitRedirectPersistenceManager(_);return null===g?R.removeCurrentUser():R.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&Hn(g)||_._popupRedirectResolver;fe(E,_,"argument-error"),_.redirectPersistenceManager=yield z.create(_,[Hn(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.Z)(function*(){var E,R;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.Z)(function*(){if(g===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,R){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),G=this._isInitialized?Promise.resolve():this._initializationPromise;return fe(G,this,"internal-error"),G.then(()=>N(this.currentUser)),"function"==typeof _?g.addObserver(_,E,R):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const R=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();R&&(E["X-Firebase-Client"]=R);const N=yield g._getAppCheckToken();return N&&(E["X-Firebase-AppCheck"]=N),E})()}_getAppCheckToken(){var g=this;return(0,d.Z)(function*(){var _;const E=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return E?.error&&function Ke(v,...g){He.logLevel<=oe.in.WARN&&He.warn(`Auth (${pe.SDK_VERSION}): ${v}`,...g)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function An(v){return(0,U.m9)(v)}class wi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(_=>this.observer=_)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ro(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Ll(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Ns{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Lt("not implemented")}_getIdTokenResponse(g){return Lt("not implemented")}_linkToIdToken(g,_){return Lt("not implemented")}_getReauthenticationResolver(g){return Lt("not implemented")}}function ko(v,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:resetPassword",Gt(v,g))})).apply(this,arguments)}function Qa(v,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:update",Gt(v,g))})).apply(this,arguments)}function Ai(v,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(v,g){return Nn(v,"POST","/v1/accounts:signInWithPassword",Gt(v,g))})).apply(this,arguments)}function Ur(v,g){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:sendOobCode",Gt(v,g))})).apply(this,arguments)}function Xa(){return(Xa=(0,d.Z)(function*(v,g){return Ur(v,g)})).apply(this,arguments)}function Oo(v,g){return ra.apply(this,arguments)}function ra(){return(ra=(0,d.Z)(function*(v,g){return Ur(v,g)})).apply(this,arguments)}function ji(v,g){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,d.Z)(function*(v,g){return Ur(v,g)})).apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(v,g){return Ur(v,g)})).apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(v,g){return Nn(v,"POST","/v1/accounts:signInWithEmailLink",Gt(v,g))})).apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(v,g){return Nn(v,"POST","/v1/accounts:signInWithEmailLink",Gt(v,g))})).apply(this,arguments)}class jc extends Ns{constructor(g,_,E,R=null){super("password",E),this._email=g,this._password=_,this._tenantId=R}static _fromEmailAndPassword(g,_){return new jc(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new jc(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.Z)(function*(){var E;switch(_.signInMethod){case"password":const R={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=g._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const N=yield it(g,R,"signInWithPassword");return Ai(g,N)}return Ai(g,R).catch(function(){var N=(0,d.Z)(function*(G){if("auth/missing-recaptcha-token"===G.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ie=yield it(g,R,"signInWithPassword");return Ai(g,ie)}return Promise.reject(G)});return function(G){return N.apply(this,arguments)}}());case"emailLink":return function Bl(v,g){return Ja.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Me(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return Qa(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function dd(v,g){return Jr.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:Me(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ys(v,g){return zh.apply(this,arguments)}function zh(){return(zh=(0,d.Z)(function*(v,g){return Nn(v,"POST","/v1/accounts:signInWithIdp",Gt(v,g))})).apply(this,arguments)}class to extends Ns{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new to(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Me("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:R}=_,N=(0,me._T)(_,["providerId","signInMethod"]);if(!E||!R)return null;const G=new to(E,R);return G.idToken=N.idToken||void 0,G.accessToken=N.accessToken||void 0,G.secret=N.secret,G.nonce=N.nonce,G.pendingToken=N.pendingToken||null,G}_getIdTokenResponse(g){return ys(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,ys(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ys(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,U.xO)(_)}return g}}function hd(){return(hd=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:sendVerificationCode",Gt(v,g))})).apply(this,arguments)}function $h(){return($h=(0,d.Z)(function*(v,g){return Nn(v,"POST","/v1/accounts:signInWithPhoneNumber",Gt(v,g))})).apply(this,arguments)}function zc(){return(zc=(0,d.Z)(function*(v,g){const _=yield Nn(v,"POST","/v1/accounts:signInWithPhoneNumber",Gt(v,g));if(_.temporaryProof)throw dr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const qh={USER_NOT_FOUND:"user-not-found"};function $c(){return($c=(0,d.Z)(function*(v,g){return Nn(v,"POST","/v1/accounts:signInWithPhoneNumber",Gt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),qh)})).apply(this,arguments)}class er extends Ns{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new er({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new er({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function I_(v,g){return $h.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Gh(v,g){return zc.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ev(v,g){return $c.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:R}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:R}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:R,temporaryProof:N}=g;return E||_||R||N?new er({verificationId:_,verificationCode:E,phoneNumber:R,temporaryProof:N}):null}}class el{constructor(g){var _,E,R,N,G,ie;const Ne=(0,U.zd)((0,U.pd)(g)),Qe=null!==(_=Ne.apiKey)&&void 0!==_?_:null,dt=null!==(E=Ne.oobCode)&&void 0!==E?E:null,pt=function dm(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Ne.mode)&&void 0!==R?R:null);fe(Qe&&dt&&pt,"argument-error"),this.apiKey=Qe,this.operation=pt,this.code=dt,this.continueUrl=null!==(N=Ne.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(G=Ne.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ie=Ne.tenantId)&&void 0!==ie?ie:null}static parseLink(g){const _=function Wh(v){const g=(0,U.zd)((0,U.pd)(v)).link,_=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(v)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||_||g||v}(g);try{return new el(_)}catch{return null}}}let Kh=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,E){return jc._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const R=el.parseLink(E);return fe(R,"argument-error"),jc._fromEmailAndCode(_,R.code,R.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class no{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ls extends no{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class sa extends Ls{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return fe("providerId"in _&&"signInMethod"in _,"argument-error"),to._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return fe(g.idToken||g.accessToken,"argument-error"),to._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return sa.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return sa.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:R,pendingToken:N,nonce:G,providerId:ie}=g;if(!E&&!R&&!_&&!N||!ie)return null;try{return new sa(ie)._credential({idToken:_,accessToken:E,nonce:G,pendingToken:N})}catch{return null}}}let fd=(()=>{class v extends Ls{constructor(){super("facebook.com")}static credential(_){return to._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ul=(()=>{class v extends Ls{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return to._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:R}=_;if(!E&&!R)return null;try{return v.credential(E,R)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Zh=(()=>{class v extends Ls{constructor(){super("github.com")}static credential(_){return to._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Po extends Ns{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return ys(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,ys(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ys(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:R,pendingToken:N}=_;return E&&R&&N&&E===R?new Po(E,N):null}static _create(g,_){return new Po(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gc extends no{constructor(g){fe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Gc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Gc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Po.fromJSON(g);return fe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return Po._create(E,_)}catch{return null}}}let qc=(()=>{class v extends Ls{constructor(){super("twitter.com")}static credential(_,E){return to._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:R}=_;if(!E||!R)return null;try{return v.credential(E,R)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Fo(v,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(v,g){return Nn(v,"POST","/v1/accounts:signUp",Gt(v,g))})).apply(this,arguments)}class pr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,R=!1){return(0,d.Z)(function*(){const N=yield bi._fromIdTokenResponse(g,E,R),G=Hl(E);return new pr({user:N,providerId:G,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const R=Hl(E);return new pr({user:g,providerId:R,_tokenResponse:E,operationType:_})})()}}function Hl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function tl(){return(tl=(0,d.Z)(function*(v){var g;const _=An(v);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new pr({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Fo(_,{returnSecureToken:!0}),R=yield pr._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class io extends U.ZR{constructor(g,_,E,R){var N;super(_.code,_.message),this.operationType=E,this.user=R,Object.setPrototypeOf(this,io.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,R){return new io(g,_,E,R)}}function $i(v,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?io._fromErrorAndOperation(v,N,g,E):N})}function Yh(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function mr(){return mr=(0,d.Z)(function*(v,g){const _=(0,U.m9)(v);yield ro(!0,_,g);const{providerUserInfo:E}=yield function Za(v,g){return ta.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),R=Yh(E||[]);return _.providerData=_.providerData.filter(N=>R.has(N.providerId)),R.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),mr.apply(this,arguments)}function Ri(v,g){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(v,g,_=!1){const E=yield yt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return pr._forOperation(v,"link",E)})).apply(this,arguments)}function ro(v,g,_){return md.apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(v,g,_){yield Ir(g);const R=!1===v?"provider-already-linked":"no-such-provider";fe(Yh(g.providerData).has(_)===v,g.auth,R)})).apply(this,arguments)}function No(v,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,d.Z)(function*(v,g,_=!1){const{auth:E}=v,R="reauthenticate";try{const N=yield yt(v,$i(E,R,g,v),_);fe(N.idToken,E,"internal-error");const G=vn(N.idToken);fe(G,E,"internal-error");const{sub:ie}=G;return fe(v.uid===ie,E,"user-mismatch"),pr._forOperation(v,R,N)}catch(N){throw"auth/user-not-found"===N?.code&&Me(E,"user-mismatch"),N}})).apply(this,arguments)}function jl(v,g){return $t.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(v,g,_=!1){const E="signIn",R=yield $i(v,E,g),N=yield pr._fromIdTokenResponse(v,E,R);return _||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function zl(v,g){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,d.Z)(function*(v,g){return jl(An(v),g)})).apply(this,arguments)}function Jh(v,g){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,d.Z)(function*(v,g){const _=(0,U.m9)(v);return yield ro(!1,_,g.providerId),Ri(_,g)})).apply(this,arguments)}function ef(v,g){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,d.Z)(function*(v,g){return No((0,U.m9)(v),g)})).apply(this,arguments)}function tf(){return(tf=(0,d.Z)(function*(v,g){return Nn(v,"POST","/v1/accounts:signInWithCustomToken",Gt(v,g))})).apply(this,arguments)}function Yt(){return Yt=(0,d.Z)(function*(v,g){const _=An(v),E=yield function S_(v,g){return tf.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),R=yield pr._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(R.user),R}),Yt.apply(this,arguments)}class $l{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Gl._fromServerResponse(g,_):"totpInfo"in _?ki._fromServerResponse(g,_):Me(g,"internal-error")}}class Gl extends $l{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Gl(_)}}class ki extends $l{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new ki(_)}}function oa(v,g,_){var E;fe((null===(E=_.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),fe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(fe(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(fe(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Mr(){return Mr=(0,d.Z)(function*(v,g,_){var E;const R=An(v),N={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const G=yield it(R,N,"getOobCode",!0);_&&oa(R,G,_),yield Oo(R,G)}else _&&oa(R,N,_),yield Oo(R,N).catch(function(){var G=(0,d.Z)(function*(ie){if("auth/missing-recaptcha-token"!==ie.code)return Promise.reject(ie);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ne=yield it(R,N,"getOobCode",!0);_&&oa(R,Ne,_),yield Oo(R,Ne)}});return function(ie){return G.apply(this,arguments)}}())}),Mr.apply(this,arguments)}function Qc(){return(Qc=(0,d.Z)(function*(v,g,_){yield ko((0,U.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function so(){return so=(0,d.Z)(function*(v,g){yield function _s(v,g){return ia.apply(this,arguments)}((0,U.m9)(v),{oobCode:g})}),so.apply(this,arguments)}function ql(v,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(v,g){const _=(0,U.m9)(v),E=yield ko(_,{oobCode:g}),R=E.requestType;switch(fe(R,_,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(E.mfaInfo,_,"internal-error");default:fe(E.email,_,"internal-error")}let N=null;return E.mfaInfo&&(N=$l._fromServerResponse(An(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:R}})).apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(v,g){const{data:_}=yield ql((0,U.m9)(v),g);return _.email})).apply(this,arguments)}function ts(){return ts=(0,d.Z)(function*(v,g,_){var E;const R=An(v),N={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let G;if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Qe=yield it(R,N,"signUpPassword");G=Fo(R,Qe)}else G=Fo(R,N).catch(function(){var Qe=(0,d.Z)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const pt=yield it(R,N,"signUpPassword");return Fo(R,pt)}return Promise.reject(dt)});return function(dt){return Qe.apply(this,arguments)}}());const ie=yield G.catch(Qe=>Promise.reject(Qe)),Ne=yield pr._fromIdTokenResponse(R,"signIn",ie);return yield R._updateCurrentUser(Ne.user),Ne}),ts.apply(this,arguments)}function Xc(){return Xc=(0,d.Z)(function*(v,g,_){var E;const R=An(v),N={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function G(ie,Ne){fe(Ne.handleCodeInApp,R,"argument-error"),Ne&&oa(R,ie,Ne)}if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ie=yield it(R,N,"getOobCode",!0);G(ie,_),yield ji(R,ie)}else G(N,_),yield ji(R,N).catch(function(){var ie=(0,d.Z)(function*(Ne){if("auth/missing-recaptcha-token"!==Ne.code)return Promise.reject(Ne);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Qe=yield it(R,N,"getOobCode",!0);G(Qe,_),yield ji(R,Qe)}});return function(Ne){return ie.apply(this,arguments)}}())}),Xc.apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(v,g,_){const E=(0,U.m9)(v),R=Kh.credentialWithLink(g,_||an());return fe(R._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),zl(E,R)})).apply(this,arguments)}function Jc(){return(Jc=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:createAuthUri",Gt(v,g))})).apply(this,arguments)}function eu(){return eu=(0,d.Z)(function*(v,g){const E={identifier:g,continueUri:Ct()?an():"http://localhost"},{signinMethods:R}=yield function gd(v,g){return Jc.apply(this,arguments)}((0,U.m9)(v),E);return R||[]}),eu.apply(this,arguments)}function Kl(){return Kl=(0,d.Z)(function*(v,g){const _=(0,U.m9)(v),R={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&oa(_.auth,R,g);const{email:N}=yield function ud(v,g){return Xa.apply(this,arguments)}(_.auth,R);N!==v.email&&(yield v.reload())}),Kl.apply(this,arguments)}function Zl(){return Zl=(0,d.Z)(function*(v,g,_){const E=(0,U.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&oa(E.auth,N,_);const{email:G}=yield function Hr(v,g){return jr.apply(this,arguments)}(E.auth,N);G!==v.email&&(yield v.reload())}),Zl.apply(this,arguments)}function nu(){return(nu=(0,d.Z)(function*(v,g){return ut(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function iu(){return iu=(0,d.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,U.m9)(v),N={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},G=yield yt(E,function af(v,g){return nu.apply(this,arguments)}(E.auth,N));E.displayName=G.displayName||null,E.photoURL=G.photoUrl||null;const ie=E.providerData.find(({providerId:Ne})=>"password"===Ne);ie&&(ie.displayName=E.displayName,ie.photoURL=E.photoURL),yield E._updateTokensIfNecessary(G)}),iu.apply(this,arguments)}function qn(v,g,_){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,d.Z)(function*(v,g,_){const{auth:E}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(N.email=g),_&&(N.password=_);const G=yield yt(v,Qa(E,N));yield v._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class Lo{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class mm extends Lo{constructor(g,_,E,R){super(g,_,E),this.username=R}}class lf extends Lo{constructor(g,_){super(g,"facebook.com",_)}}class A_ extends mm{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ru extends Lo{constructor(g,_){super(g,"google.com",_)}}class yd extends mm{constructor(g,_,E){super(g,"twitter.com",_,E)}}function bd(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function pm(v){var g,_;if(!v)return null;const{providerId:E}=v,R=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const G=null===(_=null===(g=vn(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(G)return new Lo(N,"anonymous"!==G&&"custom"!==G?G:null)}if(!E)return null;switch(E){case"facebook.com":return new lf(N,R);case"github.com":return new A_(N,R);case"google.com":return new ru(N,R);case"twitter.com":return new yd(N,R,v.screenName||null);case"custom":case"anonymous":return new Lo(N,null);default:return new Lo(N,E,R)}}(_)}class la{constructor(g,_,E){this.type=g,this.credential=_,this.auth=E}static _fromIdtoken(g,_){return new la("enroll",g,_)}static _fromMfaPendingCredential(g){return new la("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return la._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return la._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ca{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=An(g),R=_.customData._serverResponse,N=(R.mfaInfo||[]).map(ie=>$l._fromServerResponse(E,ie));fe(R.mfaPendingCredential,E,"internal-error");const G=la._fromMfaPendingCredential(R.mfaPendingCredential);return new ca(G,N,function(){var ie=(0,d.Z)(function*(Ne){const Qe=yield Ne._process(E,G);delete R.mfaInfo,delete R.mfaPendingCredential;const dt=Object.assign(Object.assign({},R),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(_.operationType){case"signIn":const pt=yield pr._fromIdTokenResponse(E,_.operationType,dt);return yield E._updateCurrentUser(pt.user),pt;case"reauthenticate":return fe(_.user,E,"internal-error"),pr._forOperation(_.user,_.operationType,dt);default:Me(E,"internal-error")}});return function(Ne){return ie.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,d.Z)(function*(){return _.signInResolver(g)})()}}class ha{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>$l._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new ha(g)}getSession(){var g=this;return(0,d.Z)(function*(){return la._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var E=this;return(0,d.Z)(function*(){const R=g,N=yield E.getSession(),G=yield yt(E.user,R._process(E.user.auth,N,_));return yield E.user._updateTokensIfNecessary(G),E.user.reload()})()}unenroll(g){var _=this;return(0,d.Z)(function*(){const E="string"==typeof g?g:g.uid,R=yield _.user.getIdToken();try{const N=yield yt(_.user,function au(v,g){return ut(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(v,g))}(_.user.auth,{idToken:R,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:G})=>G!==E),yield _.user._updateTokensIfNecessary(N),yield _.user.reload()}catch(N){throw N}})()}}const Vo=new WeakMap,fa="__sak";class lu{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(fa,"1"),this.storage.removeItem(fa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const pa=(()=>{class v extends lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xl(){const v=(0,U.z$)();return le(v)||Mn(v)}()&&function Pl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Fs(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const R=this.storage.getItem(E),N=this.localCache[E];R!==N&&_(E,N,R)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((ie,Ne,Qe)=>{this.notifyListeners(ie,Qe)});const R=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(R);if(_.newValue!==ie)null!==_.newValue?this.storage.setItem(R,_.newValue):this.storage.removeItem(R);else if(this.localCache[R]===_.newValue&&!E)return}const N=()=>{const ie=this.storage.getItem(R);!E&&this.localCache[R]===ie||this.notifyListeners(R,ie)},G=this.storage.getItem(R);!function gs(){return(0,U.w1)()&&10===document.documentMode}()||G===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,E){this.localCache[_]=E;const R=this.listeners[_];if(R)for(const N of Array.from(R))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var R=()=>super._set,N=this;return(0,d.Z)(function*(){yield R().call(N,_,E),N.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,R=this;return(0,d.Z)(function*(){const N=yield E().call(R,_);return R.localCache[_]=JSON.stringify(N),N})()}_remove(_){var E=()=>super._remove,R=this;return(0,d.Z)(function*(){yield E().call(R,_),delete R.localCache[_]})()}}return v.type="LOCAL",v})(),lo=(()=>{class v extends lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return v.type="SESSION",v})();let al=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(N=>N.isListeningto(_));if(E)return E;const R=new v(_);return this.receivers.push(R),R}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,d.Z)(function*(){const R=_,{eventId:N,eventType:G,data:ie}=R.data,Ne=E.handlersMap[G];if(!Ne?.size)return;R.ports[0].postMessage({status:"ack",eventId:N,eventType:G});const Qe=Array.from(Ne).map(function(){var pt=(0,d.Z)(function*(Wn){return Wn(R.origin,ie)});return function(Wn){return pt.apply(this,arguments)}}()),dt=yield function xd(v){return Promise.all(v.map(function(){var g=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(Qe);R.ports[0].postMessage({status:"done",eventId:N,eventType:G,response:dt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ll(v="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return v+_}class hf{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var R=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let G,ie;return new Promise((Ne,Qe)=>{const dt=ll("",20);N.port1.start();const pt=setTimeout(()=>{Qe(new Error("unsupported_event"))},E);ie={messageChannel:N,onMessage(Wn){const _o=Wn;if(_o.data.eventId===dt)switch(_o.data.status){case"ack":clearTimeout(pt),G=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Ne(_o.data.response);break;default:clearTimeout(pt),clearTimeout(G),Qe(new Error("invalid_response"))}}},R.handlers.add(ie),N.port1.addEventListener("message",ie.onMessage),R.target.postMessage({eventType:g,eventId:dt,data:_},[N.port2])}).finally(()=>{ie&&R.removeMessageHandler(ie)})})()}}function On(){return window}function uu(){return typeof On().WorkerGlobalScope<"u"&&"function"==typeof On().importScripts}function du(){return(du=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ma="firebaseLocalStorageDb",pi=1,Cd="firebaseLocalStorage",Jl="fbase_key";class ec{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function co(v,g){return v.transaction([Cd],g?"readwrite":"readonly").objectStore(Cd)}function fu(){const v=indexedDB.open(ma,pi);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Cd,{keyPath:Jl})}catch(R){_(R)}}),v.addEventListener("success",(0,d.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Cd)?g(E):(E.close(),yield function ym(){const v=indexedDB.deleteDatabase(ma);return new ec(v).toPromise()}(),g(yield fu()))}))})}function ga(v,g,_){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,d.Z)(function*(v,g,_){const E=co(v,!0).put({[Jl]:g,value:_});return new ec(E).toPromise()})).apply(this,arguments)}function cl(){return(cl=(0,d.Z)(function*(v,g){const _=co(v,!1).get(g),E=yield new ec(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Bo(v,g){const _=co(v,!0).delete(g);return new ec(_).toPromise()}const ya=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield fu()),_.db})()}_withRetries(_){var E=this;return(0,d.Z)(function*(){let R=0;for(;;)try{const N=yield E._openDb();return yield _(N)}catch(N){if(R++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return uu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=al._getInstance(function Oi(){return uu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(R,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(R,N){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(R,N){return["keyChanged"]});return function(R,N){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var E,R;if(_.activeServiceWorker=yield function Ed(){return du.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new hf(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);N&&null!==(E=N[0])&&void 0!==E&&E.fulfilled&&null!==(R=N[0])&&void 0!==R&&R.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function hu(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield fu();return yield ga(_,fa,"1"),yield Bo(_,fa),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var R=this;return(0,d.Z)(function*(){return R._withPendingWrite((0,d.Z)(function*(){return yield R._withRetries(N=>ga(N,_,E)),R.localCache[_]=E,R.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,d.Z)(function*(){const R=yield E._withRetries(N=>function tc(v,g){return cl.apply(this,arguments)}(N,_));return E.localCache[_]=R,R})()}_remove(_){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(R=>Bo(R,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const E=yield _._withRetries(G=>{const ie=co(G,!1).getAll();return new ec(ie).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const R=[],N=new Set;for(const{fbase_key:G,value:ie}of E)N.add(G),JSON.stringify(_.localCache[G])!==JSON.stringify(ie)&&(_.notifyListeners(G,ie),R.push(G));for(const G of Object.keys(_.localCache))_.localCache[G]&&!N.has(G)&&(_.notifyListeners(G,null),R.push(G));return R})()}notifyListeners(_,E){this.localCache[_]=E;const R=this.listeners[_];if(R)for(const N of Array.from(R))N(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ic=1e12;class Id{constructor(g){this.auth=g,this.counter=ic,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new Sd(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||ic;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ic))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.Z)(function*(){var E;return null===(E=_._widgets.get(g||ic))||void 0===E||E.execute(),""})()}}class Sd{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof g?document.getElementById(g):g;fe(R,"argument-error",{appName:_}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Iv(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wm=vi("rcb"),Sv=new Fe(3e4,6e4);class Tv{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=On().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return fe(function xm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&nn(On().grecaptcha)?Promise.resolve(On().grecaptcha):new Promise((E,R)=>{const N=On().setTimeout(()=>{R(Ae(g,"network-request-failed"))},Sv.get());On()[wm]=()=>{On().clearTimeout(N),delete On()[wm];const ie=On().grecaptcha;if(!ie||!nn(ie))return void R(Ae(g,"internal-error"));const Ne=ie.render;ie.render=(Qe,dt)=>{const pt=Ne(Qe,dt);return this.counter++,pt},this.hostLanguage=_,E(ie)},Hi(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:wm,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),R(Ae(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=On().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pi{load(g){return(0,d.Z)(function*(){return new Id(g)})()}clearedOneInstance(){}}const rc="recaptcha",pu={theme:"light",type:"image"};class Td{constructor(g,_=Object.assign({},pu),E){this.parameters=_,this.type=rc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(E),this.isInvisible="invisible"===this.parameters.size,fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof g?document.getElementById(g):g;fe(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pi:new Tv,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(N=>{const G=ie=>{ie&&(g.tokenChangeListeners.delete(G),N(ie))};g.tokenChangeListeners.add(G),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=On()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){fe(Ct()&&!uu(),g.auth,"internal-error"),yield function bs(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function ue(v){return ze.apply(this,arguments)}(g.auth);fe(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bs{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=er._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function wa(){return(wa=(0,d.Z)(function*(v,g,_){const E=An(v),R=yield sc(E,g,(0,U.m9)(_));return new Bs(R,N=>zl(E,N))})).apply(this,arguments)}function gu(){return(gu=(0,d.Z)(function*(v,g,_){const E=(0,U.m9)(v);yield ro(!1,E,"phone");const R=yield sc(E.auth,g,(0,U.m9)(_));return new Bs(R,N=>Jh(E,N))})).apply(this,arguments)}function yu(){return(yu=(0,d.Z)(function*(v,g,_){const E=(0,U.m9)(v),R=yield sc(E.auth,g,(0,U.m9)(_));return new Bs(R,N=>ef(E,N))})).apply(this,arguments)}function sc(v,g,_){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,d.Z)(function*(v,g,_){var E;const R=yield _.verify();try{let N;if(fe("string"==typeof R,v,"argument-error"),fe(_.type===rc,v,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const G=N.session;if("phoneNumber"in N)return fe("enroll"===G.type,v,"internal-error"),(yield function ol(v,g){return ut(v,"POST","/v2/accounts/mfaEnrollment:start",Gt(v,g))}(v,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{fe("signin"===G.type,v,"internal-error");const ie=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return fe(ie,v,"missing-multi-factor-info"),(yield function ba(v,g){return ut(v,"POST","/v2/accounts/mfaSignIn:start",Gt(v,g))}(v,{mfaPendingCredential:G.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield function D_(v,g){return hd.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:R});return G}}finally{_._reset()}}),Ar.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(v,g){yield Ri((0,U.m9)(v),g)})).apply(this,arguments)}let ot=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=An(_)}verifyPhoneNumber(_,E){return sc(this.auth,_,(0,U.m9)(E))}static credential(_,E){return er._fromVerification(_,E)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:R}=_;return E&&R?er._fromTokenResponse(E,R):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Dn(v,g){return g?Hn(g):(fe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class zn extends Ns{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ys(g,this._buildIdpRequest())}_linkToIdToken(g,_){return ys(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return ys(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function mf(v){return jl(v.auth,new zn(v),v.bypassAuthState)}function oc(v){const{auth:g,user:_}=v;return fe(_,g,"internal-error"),No(_,new zn(v),v.bypassAuthState)}function ni(v){return bu.apply(this,arguments)}function bu(){return(bu=(0,d.Z)(function*(v){const{auth:g,user:_}=v;return fe(_,g,"internal-error"),Ri(_,new zn(v),v.bypassAuthState)})).apply(this,arguments)}class Md{constructor(g,_,E,R,N=!1){this.auth=g,this.resolver=E,this.user=R,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,d.Z)(function*(E,R){g.pendingPromise={resolve:E,reject:R};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(E,R){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:R,postBody:N,tenantId:G,error:ie,type:Ne}=g;if(ie)return void _.reject(ie);const Qe={auth:_.auth,requestUri:E,sessionId:R,tenantId:G||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ne)(Qe))}catch(dt){_.reject(dt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return mf;case"linkViaPopup":case"linkViaRedirect":return ni;case"reauthViaPopup":case"reauthViaRedirect":return oc;default:Me(this.auth,"internal-error")}}resolve(g){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const is=new Fe(2e3,1e4);function dl(){return(dl=(0,d.Z)(function*(v,g,_){const E=An(v);$e(v,g,no);const R=Dn(E,_);return new vu(E,"signInViaPopup",g,R).executeNotNull()})).apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(v,g,_){const E=(0,U.m9)(v);$e(E.auth,g,no);const R=Dn(E.auth,_);return new vu(E.auth,"reauthViaPopup",g,R,E).executeNotNull()})).apply(this,arguments)}function Ad(){return(Ad=(0,d.Z)(function*(v,g,_){const E=(0,U.m9)(v);$e(E.auth,g,no);const R=Dn(E.auth,_);return new vu(E.auth,"linkViaPopup",g,R,E).executeNotNull()})).apply(this,arguments)}let vu=(()=>{class v extends Md{constructor(_,E,R,N,G){super(_,E,N,G),this.provider=R,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const E=yield _.execute();return fe(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,d.Z)(function*(){ht(1===_.filter.length,"Popup operations only handle one event");const E=ll();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(R=>{_.reject(R)}),_.resolver._isIframeWebStorageSupported(_.auth,R=>{R||_.reject(Ae(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,R;this.pollId=null!==(R=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,is.get())};_()}}return v.currentPopupAction=null,v})();const uo="pendingRedirect",Ho=new Map;class mi extends Md{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.Z)(function*(){let E=Ho.get(_.auth._key());if(!E){try{const N=(yield function Rd(v,g){return wu.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(N)}catch(R){E=()=>Promise.reject(R)}Ho.set(_.auth._key(),E)}return _.bypassAuthState||Ho.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const R=yield E.auth._redirectUserForId(g.eventId);if(R)return E.user=R,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function wu(){return(wu=(0,d.Z)(function*(v,g){const _=ho(g),E=lc(v);if(!(yield E._isAvailable()))return!1;const R="true"===(yield E._get(_));return yield E._remove(_),R})).apply(this,arguments)}function xa(v,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(v,g){return lc(v)._set(ho(g),"true")})).apply(this,arguments)}function gf(v,g){Ho.set(v._key(),g)}function lc(v){return Hn(v._redirectPersistence)}function ho(v){return q(uo,v.config.apiKey,v.name)}function _f(v,g,_){return function Cm(v,g,_){return Rr.apply(this,arguments)}(v,g,_)}function Rr(){return(Rr=(0,d.Z)(function*(v,g,_){const E=An(v);$e(v,g,no),yield E._initializationPromise;const R=Dn(E,_);return yield xa(R,E),R._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function hl(v,g,_){return function rs(v,g,_){return jo.apply(this,arguments)}(v,g,_)}function jo(){return(jo=(0,d.Z)(function*(v,g,_){const E=(0,U.m9)(v);$e(E.auth,g,no),yield E.auth._initializationPromise;const R=Dn(E.auth,_);yield xa(R,E.auth);const N=yield ri(E);return R._openRedirect(E.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function Fi(v,g,_){return function kd(v,g,_){return Eu.apply(this,arguments)}(v,g,_)}function Eu(){return(Eu=(0,d.Z)(function*(v,g,_){const E=(0,U.m9)(v);$e(E.auth,g,no),yield E.auth._initializationPromise;const R=Dn(E.auth,_);yield ro(!1,E,g.providerId),yield xa(R,E.auth);const N=yield ri(E);return R._openRedirect(E.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function ss(){return(ss=(0,d.Z)(function*(v,g){return yield An(v)._initializationPromise,fo(v,g,!1)})).apply(this,arguments)}function fo(v,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(v,g,_=!1){const E=An(v),R=Dn(E,g),G=yield new mi(E,R,_).execute();return G&&!_&&(delete G.user._redirectEventId,yield E._persistUserIfCurrent(G.user),yield E._setRedirectUser(null,g)),G})).apply(this,arguments)}function ri(v){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(v){const g=ll(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class fl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function si(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Us(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!Us(g)){const R=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Ae(this.auth,R))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vs(g))}saveEventToCache(g){this.cachedEventUids.add(vs(g)),this.lastProcessedEventTime=Date.now()}}function vs(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Us({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function zo(v){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,d.Z)(function*(v,g={}){return ut(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Cu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Du=/^https?/;function po(){return(po=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield zo(v);for(const _ of g)try{if(Pd(_))return}catch{}Me(v,"unauthorized-domain")})).apply(this,arguments)}function Pd(v){const g=an(),{protocol:_,hostname:E}=new URL(g);if(v.startsWith("chrome-extension://")){const G=new URL(v);return""===G.hostname&&""===E?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&G.hostname===E}if(!Du.test(_))return!1;if(Cu.test(v))return E===v;const R=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(E)}const cc=new Fe(3e4,6e4);function Pt(){const v=On().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let Su=null;const yf=new Fe(5e3,15e3),bf="__/auth/iframe",xs="emulator/auth/iframe",vf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xf(v){const g=v.config;fe(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?et(g,xs):`https://${v.config.authDomain}/${bf}`,E={apiKey:g.apiKey,appName:v.name,v:pe.SDK_VERSION},R=wf.get(v.config.apiHost);R&&(E.eid=R);const N=v._getFrameworks();return N.length&&(E.fw=N.join(",")),`${_}?${(0,U.xO)(E).slice(1)}`}function S(){return S=(0,d.Z)(function*(v){const g=yield function os(v){return Su=Su||function ws(v){return new Promise((g,_)=>{var E,R,N;function G(){Pt(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Pt(),_(Ae(v,"network-request-failed"))},timeout:cc.get()})}if(null!==(R=null===(E=On().gapi)||void 0===E?void 0:E.iframes)&&void 0!==R&&R.Iframe)g(gapi.iframes.getContext());else{if(null===(N=On().gapi)||void 0===N||!N.load){const ie=vi("iframefcb");return On()[ie]=()=>{gapi.load?G():_(Ae(v,"network-request-failed"))},Hi(`https://apis.google.com/js/api.js?onload=${ie}`).catch(Ne=>_(Ne))}G()}}).catch(g=>{throw Su=null,g})}(v),Su}(v),_=On().gapi;return fe(_,v,"internal-error"),g.open({where:document.body,url:xf(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vf,dontclear:!0},E=>new Promise(function(){var R=(0,d.Z)(function*(N,G){yield E.restyle({setHideOnLeave:!1});const ie=Ae(v,"network-request-failed"),Ne=On().setTimeout(()=>{G(ie)},yf.get());function Qe(){On().clearTimeout(Ne),N(E)}E.ping(Qe).then(Qe,()=>{G(ie)})});return function(N,G){return R.apply(this,arguments)}}()))}),S.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B=500,Q=600,ne="_blank",he="http://localhost";class tt{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ht="__/auth/handler",jt="emulator/auth/handler",gr=encodeURIComponent("fac");function Pn(v,g,_,E,R,N){return qt.apply(this,arguments)}function qt(){return(qt=(0,d.Z)(function*(v,g,_,E,R,N){fe(v.config.authDomain,v,"auth-domain-config-required"),fe(v.config.apiKey,v,"invalid-api-key");const G={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:E,v:pe.SDK_VERSION,eventId:R};if(g instanceof no){g.setDefaultLanguage(v.languageCode),G.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(G.customParameters=JSON.stringify(g.getCustomParameters()));for(const[dt,pt]of Object.entries(N||{}))G[dt]=pt}if(g instanceof Ls){const dt=g.getScopes().filter(pt=>""!==pt);dt.length>0&&(G.scopes=dt.join(","))}v.tenantId&&(G.tid=v.tenantId);const ie=G;for(const dt of Object.keys(ie))void 0===ie[dt]&&delete ie[dt];const Ne=yield v._getAppCheckToken(),Qe=Ne?`#${gr}=${encodeURIComponent(Ne)}`:"";return`${function $o({config:v}){return v.emulator?et(v,jt):`https://${v.authDomain}/${Ht}`}(v)}?${(0,U.xO)(ie).slice(1)}${Qe}`})).apply(this,arguments)}const Da="webStorageSupport",Es=class Gi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lo,this._completeRedirectFn=fo,this._overrideRedirectResult=gf}_openPopup(g,_,E,R){var N=this;return(0,d.Z)(function*(){var G;ht(null===(G=N.eventManagers[g._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ie=yield Pn(g,_,E,an(),R);return function Ye(v,g,_,E=B,R=Q){const N=Math.max((window.screen.availHeight-R)/2,0).toString(),G=Math.max((window.screen.availWidth-E)/2,0).toString();let ie="";const Ne=Object.assign(Object.assign({},k),{width:E.toString(),height:R.toString(),top:N,left:G}),Qe=(0,U.z$)().toLowerCase();_&&(ie=qe(Qe)?ne:_),De(Qe)&&(g=g||he,Ne.scrollbars="yes");const dt=Object.entries(Ne).reduce((Wn,[_o,Kd])=>`${Wn}${_o}=${Kd},`,"");if(function fr(v=(0,U.z$)()){var g;return Mn(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Qe)&&"_self"!==ie)return function xt(v,g){const _=document.createElement("a");_.href=v,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",ie),new tt(null);const pt=window.open(g||"",ie,dt);fe(pt,v,"popup-blocked");try{pt.focus()}catch{}return new tt(pt)}(g,ie,ll())})()}_openRedirect(g,_,E,R){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(g),function ff(v){On().location.href=v}(yield Pn(g,_,E,an(),R)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:R,promise:N}=this.eventManagers[_];return R?Promise.resolve(R):(ht(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,d.Z)(function*(){const E=yield function C(v){return S.apply(this,arguments)}(g),R=new fl(g);return E.register("authEvent",N=>(fe(N?.authEvent,g,"invalid-auth-event"),{status:R.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:R},_.iframes[g._key()]=E,R})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Da,{type:Da},R=>{var N;const G=null===(N=R?.[0])||void 0===N?void 0:N[Da];void 0!==G&&_(!!G),Me(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Iu(v){return po.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Fs()||le()||Mn()}};class Go{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return Lt("unexpected MultiFactorSessionType")}}}class Fd extends Go{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Fd(g)}_finalizeEnroll(g,_,E){return function wd(v,g){return ut(v,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(v,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function vm(v,g){return ut(v,"POST","/v2/accounts/mfaSignIn:finalize",Gt(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nd=(()=>{class v{constructor(){}static assertion(_){return Fd._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Sm="@firebase/auth";class Tu{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{g(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dc(){return window}(0,U.Pz)("authIdTokenMaxAge"),function O_(v){(0,pe._registerComponent)(new Se.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),R=g.getProvider("heartbeat"),N=g.getProvider("app-check-internal"),{apiKey:G,authDomain:ie}=E.options;fe(G&&!G.includes(":"),"invalid-api-key",{appName:E.name}),fe(!ie?.includes(":"),"argument-error",{appName:E.name});const Ne={apiKey:G,authDomain:ie,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ye(v)},Qe=new Xr(E,R,N,Ne);return function ti(v,g){const _=g?.persistence||[],E=(Array.isArray(_)?_:[_]).map(Hn);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(E,g?.popupRedirectResolver)}(Qe,_),Qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new Se.wA("auth-internal",g=>{const _=An(g.getProvider("auth").getImmediate());return new Tu(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Sm,"0.23.1",function Tm(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,pe.registerVersion)(Sm,"0.23.1","esm2017")}("Browser");const Av=2e3;function Vd(){return Vd=(0,d.Z)(function*(v,g,_){var E;const{BuildInfo:R}=dc();ht(g.sessionId,"AuthEvent did not contain a session ID");const N=yield function ml(v){return Bd.apply(this,arguments)}(g.sessionId),G={};return Mn()?G.ibi=R.packageName:pn()?G.apn=R.packageName:Me(v,"operation-not-supported-in-this-environment"),R.displayName&&(G.appDisplayName=R.displayName),G.sessionId=N,Pn(v,_,g.type,void 0,null!==(E=g.eventId)&&void 0!==E?E:void 0,G)}),Vd.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(v){const{BuildInfo:g}=dc(),_={};Mn()?_.iosBundleId=g.packageName:pn()?_.androidPackageName=g.packageName:Me(v,"operation-not-supported-in-this-environment"),yield zo(v,_)})).apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(v,g,_){const{cordova:E}=dc();let R=()=>{};try{yield new Promise((N,G)=>{let ie=null;function Ne(){var pt;N();const Wn=null===(pt=E.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof Wn&&Wn(),"function"==typeof _?.close&&_.close()}function Qe(){ie||(ie=window.setTimeout(()=>{G(Ae(v,"redirect-cancelled-by-user"))},Av))}function dt(){"visible"===document?.visibilityState&&Qe()}g.addPassiveListener(Ne),document.addEventListener("resume",Qe,!1),pn()&&document.addEventListener("visibilitychange",dt,!1),R=()=>{g.removePassiveListener(Ne),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",dt,!1),ie&&window.clearTimeout(ie)}})}finally{R()}})).apply(this,arguments)}function Bd(){return(Bd=(0,d.Z)(function*(v){const g=function N_(v){if(ht(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),_=new Uint8Array(g);for(let E=0;E<v.length;E++)_[E]=v.charCodeAt(E);return _}(v),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ud=20;class Df extends fl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,d.Z)(function*(){yield g.initPromise})()}}function If(v){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,d.Z)(function*(v){const g=yield Sf()._get(pc(v));return g&&(yield Sf()._remove(pc(v))),g})).apply(this,arguments)}function Am(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<Ud;_++){const E=Math.floor(Math.random()*g.length);v.push(g.charAt(E))}return v.join("")}function Sf(){return Hn(pa)}function pc(v){return q("authEvent",v.config.apiKey,v.name)}function mo(v){if(!v?.includes("?"))return{};const[g,..._]=v.split("?");return(0,U.zd)(_.join("?"))}const zd=class jd{constructor(){this._redirectPersistence=lo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fo,this._overrideRedirectResult=gf}_initialize(g){var _=this;return(0,d.Z)(function*(){const E=g._key();let R=_.eventManagers.get(E);return R||(R=new Df(g),_.eventManagers.set(E,R),_.attachCallbackListeners(g,R)),R})()}_openPopup(g){Me(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,E,R){var N=this;return(0,d.Z)(function*(){!function kv(v){var g,_,E,R,N,G,ie,Ne,Qe,dt;const pt=dc();fe("function"==typeof(null===(g=pt?.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(typeof(null===(_=pt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe("function"==typeof(null===(N=null===(R=null===(E=pt?.cordova)||void 0===E?void 0:E.plugins)||void 0===R?void 0:R.browsertab)||void 0===N?void 0:N.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(Ne=null===(ie=null===(G=pt?.cordova)||void 0===G?void 0:G.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Ne?void 0:Ne.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(dt=null===(Qe=pt?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===dt?void 0:dt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const G=yield N._initialize(g);yield G.initialized(),G.resetRedirect(),function xu(){Ho.clear()}(),yield N._originValidation(g);const ie=function Ta(v,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Am(),postBody:null,tenantId:v.tenantId,error:Ae(v,"no-auth-event")}}(g,E,R);yield function L_(v,g){return Sf()._set(pc(v),g)}(g,ie);const Ne=yield function F_(v,g,_){return Vd.apply(this,arguments)}(g,ie,_),Qe=yield function Rv(v){const{cordova:g}=dc();return new Promise(_=>{g.plugins.browsertab.isAvailable(E=>{let R=null;E?g.plugins.browsertab.openUrl(v):R=g.InAppBrowser.open(v,function cn(v=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),_(R)})})}(Ne);return function hc(v,g,_){return Mu.apply(this,arguments)}(g,G,Qe)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Cf(v){return pl.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:E,handleOpenURL:R,BuildInfo:N}=dc(),G=setTimeout((0,d.Z)(function*(){yield If(g),_.onEvent(km())}),500),ie=function(){var dt=(0,d.Z)(function*(pt){clearTimeout(G);const Wn=yield If(g);let _o=null;Wn&&pt?.url&&(_o=function fc(v,g){var _,E;const R=function Mf(v){const g=mo(v),_=g.link?decodeURIComponent(g.link):void 0,E=mo(_).link,R=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return mo(R).link||R||E||_||v}(g);if(R.includes("/__/auth/callback")){const N=mo(R),G=N.firebaseError?function Tf(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,ie=null===(E=null===(_=G?.code)||void 0===_?void 0:_.split("auth/"))||void 0===E?void 0:E[1],Ne=ie?Ae(ie):null;return Ne?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:R,postBody:null}}return null}(Wn,pt.url)),_.onEvent(_o||km())});return function(Wn){return dt.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,ie);const Ne=R,Qe=`${N.packageName.toLowerCase()}://`;dc().handleOpenURL=function(){var dt=(0,d.Z)(function*(pt){if(pt.toLowerCase().startsWith(Qe)&&ie({url:pt}),"function"==typeof Ne)try{Ne(pt)}catch(Wn){console.error(Wn)}});return function(pt){return dt.apply(this,arguments)}}()}};function km(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ae("no-auth-event")}}const Pm=1e3;function Hs(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function gl(v=(0,U.z$)()){return!("file:"!==Hs()&&"ionic:"!==Hs()&&"capacitor:"!==Hs()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fv(){try{const v=self.localStorage,g=ll();if(v)return v.setItem(g,"1"),v.removeItem(g),!function Pv(v=(0,U.z$)()){return function Au(){return(0,U.w1)()&&11===document?.documentMode}()||function Ov(v=(0,U.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,U.hl)()}catch{return Fm()&&(0,U.hl)()}return!1}function Fm(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wd(){return(function Gd(){return"http:"===Hs()||"https:"===Hs()}()||(0,U.ru)()||gl())&&!function qd(){return(0,U.b$)()||(0,U.UG)()}()&&Fv()&&!Fm()}function V_(){return gl()&&typeof document<"u"}function Ru(){return(Ru=(0,d.Z)(function*(){return!!V_()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},Pm);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const as={LOCAL:"local",NONE:"none",SESSION:"session"},mc=fe,Lm="persistence";function Vm(v){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,d.Z)(function*(v){yield v._initializationPromise;const g=Um(),_=q(Lm,v.config.apiKey,v.name);g&&g.setItem(_,v._getPersistence())})).apply(this,arguments)}function Um(){var v;try{return(null===(v=function Nm(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Hm=fe;class ir{constructor(){this.browserResolver=Hn(Es),this.cordovaResolver=Hn(zd),this.underlyingResolver=null,this._redirectPersistence=lo,this._completeRedirectFn=fo,this._overrideRedirectResult=gf}_initialize(g){var _=this;return(0,d.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,E,R){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(g,_,E,R)})()}_openRedirect(g,_,E,R){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(g,_,E,R)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return V_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,d.Z)(function*(){if(g.underlyingResolver)return;const _=yield function B_(){return Ru.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function $r(v){return v.unwrap()}function U_(v){return j_(v)}function j_(v){const{_tokenResponse:g}=v instanceof U.ZR?v.customData:v;if(!g)return null;if(!(v instanceof U.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return ot.credentialFromResult(v);const _=g.providerId;if(!_||_===ve.PASSWORD)return null;let E;switch(_){case ve.GOOGLE:E=Ul;break;case ve.FACEBOOK:E=fd;break;case ve.GITHUB:E=Zh;break;case ve.TWITTER:E=qc;break;default:const{oauthIdToken:R,oauthAccessToken:N,oauthTokenSecret:G,pendingToken:ie,nonce:Ne}=g;return N||G||R||ie?ie?_.startsWith("saml.")?Po._create(_,ie):to._fromParams({providerId:_,signInMethod:_,pendingToken:ie,idToken:R,accessToken:N}):new sa(_).credential({idToken:R,accessToken:N,rawNonce:Ne}):null}return v instanceof U.ZR?E.credentialFromError(v):E.credentialFromResult(v)}function qi(v,g){return g.catch(_=>{throw _ instanceof U.ZR&&function H_(v,g){var _;const E=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new kf(v,function ou(v,g){var _;const E=(0,U.m9)(v),R=g;return fe(g.customData.operationType,E,"argument-error"),fe(null===(_=R.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),ca._fromError(E,R)}(v,g));else if(E){const R=j_(g),N=g;R&&(N.credential=R,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(v,_),_}).then(_=>{const R=_.user;return{operationType:_.operationType,credential:U_(_),additionalUserInfo:bd(_),user:Wo.getOrCreate(R)}})}function Af(v,g){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,d.Z)(function*(v,g){const _=yield g;return{verificationId:_.verificationId,confirm:E=>qi(v,_.confirm(E))}})).apply(this,arguments)}class kf{constructor(g,_){this.resolver=_,this.auth=function ku(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return qi($r(this.auth),this.resolver.resolveSignIn(g))}}class Wo{constructor(g){this._delegate=g,this.multiFactor=function uf(v){const g=(0,U.m9)(v);return Vo.has(g)||Vo.set(g,ha._fromUser(g)),Vo.get(g)}(g)}static getOrCreate(g){return Wo.USER_MAP.has(g)||Wo.USER_MAP.set(g,new Wo(g)),Wo.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,d.Z)(function*(){return qi(_.auth,Jh(_._delegate,g))})()}linkWithPhoneNumber(g,_){var E=this;return(0,d.Z)(function*(){return Af(E.auth,function mu(v,g,_){return gu.apply(this,arguments)}(E._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,d.Z)(function*(){return qi(_.auth,function wt(v,g,_){return Ad.apply(this,arguments)}(_._delegate,g,ir))})()}linkWithRedirect(g){var _=this;return(0,d.Z)(function*(){return yield Vm(An(_.auth)),Fi(_._delegate,g,ir)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,d.Z)(function*(){return qi(_.auth,ef(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Af(this.auth,function _u(v,g,_){return yu.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return qi(this.auth,function ac(v,g,_){return Uo.apply(this,arguments)}(this._delegate,g,ir))}reauthenticateWithRedirect(g){var _=this;return(0,d.Z)(function*(){return yield Vm(An(_.auth)),hl(_._delegate,g,ir)})()}sendEmailVerification(g){return function tu(v,g){return Kl.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,d.Z)(function*(){return yield function Qh(v,g){return mr.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function tr(v,g){return qn((0,U.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function oo(v,g){return qn((0,U.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function gn(v,g){return zr.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function fm(v,g){return iu.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function _d(v,g,_){return Zl.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wo.USER_MAP=new WeakMap;const _c=fe;let jm=(()=>{class v{constructor(_,E){if(this.app=_,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=_.options;_c(R,"invalid-api-key",{appName:_.name}),_c(R,"invalid-api-key",{appName:_.name});const N=typeof window<"u"?ir:void 0;this._delegate=E.initialize({options:{persistence:go(R,_.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,E){!function Nl(v,g,_){const E=An(v);fe(E._canInitEmulator,E,"emulator-config-failed"),fe(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const R=!!_?.disableWarnings,N=Ro(g),{host:G,port:ie}=function en(v){const g=Ro(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(E);if(R){const N=R[1];return{host:N,port:Ll(E.substr(N.length+1))}}{const[N,G]=E.split(":");return{host:N,port:Ll(G)}}}(g);E.config.emulator={url:`${N}//${G}${null===ie?"":`:${ie}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:G,port:ie,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function na(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,_,E)}applyActionCode(_){return function T_(v,g){return so.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return ql(this._delegate,_)}confirmPasswordReset(_,E){return function nf(v,g,_){return Qc.apply(this,arguments)}(this._delegate,_,E)}createUserWithEmailAndPassword(_,E){var R=this;return(0,d.Z)(function*(){return qi(R._delegate,function aa(v,g,_){return ts.apply(this,arguments)}(R._delegate,_,E))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function sf(v,g){return eu.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function M_(v,g){return"EMAIL_SIGNIN"===el.parseLink(g)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,d.Z)(function*(){_c(Wd(),_._delegate,"operation-not-supported-in-this-environment");const E=yield function ii(v,g){return ss.apply(this,arguments)}(_._delegate,ir);return E?qi(_._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Om(v,g){An(v)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,E,R){const{next:N,error:G,complete:ie}=yc(_,E,R);return this._delegate.onAuthStateChanged(N,G,ie)}onIdTokenChanged(_,E,R){const{next:N,error:G,complete:ie}=yc(_,E,R);return this._delegate.onIdTokenChanged(N,G,ie)}sendSignInLinkToEmail(_,E){return function Wl(v,g,_){return Xc.apply(this,arguments)}(this._delegate,_,E)}sendPasswordResetEmail(_,E){return function Yc(v,g,_){return Mr.apply(this,arguments)}(this._delegate,_,E||void 0)}setPersistence(_){var E=this;return(0,d.Z)(function*(){let R;switch(function gc(v,g){mc(Object.values(as).includes(g),v,"invalid-persistence-type"),(0,U.b$)()?mc(g!==as.SESSION,v,"unsupported-persistence-type"):(0,U.UG)()?mc(g===as.NONE,v,"unsupported-persistence-type"):Fm()?mc(g===as.NONE||g===as.LOCAL&&(0,U.hl)(),v,"unsupported-persistence-type"):mc(g===as.NONE||Fv(),v,"unsupported-persistence-type")}(E._delegate,_),_){case as.SESSION:R=lo;break;case as.LOCAL:R=(yield Hn(ya)._isAvailable())?ya:pa;break;case as.NONE:R=Sr;break;default:return Me("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return qi(this._delegate,function zi(v){return tl.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return qi(this._delegate,zl(this._delegate,_))}signInWithCustomToken(_){return qi(this._delegate,function be(v,g){return Yt.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,E){return qi(this._delegate,function rf(v,g,_){return zl((0,U.m9)(v),Kh.credential(g,_))}(this._delegate,_,E))}signInWithEmailLink(_,E){return qi(this._delegate,function Ei(v,g,_){return il.apply(this,arguments)}(this._delegate,_,E))}signInWithPhoneNumber(_,E){return Af(this._delegate,function Em(v,g,_){return wa.apply(this,arguments)}(this._delegate,_,E))}signInWithPopup(_){var E=this;return(0,d.Z)(function*(){return _c(Wd(),E._delegate,"operation-not-supported-in-this-environment"),qi(E._delegate,function ul(v,g,_){return dl.apply(this,arguments)}(E._delegate,_,ir))})()}signInWithRedirect(_){var E=this;return(0,d.Z)(function*(){return _c(Wd(),E._delegate,"operation-not-supported-in-this-environment"),yield Vm(E._delegate),_f(E._delegate,_,ir)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function es(v,g){return Vs.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=as,v})();function yc(v,g,_){let E=v;"function"!=typeof v&&({next:E,error:g,complete:_}=v);const R=E;return{next:G=>R(G&&Wo.getOrCreate(G)),error:g,complete:_}}function go(v,g){const _=function Nv(v,g){const _=Um();if(!_)return[];const E=q(Lm,v,g);switch(_.getItem(E)){case as.NONE:return[Sr];case as.LOCAL:return[ya,lo];case as.SESSION:return[lo];default:return[]}}(v,g);if(typeof self<"u"&&!_.includes(ya)&&_.push(ya),typeof window<"u")for(const E of[pa,lo])_.includes(E)||_.push(E);return _.includes(Sr)||_.push(Sr),_}class bc{constructor(){this.providerId="phone",this._delegate=new ot($r(se.Z.auth()))}static credential(g,_){return ot.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}bc.PHONE_SIGN_IN_METHOD=ot.PHONE_SIGN_IN_METHOD,bc.PROVIDER_ID=ot.PROVIDER_ID;const Ou=fe;class z_{constructor(g,_,E=se.Z.app()){var R;Ou(null===(R=E.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Td(g,_,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G_(v){v.INTERNAL.registerComponent(new Se.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),E=g.getProvider("auth");return new jm(_,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:te_EMAIL_SIGNIN,PASSWORD_RESET:te_PASSWORD_RESET,RECOVER_EMAIL:te_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:te_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:te_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:te_VERIFY_EMAIL}},EmailAuthProvider:Kh,FacebookAuthProvider:fd,GithubAuthProvider:Zh,GoogleAuthProvider:Ul,OAuthProvider:sa,SAMLAuthProvider:Gc,PhoneAuthProvider:bc,PhoneMultiFactorGenerator:Nd,RecaptchaVerifier:z_,TwitterAuthProvider:qc,Auth:jm,AuthCredential:Ns,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.1")}(se.Z)},5861:(At,Re,H)=>{function d(U,pe,me,oe,Se,Te,ve){try{var Y=U[Te](ve),K=Y.value}catch(te){return void me(te)}Y.done?pe(K):Promise.resolve(K).then(oe,Se)}function se(U){return function(){var pe=this,me=arguments;return new Promise(function(oe,Se){var Te=U.apply(pe,me);function ve(K){d(Te,oe,Se,ve,Y,"next",K)}function Y(K){d(Te,oe,Se,ve,Y,"throw",K)}ve(void 0)})}}H.d(Re,{Z:()=>se})}},At=>{At(At.s=3881)}]);